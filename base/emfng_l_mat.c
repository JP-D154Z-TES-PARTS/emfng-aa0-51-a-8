/* emfng-pa000-5000-a-M4 */
/*********************************************************************/
/*  Copyright Toyota Motor Corporation                               */
/*********************************************************************/

/*********************************************************************/
/* ÉIÉuÉWÉFÉNÉgñº |  é∏âŒåüèoàŸèÌîªíËïî                              */
/* íçà”éñçÄ       | Åyé∏âŒOBDóLÅzAND(Åy4ãCìõÅzORÅy6ãCìõÅz)           */
/*-------------------------------------------------------------------*/
/*     å¬ï ïœçXóöó Åiå¬ï ïœçXéûÇÕà»â∫Ç…ïœçXì˙ÅAì‡óeÇãLì¸Ç∑ÇÈÇ±Ç∆Åj */
/*********************************************************************/

/*-------------------------------------------------------------------*/
/* ÉwÉbÉ_ÉtÉ@ÉCÉãÇÃÉCÉìÉNÉãÅ[Éh                                      */
/*-------------------------------------------------------------------*/
#include <../inc/common.h>
#include <../inc/gllib.h>
#include <engsrc/espc/ejcc.h>           /* JEEFI,JEEGTYPE,JEHIPFI_E,JEMAT_OBD2,JEMFFC */
                                        /* JEMFHOUKI,JEMFMETHOD_D,u1g_EJCC_TIME_D,u1g_EJCC_OMEGA_D */
                                        /* JENCYL,JEOOBD,u1g_EJCC_NCYL,JEMFDTC_D */
                                        /* JETCORE_D,JEOBDUDS_D,JERLOK,JENGPF_E */
                                        /* u1g_ejcc_NCYL,u1g_EJCC_DUAL,u1g_EJCC_6CYL,u1g_EJCC_4CYL,u1g_EJCC_USAMF,u1g_EJCC_NOT_USAMF,u1g_EJCC_V6CYL,u1g_EJCC_L6CYL */
#include <engsrc/inc/elsb.h>
#include <engsrc/inc/elib.h>

#include <obd/wfh/wsentivchg.h>         /* u1g_wsentivchg_state,u1g_WSENTIVCHG_IUE,u1g_WSENTIVCHG_LVL2 */
#include <obd/wfh/wdiaginfclr.h>        /* big_wdiaginfclr_xreqclr */
#if JEOBDUDS_D == u1g_EJCC_USE          /*ÅyOBDonUDSëŒâûóLÅz*/
#include <obd/wfh/wpsajdg.h>            /* big_wpsajdg_xpsa */
#endif
#if JEMAT_OBD2 == u1g_EJCC_NOT_USE      /*ÅyOBD2ìKçáñ≥Åz*/
#include <obd/wbp/wobd2msk.h>           /* big_wobd2msk_xmfKwp */
#endif
#if JEMFDTC_D == u1g_EJCC_USE           /*Åyé∏âŒOBD DTCóLÅz*/
#include <obd/wfd/wmf_fdi.h>            /* big_wmf_fdi_xem_lstpnd,big_wmf_fdi_xot_lstpnd,big_wmf_fdi_xot_warning */
                                        /* big_wmf_fdi_xem_warning,vdg_wmf_fdi_ot_fald_u1(),vdg_wmf_fdi_em_fald_u1(),vdg_wmf_fdi_ot_excmf() */
                                        /* vdg_wmf_fdi_em_excmf(),vdg_wmf_fdi_mil_blink_u1(),vdg_wmf_fdi_ot_imdf(),vdg_wmf_fdi_ot_imdnf() */
                                        /* vdg_wmf_fdi_pas_u2u1(),u1g_WMF_FDI_OUTOF_FTPCYCLE,u1g_WMF_FDI_DURING_FTPCYCLE */
                                        /* u1g_WMF_FDI_WITHIN_FIRST1000RPM,u1g_WMF_FDI_AFTER_FIRST1000RPM,u2g_WMF_FDI_ID_OT */
                                        /* big_wmf_fdi_xot_pnd,big_wmf_fdi_xem_pnd,vdg_wmf_fdi_ot_excmf_u2u1(),vdg_wmf_fdi_em_excmf_u2u1(),u2g_WMF_FDI_ID_EM */
#endif
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )  /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
#include <obd/wspc/wtcif.h>             /* u1g_wtcif_dem_setdtr_u2s4s4s4u1(),u2g_WTCIF_DEM_DTR_ECDMFAEM,u1g_WTCIF_DEM_DTR_CTL_NORMAL */
                                        /* u2g_WTCIF_DEM_DTR_ECDMFEM1,u2g_WTCIF_DEM_DTR_ECDMFEM2,u2g_WTCIF_DEM_DTR_ECDMFEM3 */
                                        /* u2g_WTCIF_DEM_DTR_ECDMFEM4,u2g_WTCIF_DEM_DTR_ECDMFEM5,u2g_WTCIF_DEM_DTR_ECDMFEM6 */
                                        /* u2g_WTCIF_DEM_DTR_ECDMFAV1,u2g_WTCIF_DEM_DTR_ECDMFAV2,u2g_WTCIF_DEM_DTR_ECDMFAV3 */
                                        /* u2g_WTCIF_DEM_DTR_ECDMFAV4,u2g_WTCIF_DEM_DTR_ECDMFAV5,u2g_WTCIF_DEM_DTR_ECDMFAV6,u2g_WTCIF_DEM_DTR_ECDMFAAV */
#endif
#if JENGPF_E != u1g_EJCC_NOT_USE        /*ÅyGPFóLÅz*/
#include <engsrc/efunc/efuncin/egpfrgcnd/egpfrgcnd.h>              /* u1g_egpfrgcnd_exgpfrgsrv */
#include <engsrc/efunc/eemi/egpf/egpfhtum/egpfhtum.h>              /* u1g_egpfhtum_exdth,u1g_egpfhtum_exeff */
 #if JERLOK == u1g_EJCC_USE             /*ÅyÿØ¡ÿ∞›â^ì]â¬Åz*/
#include <engsrc/efunc/eemi/egpf/egpfrgum.h>                       /* u1g_egpfrgum_exrgact */
 #endif
#endif
#include <engsrc/eserv/emem/ememctr.h>              /* s4g_ememctr_write(),s4g_ememctr_read() */
                                                    /* u2g_EMFNG_EONEMFMLT_U1_ID,u2g_EMFNG_EXRCDMF_U1_ID */
                                                    /* u2g_EMFNG_EOCDMFAE2MX_U1_ID,u2g_EMFNG_EOCJREVEM_U1_ID */
                                                    /* u2g_EMFNG_EOTHWEM_S1_ID,u2g_EMFNG_EOTHAEM_S1_ID */
                                                    /* u2g_EMFNG_EOCDMFEM2MX1_U1_ID,u2g_EMFNG_EOCDMFEM2MX2_U1_ID */
                                                    /* u2g_EMFNG_EOCDMFEM2MX3_U1_ID,u2g_EMFNG_EOCDMFEM2MX4_U1_ID */
                                                    /* u2g_EMFNG_EOCDMFEM2MX5_U1_ID,u2g_EMFNG_EOCDMFEM2MX6_U1_ID */
                                                    /* u2g_EMFNG_EOSPDEMAV_U1_ID,u2g_EMFNG_EONEEMAV_U1_ID */
                                                    /* u2g_EMFNG_EOKLSMEMAV_U1_ID,u2g_EMFNG_EOCJMFNEEMI_U1_ID */
                                                    /* u2g_EMFNG_EOCJMFNEEML_U1_ID,u2g_EMFNG_EOCJMFNEEMH_U1_ID */
                                                    /* u2g_EMFNG_EOCDMFAOTMX_U1_ID,u2g_EMFNG_EOCJREVOT_U1_ID */
                                                    /* u2g_EMFNG_EOTHWOT_S1_ID,u2g_EMFNG_EOTHAOT_S1_ID */
                                                    /* u2g_EMFNG_EOCMFNL_U2_ID,u2g_EMFNG_EOCMFNM_U2_ID */
                                                    /* u2g_EMFNG_EOCMFNH_U2_ID,u2g_EMFNG_EOCMFMLTL_U2_ID */
                                                    /* u2g_EMFNG_EOCMFMLTH_U2_ID,u2g_EMFNG_ECDMFAEMMXTL_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMMXTL1_U2_ID,u2g_EMFNG_ECDMFEMMXTL2_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMMXTL3_U2_ID,u2g_EMFNG_ECDMFEMMXTL4_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMMXTL5_U2_ID,u2g_EMFNG_ECDMFEMMXTL6_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAAVMXTL_U2_ID,u2g_EMFNG_ECDMFAVMXTL1_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVMXTL2_U2_ID,u2g_EMFNG_ECDMFAVMXTL3_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVMXTL4_U2_ID,u2g_EMFNG_ECDMFAVMXTL5_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVMXTL6_U2_ID,u2g_EMFNG_ECDMFAEMTV_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAEMMNTL_U2_ID,u2g_EMFNG_ECDMFAAVTV_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAAVMNTL_U2_ID,u2g_EMFNG_ECDMFEMTV1_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMTV2_U2_ID,u2g_EMFNG_ECDMFEMTV3_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMTV4_U2_ID,u2g_EMFNG_ECDMFEMTV5_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMTV6_U2_ID,u2g_EMFNG_ECDMFEMMNTL1_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMMNTL2_U2_ID,u2g_EMFNG_ECDMFEMMNTL3_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMMNTL4_U2_ID,u2g_EMFNG_ECDMFEMMNTL5_U2_ID */
                                                    /* u2g_EMFNG_ECDMFEMMNTL6_U2_ID,u2g_EMFNG_ECDMFAVTV1_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVTV2_U2_ID,u2g_EMFNG_ECDMFAVTV3_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVTV4_U2_ID,u2g_EMFNG_ECDMFAVTV5_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVTV6_U2_ID,u2g_EMFNG_ECDMFAVMNTL1_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVMNTL2_U2_ID,u2g_EMFNG_ECDMFAVMNTL3_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVMNTL4_U2_ID,u2g_EMFNG_ECDMFAVMNTL5_U2_ID */
                                                    /* u2g_EMFNG_ECDMFAVMNTL6_U2_ID */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE ) /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
#include <engsrc/eactmedi/einj/eminj.h>             /* s2g_eminj_ekpfi */
#endif
#include <engsrc/estate/esin/ene.h>                 /* s2g_ene_ene */
#include <engsrc/estate/esin/espd.h>                /* s2g_espd_espd */
#include <engsrc/estate/esin/etha.h>                /* s2g_etha_etha */
#include <engsrc/estate/estepin/exst.h>             /* u1g_exst_exastnrm */
#include <engsrc/etranfwd/etemp/ethw.h>             /* s2g_ethw_ethw */
#include <engsrc/espc/eengspc.h>                    /* u1g_eengspc_ewcnvt_tbl[] */
#include <eng/ekl/eklset.h>                         /* s2g_eklset_eklsm */

#if ( JEOOBD == u1g_EJCC_USE ) && ( JENCYL == u1g_EJCC_6CYL )   /*ÅyésèÍí≤ç∏óLÅzANDÅy6ãCìõÅz*/
#include <eng/eobd/eobdsm.h>            /* s2g_eobdsm_enejsm */
#endif

#include <eng/emf/emfcc.h>              /* s2g_emfcc_edltmaxlh,s2g_emfcc_edltmaxhh */
                                        /* s2g_emfcc_ewmaxl,s2g_emfcc_ewmaxh */
#include <eng/emf/emfccrnk.h>           /* u1g_EMFCCRNK_DLTMFL_TIMMING,s2g_emfccrnk_edltmflxh[] */
                                        /* u1g_EMFCCRNK_DDTCRX_TIMMING,s2g_emfccrnk_eddtcrxh[] */
                                        /* s2g_emfccrnk_ewmfl[],s2g_emfccrnk_ewmfh[],s2g_emfccrnk_ewmfhp[] */
#include <eng/emf/emfcnt.h>             /* u1g_EMFCNT_NOT,big_emfcnt_exptnup,s2g_emfcnt_MFSPD */
                                        /* u1g_EMFCNT_LOW,u1g_EMFCNT_HIGH,u1g_EMFCNT_OPPS */
                                        /* u1g_EMFCNT_MLT,u1g_EMFCNT_CYL() */
#include <eng/emf/emfinftp.h>           /* big_emfinftp_exinftp */
#include <eng/emf/emfne.h>              /* u1g_emfne_ejmfne,u1g_EMFNE_REV_IDLE1,u1g_EMFNE_REV_IDLE2 */
                                        /* u1g_EMFNE_REV_LOW,u1g_EMFNE_REV_HIGH */
#include <eng/emf/emfok.h>              /* s2g_emfok_NGDI,s2g_emfok_NGPFI,emfok_roughcnt() */
                                        /* emfok_mfneld_set(),emfok_mfareacnt_ann_u1u1() */
                                        /* emfok_mfneld_ann(),emfok_mfcmodclr() */

#if JEMFFC == u1g_EJCC_USE              /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
#include <eng/emf/emffc.h>              /* u1g_emffc_exfcbi */
#endif

#include <eng/emf/emfng.h>

/*-------------------------------------------------------------------*/
/* ÉRÉìÉpÉCÉâÉoÅ[ÉWÉáÉìíËã`                                          */
/*-------------------------------------------------------------------*/
#define MK32_ID                         (0x00000040)             /* R9ÉRÉìÉpÉCÉâÇégóp */

#ifdef __GHS_VERSION_NUMBER
 #if ( ( __GHS_VERSION_NUMBER >= 201355 ) \
    && ( __GHS_VERSION_NUMBER < 201400 ) )
 #else
  #error "ÉRÉìÉpÉCÉãÇ≥ÇÍÇÈÉRÉìÉpÉCÉâÇ™àŸÇ»Ç¡ÇƒÇ¢Ç‹Ç∑ÅB"
 #endif
#endif

/*-------------------------------------------------------------------*/
/* ÉRÉìÉpÉCÉãSWñ¢íËã`É`ÉFÉbÉN                                        */
/*-------------------------------------------------------------------*/
#if !defined JEEFI
#error "JEEFI is undeclared"
#endif

#if !defined JEEGTYPE
#error "JEEGTYPE is undeclared"
#endif

#if !defined JEHIPFI_E
#error "JEHIPFI_E is undeclared"
#endif

#if !defined JEMAT_OBD2
#error "JEMAT_OBD2 is undeclared"
#endif

#if !defined JEMFFC
#error "JEMFFC is undeclared"
#endif

#if !defined JEMFHOUKI
#error "JEMFHOUKI is undeclared"
#endif

#if !defined JEMFMETHOD_D
#error "JEMFMETHOD_D is undeclared"
#endif

#if !defined u1g_EJCC_TIME_D
#error "u1g_EJCC_TIME_D is undeclared"
#endif

#if !defined u1g_EJCC_OMEGA_D
#error "u1g_EJCC_OMEGA_D is undeclared"
#endif

#if !defined JENCYL
#error "JENCYL is undeclared"
#endif

#if !defined JEOOBD
#error "JEOOBD is undeclared"
#endif

#if !defined u1g_EJCC_NCYL
#error "u1g_EJCC_NCYL is undeclared"
#endif

#if !defined JEMFDTC_D
#error "JEMFDTC_D is undeclared"
#endif

#if !defined JETCORE_D
#error "JETCORE_D is undeclared"
#endif

#if !defined JEOBDUDS_D
#error "JEOBDUDS_D is undeclared"
#endif

#if !defined JERLOK
#error "JERLOK is undeclared"
#endif

#if !defined JENGPF_E
#error "JENGPF_E is undeclared"
#endif

#if !defined u1g_EJCC_DUAL
#error "u1g_EJCC_DUAL is undeclared"
#endif

#if !defined u1g_EJCC_6CYL
#error "u1g_EJCC_6CYL is undeclared"
#endif

#if !defined u1g_EJCC_4CYL
#error "u1g_EJCC_4CYL is undeclared"
#endif

#if !defined u1g_EJCC_USAMF
#error "u1g_EJCC_USAMF is undeclared"
#endif

#if !defined u1g_EJCC_NOT_USAMF
#error "u1g_EJCC_NOT_USAMF is undeclared"
#endif

#if !defined u1g_EJCC_V6CYL
#error "u1g_EJCC_V6CYL is undeclared"
#endif

#if !defined u1g_EJCC_L6CYL
#error "u1g_EJCC_L6CYL is undeclared"
#endif

/*-------------------------------------------------------------------*/
/* ìKçáíl                                                            */
/*-------------------------------------------------------------------*/

/*-------------------------------------------------------------------*/
/* å^íËã`                                                            */
/*-------------------------------------------------------------------*/

/*---------------------------------------------------------------------*/
/* macroíËã`                                                           */
/*---------------------------------------------------------------------*/
/* $$$É}ÉNÉçíËêî_ïWèÄ_v4.11 */
#define u1s_EMFNG_MFSTOTI ((u1)(((173.)/(1.))+0.5))                     /* m=emfng,lsb=1,ofs=,unit=âÒ :±≤ƒﬁŸíÜëSãCìõé∏âŒâÒêîîªíËílè„å¿ */

#if (JETCORE_D == u1g_EJCC_USE) && (JEOBDUDS_D == u1g_EJCC_USE)         /* Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûóLÅz */
#define u1s_EMFNG_CXMF1PAS ((u1)(((0.)/(1.))+0.5))                      /* m=emfng,lsb=1,ofs=,unit=âÒ :ÉåÉfÉBÉlÉXóp êGî}OTé∏âŒâÒêîîªíËíl */
#define u1s_EMFNG_CXMFPAS ((u1)(((0.)/(1.))+0.5))                       /* m=emfng,lsb=1,ofs=,unit=âÒ :ÉåÉfÉBÉlÉXóp EMà´âªé∏âŒâÒêîîªíËíl */
#endif                                                                  /* JETCORE_D JEOBDUDS_D */

/* $$$É}ÉNÉçíËêî_ïWèÄ_v4.11 */

#define u1s_EMFNG_NCYLW      ((u1)(u1g_ejcc_NCYL >> 1))       /* ãCìõåQêî */

/*-------------------------------------------------------------------*/
/* ïœêîíËã`                                                          */
/*-------------------------------------------------------------------*/
/* ÉOÉçÅ[ÉoÉãïœêî */
/* emfì‡Ç…ÇÃÇ›åˆäJ */
u2 u2g_emfng_ekldmfae;       /* m=emfng,lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸé∏âŒîªíËíl */
u1 u1g_emfng_ecdmfaotbnk[2]; /* m=emfng,lsb=1,unit=âÒ : ﬁ›∏ï êGî}OT⁄ÕﬁŸé∏âŒ∂≥›¿ */
                             /* 1ÉoÉìÉNÇ≈Ç‡2ÉoÉìÉNï™ÇÃóÃàÊÇämï€Ç∑ÇÈ */
#if JEMFFC == u1g_EJCC_USE   /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
u1 u1g_emfng_exdmffc;        /* m=emfng,lsb=1 :FCµÃﬂºÆ›îªíËópêGî}OT⁄ÕﬁŸàŸèÌí ímÃ◊∏ﬁ */
#endif
u1 u1g_emfng_ecdmfaot;       /* m=emfng,lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
u2 u2g_emfng_ecdmfaoti;      /* m=emfng,lsb=1,unit=âÒ :±≤ƒﬁŸíÜëSãCìõé∏âŒ∂≥›¿ */
u2 u2g_emfng_ecdmfae2;       /* m=emfng,lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
u1 u1g_emfng_ecdmfaem;       /* m=emfng,lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
u2 u2g_emfng_ecjmfot;        /* m=emfng,lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :êGî}OT⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ */
u2 u2g_emfng_ecjmfoti;       /* m=emfng,lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :êGî}OT⁄ÕﬁŸ±≤ƒﬁŸéûé∏âŒåüèoãñâ¬∂≥›¿ */
u2 u2g_emfng_ecjmfem;        /* m=emfng,lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :EMà´âª⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ */
u2 u2g_emfng_ekldmfot;       /* m=emfng,lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸé∏âŒâÒêîîªíËíl */
u2 u2g_emfng_ekldmfoth_mcr;  /* m=emfng,lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl) */
u2 u2g_emfng_eldmfaem_mcr;   /* m=emfng,lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl) */

stflag8 stg_emfng_flag1;     /* m=emfng :ÉOÉçÅ[ÉoÉãÉtÉâÉOópç\ë¢ëÃ(16msl,65msl,drvclchgÉ^ÉCÉ~ÉìÉO) */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
stflag8 stg_emfng_flag2;     /* m=emfng :ÉOÉçÅ[ÉoÉãÉtÉâÉOópç\ë¢ëÃ(65msl,drvclchgÉ^ÉCÉ~ÉìÉO) */
#endif
#if JETCORE_D == u1g_EJCC_USE                           /*Åyt-COREëŒâûóLÅz*/
stflag8 stg_emfng_flag3;     /* m=emfng :ÉOÉçÅ[ÉoÉãÉtÉâÉOópç\ë¢ëÃ(65msl,drvclchgÉ^ÉCÉ~ÉìÉO) */
#endif
u1 u1g_emfng_ecdmfem[u1g_EJCC_NCYL];    /* m=emfng,lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
u2 u2g_emfng_ecdmfem2[u1g_EJCC_NCYL];   /* m=emfng,lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
u1 u1g_emfng_ecdmfemi[u1g_EJCC_NCYL];   /* m=emfng,lsb=1,unit=âÒ :±≤ƒﬁŸíÜãCìõï é∏âŒ∂≥›¿ */
u1 u1g_emfng_ecdtmf2;                   /* m=emfng,lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸîªíËópà´òH∂≥›¿ */
u2 u2g_emfng_ecmfot;                    /* m=emfng,lsb=1,unit=âÒ :ï°êîãCìõé∏âŒ∂≥›¿ */
u1 u1g_emfng_ecdmfw[u1g_EJCC_NCYL/2];   /* m=emfng,lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒ∂≥›¿ */

/* ÉXÉ^ÉeÉBÉbÉNïœêî */
static u1 u1s_emfng_ecjpmf;    /* lsb=1,unit=âÒ :æﬁ€∏€Ω∂≥›¿ */
static u2 u2s_emfng_ecdtmfwa;  /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸîªíËópà´òH∂≥›¿ */
static u1 u1s_emfng_ecxmf1;    /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸàŸèÌåüèoâÒêî */
static u1 u1s_emfng_ecxmf;     /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸàŸèÌåüèoâÒêî */
static u1 u1s_emfng_ecjemrev;  /* lsb=1,unit=âÒ :énìÆå„EMà´âª⁄ÕﬁŸîªíËâÒêî */
#if JEOOBD == u1g_EJCC_USE     /*ÅyésèÍí≤ç∏óLÅz*/
static s4 s4s_emfng_espdaem;   /* lsb=256/256,unit=km/h :1000revä‘ÇÃé‘ë¨ó›êœíl */
static s4 s4s_emfng_eneaem;    /* lsb=12800/64/256,unit=rpm :1000revä‘ÇÃ¥›ºﬁ›âÒì]êîó›êœíl */
static s4 s4s_emfng_eklsmaem;  /* lsb=320/64/256,unit=% :1000revä‘ÇÃ¥›ºﬁ›ïââ◊ó›êœíl */
static u1 u1s_emfng_ecjmfneemi; /* lsb=1,unit=âÒ :1000revä‘ÇÃ±≤ƒﬁŸ”∞ƒﬁâÒêî */
static u1 u1s_emfng_ecjmfneeml; /* lsb=1,unit=âÒ :1000revä‘ÇÃ€∞”∞ƒﬁâÒêî */
static u1 u1s_emfng_ecjmfneemh; /* lsb=1,unit=âÒ :1000revä‘ÇÃ ≤”∞ƒﬁâÒêî */
#endif
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
static u2 u2s_emfng_ecjmfdi;    /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :DIé∏âŒåüèoãñâ¬∂≥›¿ */
static u2 u2s_emfng_ecjmfpfi;   /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :PFIé∏âŒåüèoãñâ¬∂≥›¿ */
static u1 u1s_emfng_ecdmfdi[u1g_EJCC_NCYL];      /* lsb=1,unit=âÒ :ãCìõï DIé∏âŒ∂≥›¿ */
static u1 u1s_emfng_ecdmfpfi[u1g_EJCC_NCYL];     /* lsb=1,unit=âÒ :ãCìõï PFIé∏âŒ∂≥›¿ */
static u1 u1s_emfng_exdmfdim[u1g_EJCC_NCYL];     /* lsb=1 :ãCìõï DIàŸèÌê¨óßÃ◊∏ﬁ */
static u1 u1s_emfng_exdmfpfim[u1g_EJCC_NCYL];    /* lsb=1 :ãCìõï PFIàŸèÌê¨óßÃ◊∏ﬁ */
#endif
static u1 u1s_emfng_ekldmfw1_mcr; /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîîªíËâ∫å¿íl(åvéZíl) */
#if JENCYL == u1g_EJCC_6CYL       /*Åy6ãCìõÅz*/
static u1 u1s_emfng_ekldmfw2_mcr; /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîîªíËè„å¿íl(åvéZíl) */
#endif
static u2 u2s_emfng_eldmfst1_mcr; /* lsb=1,unit=âÒ :∫∞ŸƒﬁΩ¿∞ƒéûEMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl) */
static u2 u2s_emfng_eldmfst2_mcr; /* lsb=1,unit=âÒ :ŒØƒΩ¿∞ƒéûEMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl) */
static u2 u2s_emfng_emfk_mcr;     /* lsb=1,unit=âÒ :DTCèoóÕãCìõîªíËíl(åvéZíl) */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
static u2 u2s_emfng_ecmfnl_mcr;   /* lsb=1,unit=âÒ :é∏âŒâÒêîè¨ïpìxÇÃîªíËíl(åvéZíl) */
static u2 u2s_emfng_ecmfnm_mcr;   /* lsb=1,unit=âÒ :é∏âŒâÒêîíÜïpìxÇÃîªíËíl(åvéZíl) */
static u2 u2s_emfng_ecmfnh_mcr;   /* lsb=1,unit=âÒ :é∏âŒâÒêîëÂïpìxÇÃîªíËíl(åvéZíl) */
#endif

static stflag8 sts_emfng_flagi1;   /* ÉNÉâÉìÉNäpìØä˙íÜ(ne30m)É^ÉCÉ~ÉìÉOëÄçÏÉtÉâÉO */
#define bis_emfng_exjmf          (sts_emfng_flagi1.b0)  /* :é∏âŒÇÃâºîªíËÃ◊∏ﬁ(TDC) */
#define bis_emfng_exjtmf         (sts_emfng_flagi1.b1)  /* :é∏âŒÇÃâºîªíËã÷é~Ã◊∏ﬁ(TDC) */
#define bis_emfng_exjtmf2        (sts_emfng_flagi1.b2)  /* :é∏âŒÇÃñ{îªíËãñâ¬Ã◊∏ﬁ(TDC) */
#define bis_emfng_exmfkpl        (sts_emfng_flagi1.b3)  /* :í·âÒì]èÛë‘åpë±Ã◊∏ﬁ(TDC) */
#define bis_emfng_exmfkpm        (sts_emfng_flagi1.b4)  /* :íÜâÒì]èÛë‘åpë±Ã◊∏ﬁ(TDC) */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
#define bis_emfng_exjmfdi        (sts_emfng_flagi1.b5)  /* :ecjmfdi∂≥›ƒ±ØÃﬂèåèê¨óßãLâØÃ◊∏ﬁ(TDC) */
#define bis_emfng_exjmfpfi       (sts_emfng_flagi1.b6)  /* :ecjmfpfi∂≥›ƒ±ØÃﬂèåèê¨óßãLâØÃ◊∏ﬁ(TDC) */
#endif

static stflag8 sts_emfng_flagi2;   /* 65msl,drvclchgÉ^ÉCÉ~ÉìÉOëÄçÏÉtÉâÉO */
#define bis_emfng_exottd         (sts_emfng_flagi2.b0)  /* :êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁ(65msl,drvclchg) */
#define bis_emfng_excdmfwclr     (sts_emfng_flagi2.b1)  /* :ecdmfw[]∏ÿ±óvãÅÃ◊∏ﬁ(65msl) */
#define bis_emfng_excdmfaot      (sts_emfng_flagi2.b2)  /* :êGî}OTé∏âŒ∂≥›¿Ç…ÇÊÇÈêGî}OTîªíËê¨óßÃ◊∏ﬁ(65msl) */
#define bis_emfng_excdmfem2clr   (sts_emfng_flagi2.b3)  /* :ecdmfem2[]∏ÿ±óvãÅÃ◊∏ﬁ(65msl) */
#define bis_emfng_excdmfae2clr   (sts_emfng_flagi2.b4)  /* :ecdmfae2∏ÿ±óvãÅÃ◊∏ﬁ(65msl) */
#define bis_emfng_excntmf        (sts_emfng_flagi2.b5)  /* :ƒÿØÃﬂåpë±Ã◊∏ﬁ(65msl,drvclchg) */
#define bis_emfng_exdmf1         (sts_emfng_flagi2.b6)  /* :êGî}OT⁄ÕﬁŸåªç›àŸèÌãLâØÃ◊∏ﬁ(65msl,drvclchg) */

static stflag8 sts_emfng_flagi3;   /* 65mslÉ^ÉCÉ~ÉìÉOëÄçÏÉtÉâÉO */
#define bis_emfng_exdmfot        (sts_emfng_flagi3.b0)  /* :êGî}OT⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁ(65msl) */
#define bis_emfng_exumfot        (sts_emfng_flagi3.b1)  /* :êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ(65msl) */
#define bis_emfng_exhmfoton      (sts_emfng_flagi3.b2)  /* :êGî}OTÇ…ÇÊÇÈMILì_ñ≈óvãÅÃ◊∏ﬁ(65msl) */
#define bis_emfng_exhmfotoff     (sts_emfng_flagi3.b3)  /* :êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸóvãÅÃ◊∏ﬁ(65msl) */
#define bis_emfng_exdmfem        (sts_emfng_flagi3.b4)  /* :EMà´âª⁄ÕﬁŸàŸèÌåüèoÃ◊∏ﬁ(65msl) */
#define bis_emfng_exumfem        (sts_emfng_flagi3.b5)  /* :EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ(65msl) */

#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
static stflag8 sts_emfng_flagi4;   /* 65mslÉ^ÉCÉ~ÉìÉOëÄçÏÉtÉâÉO */
#define bis_emfng_exdmfdi        (sts_emfng_flagi4.b0)  /* :DIàŸèÌÃ◊∏ﬁ(65msl) */
#define bis_emfng_exumfdi        (sts_emfng_flagi4.b1)  /* :DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ(65msl) */
#define bis_emfng_exdmfpfi       (sts_emfng_flagi4.b2)  /* :PFIàŸèÌÃ◊∏ﬁ(65msl) */
#define bis_emfng_exumfpfi       (sts_emfng_flagi4.b3)  /* :PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ(65msl) */
#define bis_emfng_excdmfdiclr    (sts_emfng_flagi4.b4)  /* :exdmfdim[]∏ÿ±ópÃ◊∏ﬁ(65msl) */
#define bis_emfng_excdmfpficlr   (sts_emfng_flagi4.b5)  /* :exdmfpfim[]∏ÿ±ópÃ◊∏ﬁ(65msl) */
#endif

#if JETCORE_D == u1g_EJCC_USE                           /*Åyt-COREëŒâûóLÅz*/
static stflag8 sts_emfng_flagi5;   /* 65mslÉ^ÉCÉ~ÉìÉOëÄçÏÉtÉâÉO */
#define bis_emfng_exoutftp       (sts_emfng_flagi5.b0)  /* :OTé∏âŒÉÇÅ[ÉhóÃàÊäOîªíËÃ◊∏ﬁ(65msl) */
#define bis_emfng_exemfst        (sts_emfng_flagi5.b1)  /* :EMà´âªÉåÉxÉãèââÒ1000revîªíËÃ◊∏ﬁ(65msl) */
#endif

static s2 s2s_emfng_ecdmfaotb;  /* lsb=1,unit=âÒ :ecdmfaot-ecdtmf2ÇÃÉâÉbÉ`(MODE06óp) */
static s4 s4s_emfng_emfrtotsum; /* lsb=256/128/256,unit=% :êœéZé∏âŒîªíËíl */
static u2 u2s_emfng_ecmfotcnt;  /* lsb=1,unit=âÒ :ïΩãœéZèoópêœéZâÒêî */
#if JEMFDTC_D == u1g_EJCC_USE  /*Åyé∏âŒOBD DTCóLÅz*/
static u1 u1s_emfng_xem_lstpnd_Lch;     /* lsb=1 :ëOƒﬁ◊≤Àﬁ›∏ﬁª≤∏ŸâºàŸèÌèÛë‘(EM)(ëºïîïi◊Ø¡óp) */
static u1 u1s_emfng_xot_lstpnd_Lch;     /* lsb=1 :ëOƒﬁ◊≤Àﬁ›∏ﬁª≤∏ŸâºàŸèÌèÛë‘(OT)(ëºïîïi◊Ø¡óp) */
static u1 u1s_emfng_xot_warning_Lch;    /* lsb=1 :OTé∏âŒMILèÛë‘(ëºïîïi◊Ø¡óp) */
static u1 u1s_emfng_xem_warning_Lch;    /* lsb=1 :EMé∏âŒMILèÛë‘(ëºïîïi◊Ø¡óp) */
#endif
static u1 u1s_emfng_xreqclr_Lch;        /* lsb=1 :¿ﬁ≤±∏ﬁèÓïÒ∏ÿ±óvãÅÃ◊∏ﬁ(ëºïîïi◊Ø¡óp) */
static u1 u1s_emfng_state_Lch;          /* lsb=1 :åüèoä¥ìxèÛë‘(ëºïîïi◊Ø¡óp) */
#if ( JEMFDTC_D == u1g_EJCC_USE ) && ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_USE )    /*Åyé∏âŒOBD DTCóLÅzANDÅyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûóLÅz*/
static u1 u1s_emfng_pas;                /* EMà´âª⁄ÕﬁŸîªíË¿≤–›∏ﬁê¨óßÃ◊∏ﬁ(65msl) */
#endif

/*-------------------------------------------------------------------*/
/* const dataíËã`                                                    */
/*-------------------------------------------------------------------*/
#pragma ghs startdata
/* ÉoÉbÉNÉAÉbÉvRAM-ID */
static volatile const u2 u2s_ECDMFEMTV_U2_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_ECDMFEMTV1_U2_ID
    ,u2g_EMFNG_ECDMFEMTV2_U2_ID
    ,u2g_EMFNG_ECDMFEMTV3_U2_ID
    ,u2g_EMFNG_ECDMFEMTV4_U2_ID
#if JENCYL == u1g_EJCC_6CYL          /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_ECDMFEMTV5_U2_ID
    ,u2g_EMFNG_ECDMFEMTV6_U2_ID
#endif
};
static volatile const u2 u2s_ECDMFEMMNTL_U2_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_ECDMFEMMNTL1_U2_ID
    ,u2g_EMFNG_ECDMFEMMNTL2_U2_ID
    ,u2g_EMFNG_ECDMFEMMNTL3_U2_ID
    ,u2g_EMFNG_ECDMFEMMNTL4_U2_ID
#if JENCYL == u1g_EJCC_6CYL          /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_ECDMFEMMNTL5_U2_ID
    ,u2g_EMFNG_ECDMFEMMNTL6_U2_ID
#endif
};
static volatile const u2 u2s_ECDMFEMMXTL_U2_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_ECDMFEMMXTL1_U2_ID
    ,u2g_EMFNG_ECDMFEMMXTL2_U2_ID
    ,u2g_EMFNG_ECDMFEMMXTL3_U2_ID
    ,u2g_EMFNG_ECDMFEMMXTL4_U2_ID
#if JENCYL == u1g_EJCC_6CYL          /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_ECDMFEMMXTL5_U2_ID
    ,u2g_EMFNG_ECDMFEMMXTL6_U2_ID
#endif
};
static volatile const u2 u2s_ECDMFAVTV_U2_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_ECDMFAVTV1_U2_ID
    ,u2g_EMFNG_ECDMFAVTV2_U2_ID
    ,u2g_EMFNG_ECDMFAVTV3_U2_ID
    ,u2g_EMFNG_ECDMFAVTV4_U2_ID
#if JENCYL == u1g_EJCC_6CYL          /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_ECDMFAVTV5_U2_ID
    ,u2g_EMFNG_ECDMFAVTV6_U2_ID
#endif
};
static volatile const u2 u2s_ECDMFAVMNTL_U2_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_ECDMFAVMNTL1_U2_ID
    ,u2g_EMFNG_ECDMFAVMNTL2_U2_ID
    ,u2g_EMFNG_ECDMFAVMNTL3_U2_ID
    ,u2g_EMFNG_ECDMFAVMNTL4_U2_ID
#if JENCYL == u1g_EJCC_6CYL          /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_ECDMFAVMNTL5_U2_ID
    ,u2g_EMFNG_ECDMFAVMNTL6_U2_ID
#endif
};
static volatile const u2 u2s_ECDMFAVMXTL_U2_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_ECDMFAVMXTL1_U2_ID
    ,u2g_EMFNG_ECDMFAVMXTL2_U2_ID
    ,u2g_EMFNG_ECDMFAVMXTL3_U2_ID
    ,u2g_EMFNG_ECDMFAVMXTL4_U2_ID
#if JENCYL == u1g_EJCC_6CYL          /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_ECDMFAVMXTL5_U2_ID
    ,u2g_EMFNG_ECDMFAVMXTL6_U2_ID
#endif
};

#if JEOOBD == u1g_EJCC_USE           /*ÅyésèÍí≤ç∏óLÅz*/
static volatile const u2 u2s_EOCDMFEM2MX_U1_ID[u1g_EJCC_NCYL] =  /* :ÉoÉbÉNÉAÉbÉvRAM-ID */
{
     u2g_EMFNG_EOCDMFEM2MX1_U1_ID
    ,u2g_EMFNG_EOCDMFEM2MX2_U1_ID
    ,u2g_EMFNG_EOCDMFEM2MX3_U1_ID
    ,u2g_EMFNG_EOCDMFEM2MX4_U1_ID
 #if JENCYL == u1g_EJCC_6CYL         /*Åy6ãCìõÅz*/
    ,u2g_EMFNG_EOCDMFEM2MX5_U1_ID
    ,u2g_EMFNG_EOCDMFEM2MX6_U1_ID
 #endif
};
#endif

#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )  /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
static volatile const u2 u2s_emfng_ecdmfav_tbl[u1g_EJCC_NCYL] =
{
     u2g_WTCIF_DEM_DTR_ECDMFAV1
    ,u2g_WTCIF_DEM_DTR_ECDMFAV2
    ,u2g_WTCIF_DEM_DTR_ECDMFAV3
    ,u2g_WTCIF_DEM_DTR_ECDMFAV4
 #if JENCYL == u1g_EJCC_6CYL         /*Åy6ãCìõÅz*/
    ,u2g_WTCIF_DEM_DTR_ECDMFAV5
    ,u2g_WTCIF_DEM_DTR_ECDMFAV6
 #endif
};
static volatile const u2 u2s_emfng_ecdmfem_tbl[u1g_EJCC_NCYL] =
{
     u2g_WTCIF_DEM_DTR_ECDMFEM1
    ,u2g_WTCIF_DEM_DTR_ECDMFEM2
    ,u2g_WTCIF_DEM_DTR_ECDMFEM3
    ,u2g_WTCIF_DEM_DTR_ECDMFEM4
 #if JENCYL == u1g_EJCC_6CYL         /*Åy6ãCìõÅz*/
    ,u2g_WTCIF_DEM_DTR_ECDMFEM5
    ,u2g_WTCIF_DEM_DTR_ECDMFEM6
 #endif
};
#endif
#pragma ghs enddata

/*-------------------------------------------------------------------*/
/* ä÷êîÇÃprototypeêÈåæ                                               */
/*-------------------------------------------------------------------*/
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
static void emfng_eocmfmlt_pt( const u1 ptt_ecdmfw[] ); /* :ésèÍí≤ç∏RAMçXêVèàóù */
static void emfng_eocmfn_u2( u2 u2t_cdmfae );     /* :ésèÍí≤ç∏RAMçXêVèàóù */
#endif
static u1 u1s_emfng_wxreqclr( void );             /* :ésèÍí≤ç∏RAMè¡ãéèàóù */
static void emfng_mcr_cal( void );                /* :åvéZílïœêîÇÃéZèo */
static void emfng_xottd_cal( void );              /* :êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁÇÃëÄçÏ */
static void emfng_cdmfi_reset( void );            /* :é∏âŒâÒêîîªíË∂≥›¿(±≤ƒﬁŸóp)ÇÃ∏ÿ±èàóù */
static void emfng_mf_cnt_u1u1( u1 u1t_mfkind, u1 u1t_mfcyl );             /* :é∏âŒÉJÉEÉìÉ^ÇÃéZèo */
static void emfng_ot_detect_ptptptpt( u1 *ptt_xumfot, u1 *ptt_xdmfot, u1 *ptt_xhmfoton, u1 *ptt_xhmfotoff );  /* :êGî}OT⁄ÕﬁŸàŸèÌîªíË */
static void emfng_em_detect_u2ptpt( u2 u2t_cdmfae2, u1 *ptt_xdmfem, u1 *ptt_xumfem );  /* :EMà´âªÉåÉxÉãàŸèÌîªíË */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
static void emfng_di_detect_ptpt( u1 *ptt_xdmfdi, u1 *ptt_xumfdi );     /* :DIàŸèÌåüèo */
static void emfng_pfi_detect_ptpt( u1 *ptt_xdmfpfi, u1 *ptt_xumfpfi );  /* :PFIàŸèÌåüèo */
#endif
#if JEMFDTC_D == u1g_EJCC_USE    /*Åyé∏âŒOBD DTCóLÅz*/
static void emfng_wxmf_out( void );               /* :ìdãZÇ÷ÇÃí ímèàóù */
#endif
static void emfng_emode06_cal( void );            /* :mode$06ëŒâûé∏âŒ∂≥›¿ÇÃëÄçÏ */
static u1 u1s_emfng_exrcdmf( void );              /* :EWMAé∏âŒ∂≥›¿åvéZóöóÃ◊∏ﬁéÊìæèàóù */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
static void emfng_espdaemclr( void );             /* :ésèÍí≤ç∏RAM∏ÿ±èàóù */
#endif
static void emfng_roughjdg_u1u1( u1 u1t_xmfne, u1 u1t_mfkind );  /* à´òHîªíËä÷òAèàóù */

/*-------------------------------------------------------------------*/
/* ä÷êî                                                              */
/*-------------------------------------------------------------------*/
/*********************************************************************/
/*  ä÷êîñº        | emfng_pwon( )                                    */
/*  èàóùì‡óe      | èâä˙âªèàóù                                       */
/*  êßå‰É^ÉCÉ~ÉìÉO| emfcnt_pwon()ÇÊÇËÉRÅ[Éã                          */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      |                                                  */
/*********************************************************************/
void
emfng_pwon( void )
{
    /********************/
    /* åvéZílïœêîÇÃéZèo */
    /********************/
    emfng_mcr_cal();
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_mfptn_ann_u1u1u1( )                        */
/*  èàóùì‡óe      | åüèoãñâ¬∂≥›¿ÇÃëÄçÏ                               */
/*  êßå‰É^ÉCÉ~ÉìÉO| TDCñà(emfcnt_tdcm()ÇÊÇËÉRÅ[Éã)                   */
/*  à¯êî          | u1t_mfkind     :lsb=1 é∏âŒéÌï                    */
/*                | u1t_mfcyl      :lsb=1 é∏âŒãCìõ                   */
/*                | u1t_xmfne      :lsb=1 é∏âŒñ{îªíË                 */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ëOíÒèåèê¨óßéûÇ…é¿é{(emfcnt)                     */
/*********************************************************************/
void
emfng_mfptn_ann_u1u1u1( u1 u1t_mfkind, u1 u1t_mfcyl, u1 u1t_xmfne )
{
    s4 s4t_ecjmfot;         /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :êGî}OT⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ */
    s4 s4t_ecjmfoti;        /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :êGî}OT⁄ÕﬁŸ±≤ƒﬁŸéûé∏âŒåüèoãñâ¬∂≥›¿ */
    s4 s4t_ecjmfem;         /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :EMà´âª⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ */
    s4 s4t_ene;             /* lsb=12800/64/256,unit=rpm :¥›ºﬁ›âÒì]êî */
    s4 s4t_ejmfne;          /* lsb=1 :âÒì]óÃàÊîªíËíl */
    s4 s4t_emfrtot;         /* lsb=256/128/256,unit=% :êœéZé∏âŒîªíËílï‚ê≥åWêî */
    s4 s4t_emfrtotsum;      /* lsb=256/128/256,unit=% :êœéZé∏âŒîªíËíl */
    u2 u2t_ecmfotcnt;       /* lsb=1,unit=âÒ :ïΩãœéZèoópêœéZâÒêî */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    s2 s2t_ekpfi;           /* lsb=(1*4)/128/256,unit=î{ :Œﬂ∞ƒï¨éÀó éZèoåWêî */
    u2 u2t_ecjmfdi;         /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :DIé∏âŒåüèoãñâ¬∂≥›¿ */
    u2 u2t_ecjmfpfi;        /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :PFIé∏âŒåüèoãñâ¬∂≥›¿ */
#endif
    s2 s2t_MFNEL3_c;        /* lsb=12800/64/256,unit=rpm :ÉAÉCÉhÉãóÃàÊîªíËíl */
    s2 s2t_eklsm;           /* lsb=320/64/256,unit=% :ãÛãCó ïââ◊ó¶Åiê‚ëŒéøó Åj */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    s4t_ene      = (s4)s2g_ene_ene;
    s4t_ejmfne   = (s4)u1g_emfne_ejmfne;
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    s2t_ekpfi    = s2g_eminj_ekpfi;
#endif
    s2t_MFNEL3_c = s2s_emfng_MFNEL3;
    s2t_eklsm = s2g_eklset_eklsm;

    /***************************************/
    /* êGî}OT⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ÇÃ≤›∏ÿ“›ƒ */
    /***************************************/
    s4t_ecjmfot = (s4)u2g_emfng_ecjmfot;
    if ( s4t_ecjmfot < (s4)u2g_U2MAX )
    {
        s4t_ecjmfot++;
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    u2g_emfng_ecjmfot = (u2)s4t_ecjmfot;              /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */

    /**********************************************/
    /* êGî}OT⁄ÕﬁŸ±≤ƒﬁŸéûé∏âŒåüèoãñâ¬∂≥›¿ÇÃ≤›∏ÿ“›ƒ */
    /**********************************************/
    s4t_ecjmfoti = (s4)u2g_emfng_ecjmfoti;
    if ( ( ( s4t_ejmfne == (s4)u1g_EMFNE_REV_IDLE2 )
#if JEMFHOUKI == u1g_EJCC_USAMF                                /*ÅyëŒïƒñ@ãKÅz*/
        || ( s4t_ejmfne == (s4)u1g_EMFNE_REV_IDLE1 )
#endif
         )
      && ( s4t_ene < (s4)s2t_MFNEL3_c ) )
    {
        if ( s4t_ecjmfoti < (s4)u2g_U2MAX )
        {
            s4t_ecjmfoti++;
        }
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    u2g_emfng_ecjmfoti = (u2)s4t_ecjmfoti;             /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */

    /***************************************/
    /* EMà´âª⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ÇÃ≤›∏ÿ“›ƒ */
    /***************************************/
    s4t_ecjmfem = (s4)u2g_emfng_ecjmfem;
    if ( s4t_ecjmfem < (s4)u2g_U2MAX )
    {
        s4t_ecjmfem++;
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    u2g_emfng_ecjmfem = (u2)s4t_ecjmfem;               /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */

#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    /*******************************/
    /* DIé∏âŒåüèoãñâ¬∂≥›¿ÇÃ≤›∏ÿ“›ƒ */
    /*******************************/
    u2t_ecjmfdi = u2s_emfng_ecjmfdi;
    if ( s2t_ekpfi <= s2g_emfok_NGDI )
    {
        if ( u2t_ecjmfdi < u2g_U2MAX )
        {
            u2t_ecjmfdi++;
        }
        bis_emfng_exjmfdi = (u1)ON;  /* ecjmfdi∂≥›ƒ±ØÃﬂèåèê¨óßãLâØÃ◊∏ﬁ */
    }
    else    /* ecjmfdi∂≥›ƒ±ØÃﬂèåèïsê¨óß */
    {
        bis_emfng_exjmfdi = (u1)OFF;
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    u2s_emfng_ecjmfdi = u2t_ecjmfdi;         /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */

    /********************************/
    /* PFIé∏âŒåüèoãñâ¬∂≥›¿ÇÃ≤›∏ÿ“›ƒ */
    /********************************/
    u2t_ecjmfpfi = u2s_emfng_ecjmfpfi;
    if ( s2t_ekpfi >= s2g_emfok_NGPFI )
    {
        if ( u2t_ecjmfpfi < u2g_U2MAX )
        {
            u2t_ecjmfpfi++;
        }
        bis_emfng_exjmfpfi = (u1)ON;  /* ecjmfpfi∂≥›ƒ±ØÃﬂèåèê¨óßãLâØÃ◊∏ﬁ */
    }
    else    /* ecjmfpfi∂≥›ƒ±ØÃﬂèåèïsê¨óß */
    {
        bis_emfng_exjmfpfi = (u1)OFF;
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    u2s_emfng_ecjmfpfi = u2t_ecjmfpfi;       /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */
#endif

    /**********************/
    /* é∏âŒâÒêîÇÃêœéZèàóù */
    /**********************/
    if ( u1t_mfkind != u1g_EMFCNT_NOT )
    {
        emfng_mf_cnt_u1u1( u1t_mfkind, u1t_mfcyl );
    }

    /********************/
    /* à´òHîªíËä÷òAèàóù */
    /********************/
    emfng_roughjdg_u1u1( u1t_xmfne, u1t_mfkind );

    /*******************************************/
    /* êœéZé∏âŒîªíËíl,ïΩãœéZèoópêœéZâÒêîÇÃéZèo */
    /*******************************************/
    s4t_emfrtotsum = s4s_emfng_emfrtotsum;
    u2t_ecmfotcnt = u2s_emfng_ecmfotcnt;

    s4t_emfrtot = (s4)s2g_glmap2h_s2s2pt( s2t_eklsm, (s2)s4t_ene, &s2g_emfng_emfrtot_map[0] );
                                                    /* lsb=256/128/256,unit=% */
#if JENGPF_E != u1g_EJCC_NOT_USE       /*ÅyGPFóLÅz*/
    if ( ( u1g_egpfrgcnd_exgpfrgsrv == (u1)ON )
      || ( u1g_egpfhtum_exdth == (u1)ON )
      || ( u1g_egpfhtum_exeff == (u1)ON )
 #if JERLOK == u1g_EJCC_USE            /*ÅyÿØ¡ÿ∞›â^ì]â¬Åz*/
      || ( u1g_egpfrgum_exrgact == (u1)ON )
 #endif
       )
    {
        s4t_emfrtot = (s4)s2g_glmap2h_s2s2pt( s2t_eklsm, (s2)s4t_ene, &s2g_emfng_emfrtotgpf_map[0] );
                                                    /* lsb=256/128/256,unit=% */
    }
#endif
    s4t_emfrtotsum = s4g_gladdst_s4s4( s4t_emfrtotsum, s4t_emfrtot );

    if ( u2t_ecmfotcnt < u2g_U2MAX )
    {
        u2t_ecmfotcnt++;
    }

    /* RAMÉfÅ[É^Ç…äiî[ */
    s4s_emfng_emfrtotsum = s4t_emfrtotsum;
    u2s_emfng_ecmfotcnt = u2t_ecmfotcnt;
}

#if JENCYL == u1g_EJCC_6CYL     /*Åy6ãCìõÅz*/
/*********************************************************************/
/*  ä÷êîñº        | emfng_mfmlt_ann_u1u1( )                          */
/*  èàóùì‡óe      | ëŒå¸ãCìõé∏âŒîªíËåãâ í ímèàóù                     */
/*  êßå‰É^ÉCÉ~ÉìÉO| ATDC30CAÉ^ÉCÉ~ÉìÉO                               */
/*                | (emfcnt_neg_mlt()ÇÊÇËÉRÅ[Éã)                     */
/*  à¯êî          | u1t_mfkind     :lsb=1 é∏âŒéÌï                    */
/*                | u1t_mfcyl      :lsb=1 é∏âŒãCìõ                   */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ëOíÒèåèê¨óßéûÇ…é¿é{(emfcnt)                     */
/*                |Åy6ãCìõÅz                                         */
/*********************************************************************/
void
emfng_mfmlt_ann_u1u1( u1 u1t_mfkind, u1 u1t_mfcyl )
{
    if ( u1t_mfkind == u1g_EMFCNT_OPPS )
    {
        emfng_mf_cnt_u1u1( u1t_mfkind, u1t_mfcyl );         /* é∏âŒâÒêîÇÃêœéZèàóù */
 #if JEEFI == u1g_EJCC_DUAL      /*Åy√ﬁ≠±ŸINJÅz*/
        emfok_mfneld_set();                                 /* ëŒå¸ãCìõé∏âŒîªíËéûÇÃèàóù */
        emfok_mfareacnt_ann_u1u1( u1t_mfkind, u1t_mfcyl );  /* óÃàÊì‡é∏âŒâÒêîÇÃêœéZ */
 #endif
    }
}
#endif

/*********************************************************************/
/*  ä÷êîñº        | emfng_tdcm( )                                    */
/*  èàóùì‡óe      | TDC¿≤–›∏ﬁèàóù                                    */
/*  êßå‰É^ÉCÉ~ÉìÉO| TDCñà(emfcnt_tdcm()ÇÊÇËÉRÅ[Éã)                   */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      |                                                  */
/*********************************************************************/
void
emfng_tdcm( void )
{
    u2 u2t_ekldmfae;       /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸé∏âŒîªíËíl */
    s2 s2t_ene;            /* lsb=12800/64/256,unit=rpm :¥›ºﬁ›âÒì]êî */
    u1 u1t_state;          /* lsb=1 :åüèoä¥ìxèÛë‘ */
    u1 u1t_exmfkpl;        /* lsb=1 :í·âÒì]èÛë‘åpë±Ã◊∏ﬁ */
    u1 u1t_exmfkpm;        /* lsb=1 :íÜâÒì]èÛë‘åpë±Ã◊∏ﬁ */

    u1t_state = u1g_wsentivchg_state;

    /************************/
    /* EMà´âª⁄ÕﬁŸé∏âŒîªíËíl */
    /************************/
    if ( u2g_emfng_ecjmfem == (u2)0U )
    {
        u2t_ekldmfae = u2g_emfng_eldmfaem_mcr;          /* lsb=1,unit=âÒ */
        if ( ( u1s_emfng_ecjemrev < u1s_emfng_CJEMREV )
          && ( u1t_state != u1g_WSENTIVCHG_LVL2 ) )
        {
            /*****************/
            /*   ŒØƒΩ¿∞ƒéû   */
            /*****************/
            if ( big_emfng_exhstmf == (u1)ON )                  /* ŒØƒΩ¿∞ƒ */
            {
                u2t_ekldmfae = u2s_emfng_eldmfst2_mcr;  /* lsb=1,unit=âÒ */
            }

            /*******************/
            /*   ∫∞ŸƒﬁΩ¿∞ƒéû   */
            /*******************/
            if ( big_emfng_excstmf == (u1)ON )                  /* ∫∞ŸƒﬁΩ¿∞ƒ */
            {
                u2t_ekldmfae = u2s_emfng_eldmfst1_mcr;  /* lsb=1,unit=âÒ */
            }
        }
        if ( u1t_state == u1g_WSENTIVCHG_IUE )
        {
            u2t_ekldmfae = u2g_glmulst_u2u2u2( u2t_ekldmfae, u2s_emfng_KLEVEL3, (u2)6U );  /* lsb=1*(4/256) Å® 1 */
        }
        /* RAMÉfÅ[É^Ç…äiî[ */
        u2g_emfng_ekldmfae = u2t_ekldmfae;          /* lsb=1,unit=âÒ */
    }

    /********************/
    /* NEåpë±Ã◊∏ﬁÇÃëÄçÏ */
    /********************/
    if ( u2g_emfng_ecjmfot == (u2)0U )
    {
        /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
        s2t_ene = s2g_ene_ene;

        /* í·âÒì]èÛë‘åpë±Ã◊∏ﬁ(XMFKPL)ÇÃëÄçÏ */
        u1t_exmfkpl = (u1)OFF;
        if ( s2t_ene <= (s2)(((2000.)/(12800./64./256.))+0.5) )
        {
            u1t_exmfkpl = (u1)ON;
        }
        glbitcp_bibi( u1t_exmfkpl, bis_emfng_exmfkpl );

        /* íÜâÒì]èÛë‘åpë±Ã◊∏ﬁ(XMFKPM)ÇÃëÄçÏ */
        u1t_exmfkpm = (u1)OFF;
        if ( s2t_ene <= (s2)(((3000.)/(12800./64./256.))+0.5) )
        {
            u1t_exmfkpm = (u1)ON;
        }
        glbitcp_bibi( u1t_exmfkpm, bis_emfng_exmfkpm );
    }
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_xjmf_ann_u1( )                             */
/*  èàóùì‡óe      | é∏âŒâºîªíËåãâ í ímèàóù                           */
/*  êßå‰É^ÉCÉ~ÉìÉO| TDCñà(emfcnt_tdcm()ÇÊÇËÉRÅ[Éã)                   */
/*  à¯êî          | u1t_xjmf :lsb=1 âºîªíËåãâ                        */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | âºîªíËå„Ç…é¿é{                                   */
/*********************************************************************/
void
emfng_xjmf_ann_u1( u1 u1t_xjmf )
{
    /* RAMÉfÅ[É^Ç…äiî[ */
    glbitcp_bibi( u1t_xjmf, bis_emfng_exjmf );
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_cjpmf_inc_u1( )                            */
/*  èàóùì‡óe      | æﬁ€∏€Ω∂≥›¿ÇÃëÄçÏ                                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| BTDC60CA(emfccrnkÇÊÇËÉRÅ[Éã)Åy4ãCìõÅz            */
/*                | BTDC30CA(emfccrnkÇÊÇËÉRÅ[Éã)Åy6ãCìõÅz            */
/*                | ATDC30CA(emfccrnkÇÊÇËÉRÅ[Éã)                     */
/*  à¯êî          | u1t_timming :lsb=1 ecjpmf∂≥›ƒ±ØÃﬂ¿≤–›∏ﬁ          */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | DLTMFL,DDTCR1éZèoå„Ç…é¿é{                        */
/*********************************************************************/
void
emfng_cjpmf_inc_u1( u1 u1t_timming )
{
    u1 u1t_ecjpmf;      /* lsb=1,unit=âÒ :æﬁ€∏€Ω∂≥›¿ */
    u1 u1t_ejmfne;      /* lsb=1 :âÒì]óÃàÊ */
    u1 u1t_timjdg;      /* lsb=1 :ÉèÅ[ÉNïœêî */
    u1 u1t_exjtmf;      /* lsb=1 :é∏âŒÇÃâºîªíËã÷é~Ã◊∏ﬁ */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_ecjpmf = u1s_emfng_ecjpmf;
    u1t_ejmfne = u1g_emfne_ejmfne;
    u1t_exjtmf = (u1)bis_emfng_exjtmf;

    u1t_timjdg = (u1)OFF;
    if ( ( u1t_timming == u1g_EMFCCRNK_DLTMFL_TIMMING )
      && ( u1t_ejmfne  != u1g_EMFNE_REV_HIGH )
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
      && ( s2g_emfccrnk_edltmflxh[0] >= (s2)0 )
      && ( s2g_emfccrnk_edltmflxh[1] <  (s2)0 )
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
      && ( s2g_emfccrnk_ewmfl[0] <= (s2)0 )
      && ( s2g_emfccrnk_ewmfl[1] >  (s2)0 )
#endif
       )
    {
        u1t_timjdg = (u1)ON;
    }
    if ( ( u1t_timming == u1g_EMFCCRNK_DDTCRX_TIMMING )
      && ( u1t_ejmfne  == u1g_EMFNE_REV_HIGH )
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
      && ( s2g_emfccrnk_eddtcrxh[0] >= (s2)0 )
      && ( s2g_emfccrnk_eddtcrxh[1] <  (s2)0 )
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
 #if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
      && ( s2g_emfccrnk_ewmfh[0] <= (s2)0 )
      && ( s2g_emfccrnk_ewmfh[1] >  (s2)0 )
 #endif
 #if JENCYL == u1g_EJCC_4CYL    /*Åy4ãCìõÅz*/
      && ( s2g_emfccrnk_ewmfhp[0] <= (s2)0 )
      && ( s2g_emfccrnk_ewmfhp[1] >  (s2)0 )
 #endif
#endif
       )
    {
        u1t_timjdg = (u1)ON;
    }
    if ( ( u1t_timjdg == (u1)ON )
      && ( bis_emfng_exjmf == (u1)OFF )
      && ( u1t_exjtmf == (u1)ON ) )
    {
        if ( u1t_ecjpmf < u1g_U1MAX )
        {
            u1t_ecjpmf++;
        }
    }
    if ( u1t_exjtmf == (u1)OFF )
    {
        u1t_ecjpmf = (u1)0U;
    }

    /* RAMÉfÅ[É^Ç…äiî[ */
    u1s_emfng_ecjpmf = u1t_ecjpmf;      /* lsb=1,unit=âÒ */
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_mf_cnt_u1u1( )                             */
/*  èàóùì‡óe      | é∏âŒÉJÉEÉìÉ^ÇÃéZèo                               */
/*  êßå‰É^ÉCÉ~ÉìÉO| é∏âŒîªíËê¨óßéû                                   */
/*                | TDCñà(emfng_mfptn_ann()ÇÊÇËÉRÅ[Éã)               */
/*                | ATDC30CA(emfng_mfmlt_ann()ÇÊÇËÉRÅ[Éã)Åy6ãCìõÅz   */
/*  à¯êî          | u1t_mfkind     :lsb=1 é∏âŒéÌï                    */
/*                | u1t_mfcyl      :lsb=1 é∏âŒãCìõ                   */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static void
emfng_mf_cnt_u1u1( u1 u1t_mfkind, u1 u1t_mfcyl )
{
    s4 s4t_i;               /* lsb=1 :forÉãÅ[Évópïœêî */
    u1 u1t_bit;             /* :é∏âŒãCìõÃ◊∏ﬁ */
    s4 s4t_ecdmfaotbnk[2];  /* lsb=1,unit=âÒ : ﬁ›∏ï êGî}OT⁄ÕﬁŸé∏âŒ∂≥›¿ */
    s4 s4t_ecdmfaot;        /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
    s4 s4t_ecdmfaoti;       /* lsb=1,unit=âÒ :±≤ƒﬁŸíÜëSãCìõé∏âŒ∂≥›¿ */
    s4 s4t_ecdmfae2;        /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
    s4 s4t_ecdmfaem;        /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
    s4 s4t_ecmfot;          /* lsb=1,unit=âÒ :ï°êîãCìõé∏âŒ∂≥›¿ */
#if JEOOBD == u1g_EJCC_USE             /*ÅyésèÍí≤ç∏óLÅz*/
    s2 s2t_espd;            /* lsb=256/256,unit=km/h :é‘ë¨ */
    s2 s2t_ene;             /* lsb=12800/64/256,unit=rpm :¥›ºﬁ›âÒì]êî */
    s2 s2t_eklsm;           /* lsb=320/64/256,unit=% :ãÛãCó ïââ◊ó¶Åiê‚ëŒéøó Åj */
    u1 u1t_ejmfne;          /* lsb=1 :âÒì]óÃàÊ */
#endif
    s4 s4t_idx;             /* lsb=1 :ãCìõåQï ÇÃóvëfêî */
    s4 s4t_bnk;             /* lsb=1 :é∏âŒãCìõÇÃëÆÇ∑ÇÈÉoÉìÉN */
    s4 s4t_indx;            /* lsb=1 :é∏âŒãCìõÇÃëÆÇ∑ÇÈé¿ãCìõî‘çÜ */
    u1 u1t_ncyl;            /* ÉèÅ[ÉNïœêî */
    u1 u1t_ncyl_c;          /* lsb=1 :ãCìõêî */
    u1 u1t_ncylw_c;         /* lsb=1 :ãCìõåQêî */

    if ( u1t_mfkind == u1g_EMFCNT_MLT )
    {
        /******************************/
        /* ëŒå¸ãCìõà»äOÇÃï°êîãCìõé∏âŒ */
        /******************************/
        s4t_ecmfot = (s4)u2g_emfng_ecmfot;
        if ( s4t_ecmfot < (s4)u2g_U2MAX )
        {
            s4t_ecmfot++;                           /* CMFOTÇÃ≤›∏ÿ“›ƒ */
        }
        u2g_emfng_ecmfot = (u2)s4t_ecmfot;          /* lsb=1,unit=âÒ */
    }
    else if ( u1t_mfkind == u1g_EMFCNT_OPPS )
    {
        /****************/
        /* ëŒå¸ãCìõé∏âŒ */
        /****************/
        u1t_ncylw_c = u1s_EMFNG_NCYLW;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncylw_c; s4t_i++ )
        {
            if ( u1g_emfng_mfwcyl_tbl[s4t_i] == u1t_mfcyl )
            {
                s4t_idx = s4t_i;
                if ( u1g_emfng_ecdmfw[s4t_idx] < u1g_U1MAX )
                {
                    u1g_emfng_ecdmfw[s4t_idx]++;   /* ãCìõåQï ÇÃëŒå¸ãCìõé∏âŒ∂≥›¿ */
                }
            }
        }
    }
    else
    {
        /****************************************/
        /* ±≤ƒﬁŸ/◊›¿ﬁ—/íPàÍòAë±/2òAë±/ä‘åá é∏âŒ */
        /****************************************/
        s4t_ecdmfaot       = (s4)u1g_emfng_ecdmfaot;
        s4t_ecdmfae2       = (s4)u2g_emfng_ecdmfae2;
        s4t_ecdmfaem       = (s4)u1g_emfng_ecdmfaem;
        s4t_ecdmfaotbnk[0] = (s4)u1g_emfng_ecdmfaotbnk[0];
        s4t_ecdmfaotbnk[1] = (s4)u1g_emfng_ecdmfaotbnk[1];
        s4t_ecdmfaoti      = (s4)u2g_emfng_ecdmfaoti;
#if JEOOBD == u1g_EJCC_USE             /*ÅyésèÍí≤ç∏óLÅz*/
        s2t_espd           = s2g_espd_espd;
        s2t_ene            = s2g_ene_ene;
        s2t_eklsm          = s2g_eklset_eklsm;
        u1t_ejmfne         = u1g_emfne_ejmfne;
#endif
        u1t_ncyl_c = u1g_ejcc_NCYL;
        u1t_ncyl = u1t_mfcyl;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            u1t_bit = (u1)(u1t_ncyl & (u1)0x01U);
            if ( u1t_bit != (u1)0x00U )
            {
                s4t_bnk = (s4)u1s_emfng_mfcylbnk_tbl[s4t_i];   /* MFCYLÇ©ÇÁÉoÉìÉNÇãÅÇﬂÇÈ */
                s4t_ecdmfaotbnk[s4t_bnk]++;                    /*  ﬁ›∏ï êGî}OT⁄ÕﬁŸé∏âŒ∂≥›¿ */
                s4t_ecdmfaot++;                                /* êGî}OT⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
                s4t_ecdmfaoti++;                               /* ±≤ƒﬁŸíÜëSãCìõé∏âŒ∂≥›¿ */

                s4t_indx = (s4)u1g_eengspc_ewcnvt_tbl[s4t_i];  /* MFCYLÇ©ÇÁé¿ãCìõî‘çÜÇãÅÇﬂÇÈ */
                if ( u1g_emfng_ecdmfem[s4t_indx] < u1g_U1MAX )
                {
                    u1g_emfng_ecdmfem[s4t_indx]++;             /* EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
                }
                if ( u2g_emfng_ecdmfem2[s4t_indx] < u2g_U2MAX )
                {
                    u2g_emfng_ecdmfem2[s4t_indx]++;            /* EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
                }
                if ( u1g_emfng_ecdmfemi[s4t_indx] < u1g_U1MAX )
                {
                    u1g_emfng_ecdmfemi[s4t_indx]++;            /* ±≤ƒﬁŸíÜãCìõï é∏âŒ∂≥›¿ */
                }
                s4t_ecdmfae2++;            /* EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
                s4t_ecdmfaem++;            /* EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
                if ( bis_emfng_exjmfdi == (u1)ON )
                {
                    if ( u1s_emfng_ecdmfdi[s4t_indx] < u1g_U1MAX )
                    {
                        u1s_emfng_ecdmfdi[s4t_indx]++;             /* ãCìõï DIé∏âŒ∂≥›¿ */
                    }
                }
                if ( bis_emfng_exjmfpfi == (u1)ON )
                {
                    if ( u1s_emfng_ecdmfpfi[s4t_indx] < u1g_U1MAX )
                    {
                        u1s_emfng_ecdmfpfi[s4t_indx]++;            /* ãCìõï PFIé∏âŒ∂≥›¿ */
                    }
                }
#endif

#if JEOOBD == u1g_EJCC_USE      /*ÅyésèÍí≤ç∏óLÅz*/
                s4s_emfng_espdaem  = s4g_gladdst_s4s4( s4s_emfng_espdaem, (s4)s2t_espd );
                s4s_emfng_eneaem   = s4g_gladdst_s4s4( s4s_emfng_eneaem, (s4)s2t_ene );
                s4s_emfng_eklsmaem = s4g_gladdst_s4s4( s4s_emfng_eklsmaem, (s4)s2t_eklsm );

                if ( ( u1t_ejmfne == u1g_EMFNE_REV_IDLE2 )
 #if JEMFHOUKI == u1g_EJCC_USAMF /*ÅyëŒïƒñ@ãKÅz*/
                  || ( u1t_ejmfne == u1g_EMFNE_REV_IDLE1 )
 #endif
                   )
                {
                    if ( u1s_emfng_ecjmfneemi < u1g_U1MAX )
                    {
                        u1s_emfng_ecjmfneemi++;
                    }
                }
                if ( u1t_ejmfne == u1g_EMFNE_REV_LOW )
                {
                    if ( u1s_emfng_ecjmfneeml < u1g_U1MAX )
                    {
                        u1s_emfng_ecjmfneeml++;
                    }
                }
                if ( u1t_ejmfne == u1g_EMFNE_REV_HIGH )
                {
                    if ( u1s_emfng_ecjmfneemh < u1g_U1MAX )
                    {
                        u1s_emfng_ecjmfneemh++;
                    }
                 }
#endif

            }
            u1t_ncyl = (u1)(u1t_ncyl >> 1);
        }

        /* ÉKÅ[Éhèàóù */
        if ( s4t_ecdmfaotbnk[0] > (s4)u1g_U1MAX )
        {
            s4t_ecdmfaotbnk[0] = (s4)u1g_U1MAX;
        }
        if ( s4t_ecdmfaotbnk[1] > (s4)u1g_U1MAX )
        {
            s4t_ecdmfaotbnk[1] = (s4)u1g_U1MAX;
        }
        if ( s4t_ecdmfaot > (s4)u1g_U1MAX )
        {
            s4t_ecdmfaot = (s4)u1g_U1MAX;
        }
        if ( s4t_ecdmfaoti > (s4)u2g_U2MAX )
        {
            s4t_ecdmfaoti = (s4)u2g_U2MAX;
        }
        if ( s4t_ecdmfae2 > (s4)u2g_U2MAX )
        {
            s4t_ecdmfae2 = (s4)u2g_U2MAX;
        }
        if ( s4t_ecdmfaem > (s4)u1g_U1MAX )
        {
            s4t_ecdmfaem = (s4)u1g_U1MAX;
        }

        /* RAMÉfÅ[É^Ç…äiî[ */
        u2g_emfng_ecdmfae2       = (u2)s4t_ecdmfae2;            /* lsb=1,unit=âÒ */
        u1g_emfng_ecdmfaem       = (u1)s4t_ecdmfaem;            /* lsb=1,unit=âÒ */
        u1g_emfng_ecdmfaotbnk[0] = (u1)s4t_ecdmfaotbnk[0];      /* lsb=1,unit=âÒ */
        u1g_emfng_ecdmfaotbnk[1] = (u1)s4t_ecdmfaotbnk[1];      /* lsb=1,unit=âÒ */
        u1g_emfng_ecdmfaot       = (u1)s4t_ecdmfaot;            /* lsb=1,unit=âÒ */
        u2g_emfng_ecdmfaoti      = (u2)s4t_ecdmfaoti;           /* lsb=1,unit=âÒ */

    }   /* (u1t_mfkind == u1g_EMFCNT_MLT) end */
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_reset( )                                   */
/*  èàóùì‡óe      | é∏âŒîªíËÿæØƒèàóù                                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| TDCñà(emfcnt_tdcm()ÇÊÇËÉRÅ[Éã)                   */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ëOíÒèåèïsê¨óßéûÇ…é¿é{(emfcnt)                   */
/*********************************************************************/
void
emfng_reset( void )
{
    bis_emfng_exjmf   = (u1)OFF;
    bis_emfng_exjtmf  = (u1)OFF;
    bis_emfng_exjtmf2 = (u1)OFF;
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_drvclchg( )                                */
/*  èàóùì‡óe      | ÉhÉâÉCÉrÉìÉOÉTÉCÉNÉãà⁄çséûÇÃèâä˙âªèàóù           */
/*  êßå‰É^ÉCÉ~ÉìÉO| emfcnt_drvclchg()ÇÊÇËÉRÅ[Éã                      */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      |                                                  */
/*********************************************************************/
void
emfng_drvclchg( void )
{
    s4 s4t_i;             /* lsb=1 :for loopóp */
    u1 u1t_ncyl_c;        /* lsb=1 :ãCìõêî */
    u1 u1t_ncylw_c;       /* lsb=1 :ãCìõåQêî */

    /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */ /* ÉRÅ[Éãå≥emfcnt_drvclchg()Ç≈é¿é{ */
    u2g_emfng_ecjmfot        = (u2)0;     /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
    u2g_emfng_ecjmfem        = (u2)0;     /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
    u2g_emfng_ecjmfoti       = (u2)0;     /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
#if JETCORE_D == u1g_EJCC_USE     /*Åyt-COREëŒâûóLÅz*/
    big_emfng_exdmf     = (u1)OFF;
#endif
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    u2s_emfng_ecjmfdi   = (u2)0;     /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
    u2s_emfng_ecjmfpfi  = (u2)0;     /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
#endif
    u1t_ncyl_c = u1g_ejcc_NCYL;
    u1t_ncylw_c = u1s_EMFNG_NCYLW;

    u2g_emfng_ecmfot         = (u2)0U;
    for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncylw_c; s4t_i++ )
    {
        u1g_emfng_ecdmfw[s4t_i]    = (u1)0U;
    }
    u1g_emfng_ecdmfaotbnk[0] = (u1)0U;     /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    u1g_emfng_ecdmfaotbnk[1] = (u1)0U;     /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    u1g_emfng_ecdmfaot       = (u1)0U;     /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    u2g_emfng_ecdmfaoti      = (u2)0U;     /* CJMFOTIÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    u2g_emfng_ecdmfae2       = (u2)0U;     /* CJMFEMÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    u1g_emfng_ecdmfaem       = (u1)0U;     /* CJMFEMÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    u1g_emfng_ecdtmf2        = (u1)0U;
    for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c ; s4t_i++ )
    {
        u1g_emfng_ecdmfem[s4t_i]   = (u1)0U;
        u2g_emfng_ecdmfem2[s4t_i]  = (u2)0U;
        u1g_emfng_ecdmfemi[s4t_i]  = (u1)0U;     /* CJMFEMÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    }
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
    {
        u1s_emfng_ecdmfdi[s4t_i]   = (u1)(((0.)/(1.))+0.5);  /* ecjmfdiÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        u1s_emfng_ecdmfpfi[s4t_i]  = (u1)(((0.)/(1.))+0.5);  /* ecjmfpfiÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    }
#endif
    u2s_emfng_ecdtmfwa      = (u2)0U;

    u1s_emfng_ecxmf         = (u1)0U;
    u1s_emfng_ecxmf1        = (u1)0U;
    big_emfng_exjokmf       = (u1)OFF;
    u1s_emfng_ecjemrev      = (u1)0U;
    bis_emfng_excntmf       = (u1)OFF;
    bis_emfng_exdmf1        = (u1)OFF;
    bis_emfng_exottd        = (u1)OFF;
    s4s_emfng_emfrtotsum    = (s4)(((0.)/(256./128./256.))+0.5);
    u2s_emfng_ecmfotcnt     = (u2)0U;
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    big_emfng_exmfddi   = (u1)OFF;
    big_emfng_exmfdied  = (u1)OFF;
    big_emfng_exmfdpfi  = (u1)OFF;
    big_emfng_exmfpfied = (u1)OFF;
#endif

#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    emfng_espdaemclr();
#endif
    /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */ /* ÉRÅ[Éãå≥emfcnt_drvclchg()Ç≈é¿é{ */
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_16msl( )                                   */
/*  èàóùì‡óe      | 16ms¿≤–›∏ﬁèàóù                                   */
/*  êßå‰É^ÉCÉ~ÉìÉO| 16msñà(emfcnt_16msl()ÇÊÇËÉRÅ[Éã)                 */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      |                                                  */
/*********************************************************************/
void
emfng_16msl( void )
{
    s4 s4t_ejmfne;         /* lsb=1 :âÒì]óÃàÊ */
    s2 s2t_ethw;           /* lsb=160/256,unit=Åé :¥›ºﬁ›êßå‰ópêÖâ∑ */
    s2 s2t_etha;           /* lsb=160/256,unit=Åé :¥›ºﬁ›êßå‰ópãzãCâ∑ */
    s2 s2t_THA_c;          /* lsb=160/256,unit=Åé :ÉzÉbÉgÉXÉ^Å[ÉgîªíËãzãCâ∑ */
    s2 s2t_THWCSTH_c;      /* lsb=160/256,unit=Åé :ÉRÅ[ÉãÉhÉXÉ^Å[ÉgîªíËêÖâ∑ */
    s2 s2t_THACST_c;       /* lsb=160/256,unit=Åé :ÉRÅ[ÉãÉhÉXÉ^Å[ÉgîªíËãzãCâ∑ */
    s2 s2t_MFNEL3_c;       /* lsb=12800/64/256,unit=rpm :ÉAÉCÉhÉãóÃàÊîªíËíl */

    s2t_ethw = s2g_ethw_ethw;
    s2t_etha = s2g_etha_etha;
    s2t_MFNEL3_c = s2s_emfng_MFNEL3;

    if ( u1g_exst_exastnrm == (u1)OFF )
    {
        /***************/
        /* ŒØƒΩ¿∞ƒîªíË */
        /***************/
        s2t_THA_c = s2s_emfng_THA;
        if ( ( s2t_ethw >= s2s_emfng_THW )
          && ( s2t_etha >= s2t_THA_c ) )
        {
            big_emfng_exhstmf = (u1)ON;
        }
        else
        {
            big_emfng_exhstmf = (u1)OFF;
        }

        /*****************/
        /* ∫∞ŸƒﬁΩ¿∞ƒîªíË */
        /*****************/
        s2t_THWCSTH_c = s2s_emfng_THWCSTH;
        s2t_THACST_c = s2s_emfng_THACST;
        if ( ( s2t_ethw <= s2s_emfng_THWCSTL )
          || ( ( s2t_ethw <= s2t_THWCSTH_c )
            && ( s2t_etha <= s2t_THACST_c ) ) )
        {
            big_emfng_excstmf = (u1)ON;
        }
        else
        {
            big_emfng_excstmf = (u1)OFF;
        }
    }

    /**********************************************/
    /* êGî}OT⁄ÕﬁŸ±≤ƒﬁŸéûé∏âŒåüèoãñâ¬∂≥›¿ÇÃ∏ÿ±èàóù */
    /**********************************************/
    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    s4t_ejmfne = (s4)u1g_emfne_ejmfne;
    if ( ( ( s4t_ejmfne != (s4)u1g_EMFNE_REV_IDLE2 )
#if JEMFHOUKI == u1g_EJCC_USAMF                                /*ÅyëŒïƒñ@ãKÅz*/
        && ( s4t_ejmfne != (s4)u1g_EMFNE_REV_IDLE1 )
#endif
         )
      || ( s2g_ene_ene >= s2t_MFNEL3_c ) )
    {
        emfng_cdmfi_reset();
    }
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_65msl( )                                   */
/*  èàóùì‡óe      | 65ms¿≤–›∏ﬁèàóù                                   */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfcnt_65msl()ÇÊÇËÉRÅ[Éã)                 */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      |                                                  */
/*********************************************************************/
void
emfng_65msl( void )
{
    u1 u1t_xdmfem;          /* lsb=1 :EMà´âª⁄ÕﬁŸàŸèÌåüèoÃ◊∏ﬁ */
    u1 u1t_xdmfot;          /* lsb=1 :êGî}OT⁄ÕﬁŸàŸèÌåüèoÃ◊∏ﬁ */
    u1 u1t_xumfot;          /* lsb=1 :êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1 u1t_xhmfoton;        /* lsb=1 :êGî}OTÇ…ÇÊÇÈMILì_ñ≈óvãÅÃ◊∏ﬁ */
    u1 u1t_xhmfotoff;       /* lsb=1 :êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸóvãÅÃ◊∏ﬁ */
    u1 u1t_xumfem;          /* lsb=1 :EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u2 u2t_cdtmfwa;         /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸîªíËópà´òH∂≥›¿ */
    s4 s4t_cdmfae2;         /* lsb=1,unit=âÒ :EMà´âªÉåÉxÉãëSãCìõé∏âŒÉJÉEÉìÉ^(îªíËóp) */
    u4  u4t_cdmfaavTv;      /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ)‹∞∏ */
    u2  u2t_cdmfaavTv;      /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ)‹∞∏(èëÇ´çûÇ›óp) */
    u2  u2t_ECDMFAAVMNTL_MI_c;  /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^â∫å¿íl(ëSãCìõ)èâä˙íl */
    u2  u2t_cdmfaavMxtl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ)‹∞∏(èëÇ´çûÇ›óp) */
    u4  u4t_cdmfaemTv;      /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)‹∞∏           Åymode$06-TID$0CÅz*/
    u4  u4t_cdmfavTv;       /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï )‹∞∏ Åymode$06-TID$0BÅz*/
    u2  u2t_cdmfavTv;       /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï )‹∞∏(èëÇ´çûÇ›óp) Åymode$06-TID$0BÅz*/
    u2  u2t_ECDMFAVMNTL_MI_c ;  /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^â∫å¿íl(ãCìõï )èâä˙íl */
    u2  u2t_cdmfavMxtl;     /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï )‹∞∏(èëÇ´çûÇ›óp) Åymode$06-TID$0BÅz*/
    u4  u4t_cdmfemTv;       /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )‹∞∏           Åymode$06-TID$0CÅz*/
    s4  s4t_cyl;            /* lsb=1,unit=ãCìõ */
    u1  u1t_exrcdmf;        /* lsb=1 :EWMAé∏âŒ∂≥›¿åvéZóöóÃ◊∏ﬁ */
    u2  u2t_ECDMFAEMTV_MI_c;    /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^(ëSãCìõ)èâä˙íl */
    u2  u2t_ECDMFEMTV_MI_c;     /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^(ãCìõï )èâä˙íl */
#if JEMAT_OBD2 == u1g_EJCC_NOT_USE    /*ÅyOBD2ìKçáñ≥Åz*/
    u1  u1t_xmfKwp;         /* lsb=1 :OBD2¿ﬁ≤±∏ﬁœΩ∏èÓïÒ é∏âŒ */
#endif

    u1  u1t_xjokmf;         /* lsb=1 : énìÆå„èäíËâÒì]äÆóπÃ◊∏ﬁ */
    u1  u1t_cjemrev;        /* lsb=1, unit=âÒ : énìÆå„¥–ØºÆ›à´âª⁄ÕﬁŸîªíËâÒêî */
    u1  u1t_xreqclr;        /* lsb=1 :√ﬁ∞¿è¡ãéóvãÅÃ◊∏ﬁ */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    u1  u1t_xdmfdi;         /* lsb=1 : DIàŸèÌÃ◊∏ﬁ */
    u1  u1t_xumfdi;         /* lsb=1 : DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1  u1t_xdmfpfi;        /* lsb=1 : PFIàŸèÌÃ◊∏ﬁ */
    u1  u1t_xumfpfi;        /* lsb=1 : PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    s4  s4t_i;              /* lsb=1 :forÉãÅ[Évópïœêî */
#endif
    u1  u1t_exdisable;      /* lsb=1 :DisableÃ◊∏ﬁ */
    u1  u1t_excomplete;     /* lsb=1 :CompleteÃ◊∏ﬁ */
    u2  u2t_LJMFOT_c;       /* lsb=2/u1g_EJCC_NCYL,unit=rev :êGî}OTÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */
    u2  u2t_LJMFEM_c;       /* lsb=2/u1g_EJCC_NCYL,unit=rev :EMà´âªÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */
    u2  u2t_LJMFOTF_c;      /* lsb=2/u1g_EJCC_NCYL,unit=rev :êGî}OTÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )     /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
    u2 u2t_ecdmfaavTv;      /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfaavMntl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfaavMxtl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2 u2t_dtrid;           /* lsb=1 :√Ωƒåãâ èoóÕÇhÇc */
    u2 u2t_ecdmfavTv;       /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfavMntl;     /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfavMxtl;     /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfaemTv;      /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfaemMntl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfaemMxtl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfemTv;       /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfemMntl;     /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2 u2t_ecdmfemMxtl;     /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ãCìõï )(ñﬂÇËíléÊìæóp) */
#endif
    u1 u1t_ncyl_c;          /* lsb=1 :ãCìõêî */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_xdmfem    = (u1)OFF;
    u1t_xdmfot    = (u1)OFF;
    u1t_xumfot    = (u1)OFF;
    u1t_xhmfoton  = (u1)OFF;
    u1t_xhmfotoff = (u1)OFF;
    u1t_xumfem    = (u1)OFF;
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    u1t_xumfdi    = (u1)OFF;
    u1t_xumfpfi   = (u1)OFF;
    u1t_xdmfdi    = (u1)OFF;
    u1t_xdmfpfi   = (u1)OFF;
#endif

    big_emfng_excdmfemclr  = (u1)OFF;                   /* ecdmfem[]∏ÿ±óvãÅÃ◊∏ﬁ */
    bis_emfng_excdmfem2clr = (u1)OFF;                   /* ecdmfem2[]∏ÿ±óvãÅÃ◊∏ﬁ */
    bis_emfng_excdmfwclr   = (u1)OFF;                   /* ecdmfw[]∏ÿ±óvãÅÃ◊∏ﬁ */
    bis_emfng_excdmfae2clr = (u1)OFF;
#if JETCORE_D == u1g_EJCC_USE         /*Åyt-COREëŒâûóLÅz*/
    bis_emfng_exoutftp     = (u1)OFF;
    bis_emfng_exemfst      = (u1)OFF;
#endif

#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    bis_emfng_excdmfdiclr  = (u1)OFF;
    bis_emfng_excdmfpficlr = (u1)OFF;
#endif

    u1t_xjokmf  = (u1)big_emfng_exjokmf;
    u1t_cjemrev = u1s_emfng_ecjemrev;
#if JEMAT_OBD2 == u1g_EJCC_NOT_USE    /*ÅyOBD2ìKçáñ≥Åz*/
    u1t_xmfKwp  = (u1)big_wobd2msk_xmfKwp;
#endif
    u2t_LJMFOT_c = u2g_emfng_LJMFOT;
    u2t_LJMFEM_c = u2g_emfng_LJMFEM;
    u2t_LJMFOTF_c = u2s_emfng_LJMFOTF;
#if JEMFDTC_D == u1g_EJCC_USE         /*Åyé∏âŒOBD DTCóLÅz*/
    u1s_emfng_xem_lstpnd_Lch = (u1)big_wmf_fdi_xem_lstpnd;
    u1s_emfng_xot_lstpnd_Lch = (u1)big_wmf_fdi_xot_lstpnd;
    u1s_emfng_xot_warning_Lch = (u1)big_wmf_fdi_xot_warning;
    u1s_emfng_xem_warning_Lch = (u1)big_wmf_fdi_xem_warning;
#endif
    u1s_emfng_state_Lch = u1g_wsentivchg_state;
    u1t_ncyl_c = u1g_ejcc_NCYL;
    u1s_emfng_xreqclr_Lch = (u1)big_wdiaginfclr_xreqclr;

    /********************/
    /* åvéZílïœêîÇÃéZèo */
    /********************/
    emfng_mcr_cal();

    /*************************************************/
    /* ecdmfaavTvÅAecdmfavTv[](mode$06 TID$0B)ÇÃéZèo */
    /*************************************************/

    u1t_exrcdmf = u1s_emfng_exrcdmf();

    if ( ( bis_emfng_excntmf == (u1)OFF )   /* ƒÿØÃﬂåpë±íÜÇ≈Ç»Ç¢ */
      && ( u1t_exrcdmf == (u1)OFF ) )       /* åvéZóöóÇ™Ç»Ç¢ */
    {
        u4t_cdmfaavTv = (u4)u2g_emfng_ecdmfaavTv();
        u4t_cdmfaavTv = u4g_glmulstngrd_u2u2u2( (u2)u4t_cdmfaavTv, (u2)(((0.9)/(1./256./256.))+0.5), (u2)16U );

        u4t_cdmfaemTv = (u4)u2g_emfng_ecdmfaemTv();
        u4t_cdmfaemTv = u4g_glmulstngrd_u2u2u2( (u2)u4t_cdmfaemTv, (u2)(((0.1)/(1./256./256.))+0.5), (u2)16U );

        /* ëOâÒecdmfaavTv*0.9 + ecdmfaemTv*0.1 */
        u4t_cdmfaavTv += u4t_cdmfaemTv;
        ELIB_HIGHGD2( u4t_cdmfaavTv, (u4)u2g_U2MAX, u4t_cdmfaavTv );
        u2t_cdmfaavTv = (u2)u4t_cdmfaavTv;

        /* ç°âÒé∏âŒâÒêî*0.1Å{ëOâÒÇ‹Ç≈ÇÃïΩãœ*0.9(ëSãCìõ)Åymode$06-TID$0BÅz*/
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAAVTV_U2_ID, (void *)&u2t_cdmfaavTv );                 /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        /* ecdmfaavTvîªíËâ∫å¿ */
        u2t_ECDMFAAVMNTL_MI_c = u2g_emfng_ECDMFAAVMNTL_MI;
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAAVMNTL_U2_ID, (void *)&u2t_ECDMFAAVMNTL_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        /* ecdmfaavTvîªíËè„å¿ */
        u2t_cdmfaavMxtl = (u2)0xffffU;
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAAVMXTL_U2_ID, (void *)&u2t_cdmfaavMxtl );             /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                                /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
        u2t_ecdmfaavTv   = u2g_emfng_ecdmfaavTv();
        u2t_ecdmfaavMntl = u2g_emfng_ecdmfaavMntl();
        u2t_ecdmfaavMxtl = u2g_emfng_ecdmfaavMxtl();
        (void)u1g_wtcif_dem_setdtr_u2s4s4s4u1( u2g_WTCIF_DEM_DTR_ECDMFAAV, (s4)u2t_ecdmfaavTv, (s4)u2t_ecdmfaavMntl, (s4)u2t_ecdmfaavMxtl, u1g_WTCIF_DEM_DTR_CTL_NORMAL );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
        u2t_ECDMFAVMNTL_MI_c = u2g_emfng_ECDMFAVMNTL_MI;
        for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c; s4t_cyl++ )
        {
            u4t_cdmfavTv = (u4)u2g_emfng_ecdmfavTv( (u1)s4t_cyl );
            u4t_cdmfavTv = u4g_glmulstngrd_u2u2u2( (u2)u4t_cdmfavTv, (u2)(((0.9)/(1./256./256.))+0.5), (u2)16U );

            u4t_cdmfemTv = (u4)u2g_emfng_ecdmfemTv( (u1)s4t_cyl );
            u4t_cdmfemTv = u4g_glmulstngrd_u2u2u2( (u2)u4t_cdmfemTv, (u2)(((0.1)/(1./256./256.))+0.5), (u2)16U );

            /* ëOâÒecdmfavTv[]*0.9 + ecdmfemTv[]*0.1 */
            u4t_cdmfavTv += u4t_cdmfemTv;
            ELIB_HIGHGD2( u4t_cdmfavTv, (u4)u2g_U2MAX, u4t_cdmfavTv );
            u2t_cdmfavTv = (u2)u4t_cdmfavTv;

            /* ç°âÒé∏âŒâÒêî*0.1Å{ëOâÒÇ‹Ç≈ÇÃïΩãœ*0.9(ãCìõï ) Åymode$06-TID$0BÅz */
            (void)s4g_ememctr_write( u2s_ECDMFAVTV_U2_ID[s4t_cyl], (void *)&u2t_cdmfavTv );            /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            /* ecdmfavTv[]îªíËâ∫å¿ */
            (void)s4g_ememctr_write( u2s_ECDMFAVMNTL_U2_ID[s4t_cyl], (void *)&u2t_ECDMFAVMNTL_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            /* ecdmfavTv[]îªíËè„å¿ */
            u2t_cdmfavMxtl = (u2)0xffffU;
            (void)s4g_ememctr_write( u2s_ECDMFAVMXTL_U2_ID[s4t_cyl], (void *)&u2t_cdmfavMxtl );        /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                                /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
            u2t_dtrid = u2s_emfng_ecdmfav_tbl[s4t_cyl];
            u2t_ecdmfavTv   = u2g_emfng_ecdmfavTv( (u1)s4t_cyl );
            u2t_ecdmfavMntl = u2g_emfng_ecdmfavMntl( (u1)s4t_cyl );
            u2t_ecdmfavMxtl = u2g_emfng_ecdmfavMxtl( (u1)s4t_cyl );
            (void)u1g_wtcif_dem_setdtr_u2s4s4s4u1( u2t_dtrid, (s4)u2t_ecdmfavTv, (s4)u2t_ecdmfavMntl, (s4)u2t_ecdmfavMxtl, u1g_WTCIF_DEM_DTR_CTL_NORMAL );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
        }
        /**************************************/
        /* exrcdmf(mode$06åvéZóöóÃ◊∏ﬁ)ÇÃëÄçÏ */
        /**************************************/
        u1t_exrcdmf = (u1)ON;
        (void)s4g_ememctr_write( u2g_EMFNG_EXRCDMF_U1_ID, (void *)&u1t_exrcdmf );                      /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    /*******************************/
    /* mode$06óp é∏âŒ∂≥›¿ÇÃ∏ÿ±èàóù */
    /*******************************/
    if ( ( bis_emfng_excntmf == (u1)OFF )       /* ƒÿØÃﬂåpë±íÜÇ≈Ç»Ç¢ */
#if JEOBDUDS_D == u1g_EJCC_NOT_USE              /*ÅyOBDonUDSëŒâûñ≥Åz*/
      && ( u1g_exst_exastnrm == (u1)ON )        /* exastnrm OFF->ON */
#else                                           /*ÅyOBDonUDSëŒâûóLÅz*/
      && ( big_wpsajdg_xpsa == (u1)ON )         /* xpsa OFF->ON */
#endif
       )
    {   /* énìÆå„ÅAèââÒèåèê¨óßÇ≈bis_emfng_excntmf=ONÇ∆Ç»ÇÈà◊ÅAu1g_exst_exastnrm/big_wpsajdg_xpsa == ONÇ≈îªíËÇ∑ÇÈ */
        /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)∏ÿ±Åymode$06-TID$0CÅz*/
        u2t_ECDMFAEMTV_MI_c = u2g_emfng_ECDMFAEMTV_MI;
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMTV_U2_ID, (void *)&u2t_ECDMFAEMTV_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

        u2t_ECDMFEMTV_MI_c = u2g_emfng_ECDMFEMTV_MI;
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                            /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
        u2t_ecdmfaemTv   = u2g_emfng_ecdmfaemTv();
        u2t_ecdmfaemMntl = u2g_emfng_ecdmfaemMntl();
        u2t_ecdmfaemMxtl = u2g_emfng_ecdmfaemMxtl();
         (void)u1g_wtcif_dem_setdtr_u2s4s4s4u1( u2g_WTCIF_DEM_DTR_ECDMFAEM, (s4)u2t_ecdmfaemTv, (s4)u2t_ecdmfaemMntl, (s4)u2t_ecdmfaemMxtl, u1g_WTCIF_DEM_DTR_CTL_NORMAL );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
        for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c; s4t_cyl++ )
        {
            /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )∏ÿ±Åymode$06-TID$0CÅz*/
            (void)s4g_ememctr_write( u2s_ECDMFEMTV_U2_ID[s4t_cyl], (void *)&u2t_ECDMFEMTV_MI_c );      /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                            /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
            u2t_dtrid       = u2s_emfng_ecdmfem_tbl[s4t_cyl];
            u2t_ecdmfemTv   = u2g_emfng_ecdmfemTv( (u1)s4t_cyl );
            u2t_ecdmfemMntl = u2g_emfng_ecdmfemMntl( (u1)s4t_cyl );
            u2t_ecdmfemMxtl = u2g_emfng_ecdmfemMxtl( (u1)s4t_cyl );
            (void)u1g_wtcif_dem_setdtr_u2s4s4s4u1( u2t_dtrid, (s4)u2t_ecdmfemTv, (s4)u2t_ecdmfemMntl, (s4)u2t_ecdmfemMxtl, u1g_WTCIF_DEM_DTR_CTL_NORMAL );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
        }

        /* exrcdmf(mode$06åvéZóöóÃ◊∏ﬁ)ÇÃ∏ÿ± */
        u1t_exrcdmf = (u1)OFF;
        (void)s4g_ememctr_write( u2g_EMFNG_EXRCDMF_U1_ID, (void *)&u1t_exrcdmf );                      /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

        bis_emfng_excntmf = (u1)ON;     /* ƒÿØÃﬂåpë±Ã◊∏ﬁæØƒ */
    }

    /**************************************/
    /* êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁÇÃëÄçÏ */
    /**************************************/
    emfng_xottd_cal();

    /**************************/
    /* êGî}OT⁄ÕﬁŸÇÃàŸèÌÇÃåüèo */
    /**************************/
    if ( ( u2g_emfng_ecjmfot >= u2t_LJMFOT_c )      /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */
      || ( ( u2g_emfng_ecjmfem >= u2t_LJMFEM_c )
        && ( u2g_emfng_ecjmfot >= u2t_LJMFOTF_c ) ) )
    {
        /****************/
        /* åüèoèåèîªíË */
        /****************/
        emfng_ot_detect_ptptptpt( &u1t_xumfot, &u1t_xdmfot, &u1t_xhmfoton, &u1t_xhmfotoff );

#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
        /*******************/
        /* ésèÍí≤ç∏RAMçXêV */
        /*******************/
        emfng_eocmfmlt_pt( &u1g_emfng_ecdmfw[0] );
#endif

        /*****************************/
        /* mode$06ëŒâûé∏âŒ∂≥›¿ÇÃëÄçÏ */
        /*****************************/
        emfng_emode06_cal();

        /**********************************/
        /* êGî}OT⁄ÕﬁŸàŸèÌåüèoèIóπéûÇÃèàóù */
        /**********************************/
        glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */

        /* äeéÌÉJÉEÉìÉ^ÇÃÉNÉäÉAèàóù */
        u2g_emfng_ecjmfot        = (u2)0U;
        u1g_emfng_ecdmfaotbnk[0] = (u1)0U;   /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        u1g_emfng_ecdmfaotbnk[1] = (u1)0U;   /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        u1g_emfng_ecdmfaot       = (u1)0U;   /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        u1g_emfng_ecdtmf2        = (u1)0U;   /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        u2g_emfng_ecmfot         = (u2)0U;   /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        s4s_emfng_emfrtotsum     = (s4)0;    /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        u2s_emfng_ecmfotcnt      = (u2)0U;   /* CJMFOTÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
        bis_emfng_excdmfwclr  = (u1)ON;      /* CDMFWÇÕ¿ﬁ≤±∏ﬁ∫∞ƒﬁèàóùå„Ç…ÉNÉäÉAÇ∑ÇÈ */
        big_emfng_excdmfemclr = (u1)ON;      /* CDMFEMÇÕ¿ﬁ≤±∏ﬁ∫∞ƒﬁèàóùå„Ç…ÉNÉäÉAÇ∑ÇÈ */

        glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */
    }   /* êGî}OT⁄ÕﬁŸàŸèÌåüèo¿≤–›∏ﬁ end */

    /***************************/
    /* é∏âŒéûÇÃNE,ïââ◊çXêVí ím */
    /***************************/
    if ( ( u1t_xdmfot == (u1)ON )                  /* êGî}OTÉåÉxÉãàŸèÌ */
      && ( big_emfng_excdmfw == (u1)ON ) )         /* ëŒå¸ãCìõé∏âŒ(Åy4ãCìõÅzéûÇÕOFFå≈íË) */
    {
        emfok_mfneld_ann();
    }

    /************************/
    /* EMà´âª⁄ÕﬁŸàŸèÌÇÃåüèo */
    /************************/
#if ( JEMFDTC_D == u1g_EJCC_USE ) && ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_USE )    /*Åyé∏âŒOBD DTCóLÅzANDÅyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûóLÅz*/
    u1s_emfng_pas = (u1)OFF;                    /* ÇdÇlà´âªÉåÉxÉãîªíËÉ^ÉCÉ~ÉìÉOïsê¨óßéûîªíËÃ◊∏ﬁOFF */
#endif
    if ( u2g_emfng_ecjmfem >= u2t_LJMFEM_c ) /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev é¿çs¿≤–›∏ﬁ */
    {
#if ( JEMFDTC_D == u1g_EJCC_USE ) && ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_USE )    /*Åyé∏âŒOBD DTCóLÅzANDÅyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûóLÅz*/
        u1s_emfng_pas = (u1)ON;                 /* ÇdÇlà´âªÉåÉxÉãîªíËÉ^ÉCÉ~ÉìÉOê¨óßéûîªíËÃ◊∏ﬁON */
                                                /* emfng_wxmf_out()ÉRÅ[ÉãëOÇ…é¿é{ */
#endif
#if JEEFI == u1g_EJCC_DUAL   /*Åy√ﬁ≠±ŸINJÅz*/
        /**********************************/
        /* äeï¨éÀ”∞ƒﬁ∏ÿ±óp1000revîªíËí ím */
        /**********************************/
        emfok_mfcmodclr();
#endif

        /* à´òHèÛë‘ÉJÉEÉìÉ^Ç™èäíËâÒêîà»è„Ç≈ÇÕÅué∏âŒÉJÉEÉìÉ^-à´òHÉJÉEÉìÉ^Å~nÅvÇ≈àŸèÌîªíË */
        u2t_cdtmfwa = u2s_emfng_ecdtmfwa;

        s4t_cdmfae2 = (s4)u2g_emfng_ecdmfae2;
        if ( u2t_cdtmfwa >= (u2)u1g_emfng_CDTMFWA )
        {
            s4t_cdmfae2 -= (s4)u4g_glmulstngrd_u2u2u2( u2t_cdtmfwa, (u2)u1s_emfng_KCDTMFWA, (u2)5U );
                                     /* 1*8/256 -> 1(âÒ)  u2*u1ÇÃÇΩÇﬂÅAs4Ç©ÇÁÇÃÉIÅ[ÉoÅ[ÉtÉçÅ[ñ≥Çµ */
            ELIB_LOWGD2( s4t_cdmfae2, (s4)0, s4t_cdmfae2 );            /* â∫å¿ÉKÅ[Éh */
        }

#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
        /*******************/
        /* ésèÍí≤ç∏RAMçXêV */
        /*******************/
        emfng_eocmfn_u2( (u2)s4t_cdmfae2 );    /* (u2-u2*u1)ÇÃÇΩÇﬂÅAu2ÇÃè„å¿ë§ÉKÅ[Éhïsóv */
#endif

        /****************/
        /* åüèoèåèîªíË */
        /****************/
        emfng_em_detect_u2ptpt( (u2)s4t_cdmfae2, &u1t_xdmfem, &u1t_xumfem );

        /**********************************/
        /* EMà´âª⁄ÕﬁŸàŸèÌåüèoèIóπéûÇÃèàóù */
        /**********************************/
        glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */

        /* äeéÌÉJÉEÉìÉ^ÇÃÉNÉäÉAèàóù */
        u2g_emfng_ecjmfot        = (u2)0U;
        u1g_emfng_ecdmfaotbnk[0] = (u1)0U;      /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        u1g_emfng_ecdmfaotbnk[1] = (u1)0U;      /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        u1g_emfng_ecdmfaot       = (u1)0U;      /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        bis_emfng_excdmfwclr     = (u1)ON;      /* CDMFWÇÕ¿ﬁ≤±∏ﬁ∫∞ƒﬁèàóùå„Ç…∏ÿ±Ç∑ÇÈ */
        u2g_emfng_ecjmfem        = (u2)0U;
        bis_emfng_excdmfae2clr   = (u1)ON;      /* CDMFAE2ÇÕ¿ﬁ≤±∏ﬁ∫∞ƒﬁèàóùå„Ç…∏ÿ±Ç∑ÇÈ */
        u1g_emfng_ecdmfaem       = (u1)0U;      /* CJMFEMÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        u2g_emfng_ecmfot         = (u2)0U;      /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        u2s_emfng_ecdtmfwa       = (u2)0U;      /* CJMFEMÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        u1g_emfng_ecdtmf2        = (u1)0U;      /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        s4s_emfng_emfrtotsum     = (s4)0;       /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        u2s_emfng_ecmfotcnt      = (u2)0U;      /* CJMFOTÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
        big_emfng_excdmfemclr    = (u1)ON;      /* CDMFEMÇÕ¿ﬁ≤±∏ﬁ∫∞ƒﬁèàóùå„Ç…∏ÿ±Ç∑ÇÈ */
        bis_emfng_excdmfem2clr   = (u1)ON;      /* CDMFEM2ÇÕ¿ﬁ≤±∏ﬁ∫∞ƒﬁèàóùå„Ç…∏ÿ±Ç∑ÇÈ */

        glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */

        u1t_xjokmf  = (u1)ON;            /* EMà´âª⁄ÕﬁŸàŸèÌîªíËå„Ç…1ƒÿØÃﬂîªíËé¿çsÃ◊∏ﬁON */
        if ( u1t_cjemrev < u1g_U1MAX )
        {
            u1t_cjemrev++;
        }
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
        /* ésèÍí≤ç∏RAMÇÃ∏ÿ±èàóù */
        emfng_espdaemclr();
#endif
    }   /* EMà´âª⁄ÕﬁŸîªíË¿≤–›∏ﬁ end */

#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    /********************/
    /* DIàŸèÌÇÃåüèoîªíË */
    /********************/
    if ( u2s_emfng_ecjmfdi >= u2t_LJMFOT_c )
    {
        emfng_di_detect_ptpt( &u1t_xdmfdi, &u1t_xumfdi );
    }

    /*********************/
    /* PFIàŸèÌÇÃåüèoîªíË */
    /*********************/
    if ( u2s_emfng_ecjmfpfi >= u2t_LJMFOT_c )
    {
        emfng_pfi_detect_ptpt( &u1t_xdmfpfi, &u1t_xumfpfi );
    }
#endif

    /* êGî}OT⁄ÕﬁŸ,EMà´âª⁄ÕﬁŸ,DI,PFIÇÃàŸèÌ•ê≥èÌîªíËï€óØ•MILì_ñ≈óvãÅÇÃåãâ ÇRAMÇ÷ */
    /* emfng_wxmf_out()ÉRÅ[ÉãëOÇ…é¿é{ */
    glbitcp_bibi( u1t_xdmfot,    bis_emfng_exdmfot );         /* êGî}OT⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xumfot,    bis_emfng_exumfot );         /* êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xhmfoton,  bis_emfng_exhmfoton );       /* êGî}OTÇ…ÇÊÇÈMILì_ñ≈óvãÅÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xhmfotoff, bis_emfng_exhmfotoff );      /* êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸóvãÅÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xdmfem,    bis_emfng_exdmfem );         /* EMà´âª⁄ÕﬁŸàŸèÌåüèoÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xumfem,    bis_emfng_exumfem );         /* EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    glbitcp_bibi( u1t_xdmfdi,    bis_emfng_exdmfdi );         /* DIàŸèÌÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xumfdi,    bis_emfng_exumfdi );         /* DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xdmfpfi,   bis_emfng_exdmfpfi );        /* PFIàŸèÌÃ◊∏ﬁ */
    glbitcp_bibi( u1t_xumfpfi,   bis_emfng_exumfpfi );        /* PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
#endif

#if JEMFDTC_D == u1g_EJCC_USE /*Åyé∏âŒOBD DTCóLÅz*/
    /********************/
    /* ìdãZÇ÷ÇÃí ímèàóù */
    /********************/
    emfng_wxmf_out();
#endif

    /**************************/
    /* É_ÉCÉAÉOÇ©ÇÁÇÃè¡ãéóvãÅ */
    /**************************/
    u1t_xreqclr = u1s_emfng_wxreqclr();
    if ( u1t_xreqclr == (u1)ON )
    {
        u1t_xjokmf       = (u1)OFF;
        u1t_cjemrev      = (u1)0U;             /* exjokmfÇ∆ìØéûÇ…∏ÿ± */
        bis_emfng_exdmf1 = (u1)OFF;
    }

#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    if ( bis_emfng_excdmfdiclr == (u1)ON )
    {
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            u1s_emfng_exdmfdim[s4t_i] = (u1)OFF;
        }
    }
    if ( bis_emfng_excdmfpficlr == (u1)ON )
    {
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            u1s_emfng_exdmfpfim[s4t_i] = (u1)OFF;
        }
    }
#endif

    /* DisableÃ◊∏ﬁÇÃëÄçÏ */
    u1t_exdisable = (u1)OFF;  /*ÅyOBD2ìKçáóLÅzANDÅyëŒïƒñ@ãKÅzéûÇÕOFFå≈íË */
#if JEMAT_OBD2 == u1g_EJCC_NOT_USE    /*ÅyOBD2ìKçáñ≥Åz*/
    if ( u1t_xmfKwp == (u1)ON )
    {
        u1t_exdisable = (u1)ON;
    }
#endif
#if JEMFHOUKI == u1g_EJCC_NOT_USAMF  /*ÅyëŒïƒñ@ãKà»äOÅz*/
    if ( s2g_etha_etha < (s2)(((-10.)/(160./256.)) - 0.5) )
    {
        u1t_exdisable = (u1)ON;
    }
#endif
    if ( u1t_xreqclr == (u1)ON )   /* ÉfÅ[É^è¡ãéóvãÅéû */
    {
        u1t_exdisable = (u1)OFF;
    }

    /* CompleteÃ◊∏ﬁÇÃëÄçÏ */
#if JEMAT_OBD2 == u1g_EJCC_NOT_USE    /*ÅyOBD2ìKçáñ≥Åz*/
    u1t_excomplete = (u1)OFF;
    if ( u1t_xmfKwp == (u1)OFF )
#endif
    {
        u1t_excomplete = (u1)ON;  /*ÅyOBD2ìKçáóLÅzéûÇÕONå≈íË */
    }

    /* RAMÉfÅ[É^Ç…äiî[ */
    u1s_emfng_ecjemrev = u1t_cjemrev;
    glbitcp_bibi( u1t_xjokmf, big_emfng_exjokmf );
    glbitcp_bibi( u1t_excomplete, big_emfng_excomplete );
    glbitcp_bibi( u1t_exdisable, big_emfng_exdisable );
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_mcr_cal( )                                 */
/*  èàóùì‡óe      | åvéZílïœêîÇÃéZèo                                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| pwon,65ms(emfng_pwon(),emfng_65msl()Ç©ÇÁÉRÅ[Éã)  */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static void
emfng_mcr_cal( void )
{
    u4 u4t_ekldmfw1_mcr;        /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîîªíËâ∫å¿íl(åvéZíl) */
#if JENCYL == u1g_EJCC_6CYL     /*Åy6ãCìõÅz*/
    u4 u4t_ekldmfw2_mcr;        /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîîªíËè„å¿íl(åvéZíl) */
#endif
    u4 u4t_ekldmfoth_mcr;       /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl) */
    u4 u4t_eldmfaem_mcr;        /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl) */
    u2 u2t_LJMFOT_c;            /* lsb=2/u1g_EJCC_NCYL,unit=rev :êGî}OTÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */
    u2 u2t_LJMFEM_c;            /* lsb=2/u1g_EJCC_NCYL,unit=rev :EMà´âª⁄ÕﬁŸàŸèÌîªíËé¿çs¿≤–›∏ﬁ */
    u2 u2t_KLDMFOT_c;           /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸé∏âŒâÒêîîªíËíl(100ì_âŒ/1ãCìõï”ÇË) */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u2t_LJMFOT_c = u2g_emfng_LJMFOT;
    u2t_LJMFEM_c = u2g_emfng_LJMFEM;
    u2t_KLDMFOT_c = u1s_emfng_KLDMFOT;

    /* ëŒå¸ãCìõé∏âŒâÒêîîªíËâ∫å¿íl(åvéZíl)ÇÃéZèo */
    /* ekldmfw1_mcr Å© emfng_LJMFOT Åñ ((ãCìõêîÅ^2) Å^ (ãCìõêîÅ^2)) Åñ emfng_KLD1 */
    u4t_ekldmfw1_mcr = u4g_glmulstngrd_u2u2u2( u2t_LJMFOT_c, (u2)u1s_emfng_KLD1, (u2)6U );
    u4t_ekldmfw1_mcr = (u4)u2g_gldiv_u4u2( u4t_ekldmfw1_mcr, (u2)u1g_ejcc_NCYL );
                                                /* lsb=(2/NCYL)*(2/256) -> 1,unit=âÒ */
    ELIB_HIGHGD2( u4t_ekldmfw1_mcr, (u4)u1g_U1MAX, u4t_ekldmfw1_mcr );
    u1s_emfng_ekldmfw1_mcr = (u1)u4t_ekldmfw1_mcr;

#if JENCYL == u1g_EJCC_6CYL     /*Åy6ãCìõÅz*/
    /* ëŒå¸ãCìõé∏âŒâÒêîîªíËè„å¿íl(åvéZíl)ÇÃéZèo */
    /* ekldmfw2_mcr Å© emfng_LJMFOT Åñ ((ãCìõêîÅ^2) Å^ (ãCìõêîÅ^2)) Åñ emfng_KLD2 */
    u4t_ekldmfw2_mcr = u4g_glmulstngrd_u2u2u2( u2t_LJMFOT_c, (u2)u1s_emfng_KLD2, (u2)6U );
    u4t_ekldmfw2_mcr = (u4)u2g_gldiv_u4u2( u4t_ekldmfw2_mcr, (u2)u1g_ejcc_NCYL );
                                                /* lsb=(2/NCYL)*2/256 -> 1,unit=âÒ */
    ELIB_HIGHGD2( u4t_ekldmfw2_mcr, (u4)u1g_U1MAX, u4t_ekldmfw2_mcr );
    u1s_emfng_ekldmfw2_mcr = (u1)u4t_ekldmfw2_mcr;
#endif

    /* êGî}OT⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl)ÇÃéZèo */
    u4t_ekldmfoth_mcr = u4g_glmul_u2u2( (u2)u2t_KLDMFOT_c, (u2)u1g_ejcc_NCYL );
                                                /* lsb=1 * 1 -> 1,unit=âÒ */
    u4t_ekldmfoth_mcr = (u4)u2g_gldiv_u4u2( u4t_ekldmfoth_mcr, (u2)u1g_emfng_CATN );
                                                /* lsb=1 / 1 -> 1,unit=âÒ */
    u2g_emfng_ekldmfoth_mcr = (u2)u4t_ekldmfoth_mcr;

    /* EMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl)ÇÃéZèo */
    /* eldmfaem_mcr Å© emfng_LJMFEM Åñ (ãCìõêîÅ^2) Åñ emfng_MFDD Å^ 100 Åñ emfng_MFD1 */
    u4t_eldmfaem_mcr = u4g_glmul_u2u2( u2t_LJMFEM_c, (u2)s2s_emfng_MFDD );  /* emfng_MFDD(é∏âŒó¶)ÇÕïKÇ∏ê≥ÇÃÇΩÇﬂu2ÉLÉÉÉXÉgÇµÇƒOK */
                                                /* lsb=(2/NCYL)*(256/128/256) -> 256/128/256 */
                                                /* emfng_LJMFEMÇÃLSBïœä∑Ç∆(ãCìõêî/2)ÇÃââéZåãâ Ç™1Ç…Ç»ÇÈÇΩÇﬂèàóùè»ó™ */
    u4t_eldmfaem_mcr = u4g_glmulst_u4u4u2( u4t_eldmfaem_mcr, (u4)u2s_emfng_MFD1, (u2)22U );
                                                /* lsb=(256/128/256)*(2/256/256) -> 1 */
    u4t_eldmfaem_mcr = (u4)u2g_gldiv_u4u2( u4t_eldmfaem_mcr, (u2)100U );
    u2g_emfng_eldmfaem_mcr = (u2)u4t_eldmfaem_mcr;

    /* ∫∞ŸƒﬁΩ¿∞ƒéûEMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl)ÇÃéZèo */
    u2s_emfng_eldmfst1_mcr = u2g_glmulst_u2u2u2( (u2)u4t_eldmfaem_mcr, (u2)u1s_emfng_ST1RTO, (u2)5U );
                                                /* lsb=1 * (8/256) -> 1,unit=âÒ */

    /* ŒØƒΩ¿∞ƒéûEMà´âª⁄ÕﬁŸé∏âŒâÒêîîªíËíl(åvéZíl)ÇÃéZèo */
    u2s_emfng_eldmfst2_mcr = u2g_glmulst_u2u2u2( (u2)u4t_eldmfaem_mcr, (u2)u1s_emfng_ST2RTO, (u2)5U );
                                                /* lsb=1 * (8/256) -> 1,unit=âÒ */

    /* DTCèoóÕãCìõîªíËíl(åvéZíl)ÇÃéZèo */
    u2s_emfng_emfk_mcr = u2g_glmulst_u2u2u2( (u2)u4t_eldmfaem_mcr, (u2)u1s_emfng_KMFK, (u2)7U );
                                                /* lsb=1 * (2/256) -> 1,unit=âÒ */

#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    /* é∏âŒâÒêîè¨ÅAíÜÅAëÂïpìxîªíËâÒêîÇÃéZèo */
    u2s_emfng_ecmfnl_mcr = u2g_glmulst_u2u2u2( (u2)u4t_eldmfaem_mcr, (u2)u1s_emfng_MFLOW, (u2)7U );
    u2s_emfng_ecmfnm_mcr = u2g_glmulst_u2u2u2( (u2)u4t_eldmfaem_mcr, (u2)u1s_emfng_MFMID, (u2)7U );
    u2s_emfng_ecmfnh_mcr = u2g_glmulst_u2u2u2( (u2)u4t_eldmfaem_mcr, (u2)u1s_emfng_MFHI,  (u2)7U );
                                                /* lsb=1 * (2/256) -> 1,unit=âÒ */
#endif

}

/*********************************************************************/
/*  ä÷êîñº        | emfng_xottd_cal( )                               */
/*  èàóùì‡óe      | ±≤ƒﬁŸéûëŒå¸ãCìõé∏âŒêÍóp                          */
/*                | êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁÇÃëÄçÏ               */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65ms(emfng_65msl()Ç©ÇÁÉRÅ[Éã)                    */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static void
emfng_xottd_cal( void )
{
    s4 s4t_i;           /* lsb=1 :forÉãÅ[Évïœêî */
    u1 u1t_ncyl_c;      /* lsb=1 :ãCìõêî */
#if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
    s4 s4t_cnt;         /* lsb=1 :é∏âŒãCìõêî∂≥›¿ */
    u1 u1t_ncylw_c;     /* lsb=1 :ãCìõåQêî */
#endif
    s4 s4t_mfci;        /* lsb=1 :ecdmfemi[] >= emfng_MFSTEMIê¨óßâÒêî∂≥›¿ */
    s4 s4t_mfrtot;      /* lsb=256/128/256,unit=% :emfrtotsum/ecmfotcnt */
    s4 s4t_cdmfaot;     /* lsb=1,unit=âÒ :êGî}OTÉåÉxÉãëSãCìõé∏âŒÉJÉEÉìÉ^ */
    s4 s4t_cdmfaotbnk[2];  /* lsb=1,unit=âÒ :ÉoÉìÉNï êGî}OTÉåÉxÉãé∏âŒÉJÉEÉìÉ^ */
#if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
    s4 s4t_cdmfw;       /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒ∂≥›¿ */
    u1 u1t_excdmfwtmp;  /* lsb=1 :Ç¢Ç∏ÇÍÇ©ÇÃãCìõåQï ëŒå¸é∏âŒ∂≥›¿Ç…ÇÊÇËêGî}OTîªíË */
    u1 u1t_ekldmfw1_mcr; /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîîªíËâ∫å¿íl(åvéZíl) */
#endif
    u1 u1t_xcdmfaot;    /* lsb=1 :êGî}OTé∏âŒ∂≥›¿Ç…ÇÊÇÈêGî}OTîªíËê¨óßÃ◊∏ﬁ */
    u1 u1t_excdmfw;     /* lsb=1 :ëŒå¸ãCìõé∏âŒîªíËê¨óßÃ◊∏ﬁ */
    u1 u1t_exottd;      /* lsb=1 :êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁ */
    u1 u1t_xdtmf2;      /* lsb=1 :êGî}OTîªíËópà´òH∂≥›¿ílîªíË */
    s4 s4t_cdtmf2;      /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸîªíËópà´òH∂≥›¿ */
    s4 s4t_kcdmfaotb;   /* :ecdtmf2 Åñ emfng_KCDTMFAOTB */
    s4 s4t_cdmfaotb;    /* lsb=1,unit=âÒ :ecdmfaot-ecdtmf2ÇÃÉâÉbÉ`(MODE06óp) */
    s4 s4t_emfrtotsum;  /* lsb=256/128/256,unit=% :êœéZé∏âŒîªíËíl */
    u2 u2t_ecmfotcnt;   /* lsb=1,unit=âÒ :ïΩãœéZèoópêœéZâÒêî */
    s4 s4t_ekldmfot;    /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸé∏âŒâÒêîîªíËíl */
#if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
    u1 u1t_ecdmfw[u1g_EJCC_NCYL/2]; /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒ∂≥›¿ */
#endif
    u2 u2t_ecjmfot;     /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev :êGî}OT⁄ÕﬁŸé∏âŒåüèoãñâ¬∂≥›¿ */
    u1 u1t_MFSTEMI_c;   /* lsb=1,unit=âÒ :ÉAÉCÉhÉãíÜãCìõï é∏âŒâÒêîîªíËíl */
    u2 u2t_LJMFOT_c;    /* lsb=2/u1g_EJCC_NCYL,unit=rev :êGî}OTÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */
    u2 u2t_LJMFEM_c;    /* lsb=2/u1g_EJCC_NCYL,unit=rev :EMà´âªÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */
    u2 u2t_LJMFOTF_c;   /* lsb=2/u1g_EJCC_NCYL,unit=rev :êGî}OTÉåÉxÉãàŸèÌîªíËé¿çsÉ^ÉCÉ~ÉìÉO */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_exottd = (u1)bis_emfng_exottd;
#if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
    u1t_ekldmfw1_mcr = u1s_emfng_ekldmfw1_mcr;
#endif
    u2t_ecjmfot   = u2g_emfng_ecjmfot;
    u2t_LJMFOT_c = u2g_emfng_LJMFOT;
    u2t_LJMFEM_c = u2g_emfng_LJMFEM;
    u2t_LJMFOTF_c = u2s_emfng_LJMFOTF;
    u1t_ncyl_c = u1g_ejcc_NCYL;

    if ( u2g_emfng_ecjmfoti >= u2s_emfng_LJMFOTI )  /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */
    {
        /**************************************/
        /* êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁÇÃëÄçÏ */
        /**************************************/
        u1t_MFSTEMI_c = u1s_emfng_MFSTEMI;
        s4t_mfci = (s4)0;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            if ( u1g_emfng_ecdmfemi[s4t_i] >= u1t_MFSTEMI_c )
            {
                s4t_mfci++;
            }
        }

        u1t_exottd = (u1)OFF;
        if ( ( u2g_emfng_ecdmfaoti <= (u2)u1s_EMFNG_MFSTOTI )
          && ( s4t_mfci == (s4)2 ) )
        {
            u1t_exottd = (u1)ON;
        }
        emfng_cdmfi_reset(); /* êGî}OT⁄ÕﬁŸ±≤ƒﬁŸéûé∏âŒåüèoãñâ¬∂≥›¿ÇÃ∏ÿ± */
    }

    /* êGî}OT⁄ÕﬁŸàŸèÌåüèo¿≤–›∏ﬁ */
    if ( ( u2t_ecjmfot >= u2t_LJMFOT_c )      /* lsb=1/3Åy6ãCìõÅz1/2Åy4ãCìõÅz,unit=rev */
      || ( ( u2g_emfng_ecjmfem >= u2t_LJMFEM_c )
        && ( u2t_ecjmfot >= u2t_LJMFOTF_c ) ) )
    {
        s4t_cdtmf2 = (s4)u1g_emfng_ecdtmf2;  /* éñëOèÄîı */
        u1t_xdtmf2 = (u1)OFF;
        if ( s4t_cdtmf2 >= (s4)u1s_emfng_CDTMF2 )
        {
            u1t_xdtmf2 = (u1)ON;
        }

        /*********************************/
        /* é∏âŒâÒêîCDMFAOTÇ…ÇÊÇÈèåèîªíË */
        /*********************************/
        s4t_cdmfaot       = (s4)u1g_emfng_ecdmfaot;           /* éQè∆óp */
        s4t_cdmfaotbnk[0] = (s4)u1g_emfng_ecdmfaotbnk[0];     /* éQè∆óp */
        s4t_cdmfaotbnk[1] = (s4)u1g_emfng_ecdmfaotbnk[1];     /* éQè∆óp */

        s4t_cdmfaotb = s4t_cdmfaot;

        if ( u1t_xdtmf2 == (u1)ON )
        {
            s4t_kcdmfaotb = s4g_glmulstngrd_s2s2u2( (s2)s4t_cdtmf2, (s2)u1s_emfng_KCDTMFAOTB, (u2)5U );          /* lsb=1*8/256 -> 1(âÒ) */

            s4t_cdmfaot -= s4t_kcdmfaotb;
            s4t_cdmfaotb = s4t_cdmfaot;            /* MODE06éZèoópÇ…â∫å¿ÉKÅ[ÉhëOÇ…ÉâÉbÉ` */

            s4t_cdmfaotbnk[0] -= s4t_kcdmfaotb;
            s4t_cdmfaotbnk[1] -= s4t_kcdmfaotb;
            if ( s4t_cdmfaot < (s4)0 )        /* â∫å¿ÉKÅ[Éh */
            {
                s4t_cdmfaot = (s4)0;
            }
            if ( s4t_cdmfaotbnk[0] < (s4)0 )  /* â∫å¿ÉKÅ[Éh */
            {
                s4t_cdmfaotbnk[0] = (s4)0;
            }
            if ( s4t_cdmfaotbnk[1] < (s4)0 )  /* â∫å¿ÉKÅ[Éh */
            {
                s4t_cdmfaotbnk[1] = (s4)0;
            }
        }
        s2s_emfng_ecdmfaotb = (s2)s4t_cdmfaotb;  /* (u1 - u1 * KCDTMFAOTB)ÇÃÇΩÇﬂÉKÅ[Éhèàóùïsóv */

        glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */
        s4t_emfrtotsum = s4s_emfng_emfrtotsum;
        u2t_ecmfotcnt  = u2s_emfng_ecmfotcnt;
        glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */

        s4t_mfrtot = s4g_gldiv_s4s4( s4t_emfrtotsum, (s4)u2t_ecmfotcnt );
                                                        /* lsb=(256/128/256)/1 -> 256/128/256,unit=% */
        ELIB_LOWGD2( s4t_mfrtot, (s4)s2g_emfng_MFOTL, s4t_mfrtot );
        s4t_ekldmfot = s4g_glmulst_s4s4u2( (s4)u2g_emfng_ekldmfoth_mcr, s4t_mfrtot, (u2)0U );
                                                        /* lsb=1*(256/128/256) -> 256/128/256,unit=% */
        s4t_ekldmfot = s4g_gldiv_s4s4( s4t_ekldmfot, (s4)(((100.)/(256./128./256.))+0.5) );
                                                        /* lsb=(256/128/256)/(256/128/256) -> 1,unit=âÒ */
        ELIB_HILOGD2( s4t_ekldmfot, (s4)u2g_U2MAX, (s4)u2g_U2MIN, s4t_ekldmfot );
        u2g_emfng_ekldmfot = (u2)s4t_ekldmfot;

        u1t_xcdmfaot = (u1)OFF;
        if ( u1g_emfng_CATN == (u1)1U )         /* ÉoÉìÉNãÊï Ç»Çµ */
        {
            if ( s4t_cdmfaot >= s4t_ekldmfot )
            {
                u1t_xcdmfaot = (u1)ON;
            }
        }
        else                                    /* ÉoÉìÉNãÊï Ç†ÇË */
        {
            if ( ( s4t_cdmfaotbnk[0] >= s4t_ekldmfot )
              || ( s4t_cdmfaotbnk[1] >= s4t_ekldmfot ) )
            {
                u1t_xcdmfaot = (u1)ON;
            }
        }

        /* RAMÉfÅ[É^Ç…äiî[ */
        glbitcp_bibi( u1t_xcdmfaot, bis_emfng_excdmfaot );

        /**********************************/
        /* ëŒå¸ãCìõé∏âŒîªíËê¨óßÃ◊∏ﬁÇÃëÄçÏ */
        /**********************************/
        u1t_excdmfw = (u1)OFF;                  /*Åy4ãCìõÅzÇÕOFFå≈íË(ëŒå¸ãCìõé∏âŒåüèoÇ»Çµ) */
#if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
        u1t_excdmfwtmp = (u1)OFF;
        u1t_ncylw_c = u1s_EMFNG_NCYLW;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncylw_c; s4t_i++ )
        {
            u1t_ecdmfw[s4t_i] = u1g_emfng_ecdmfw[s4t_i];
            if ( u1t_ecdmfw[s4t_i] > u1t_ekldmfw1_mcr )
            {
                u1t_excdmfwtmp = (u1)ON;
            }
        }
        s4t_cdmfw = (s4)u1t_ecdmfw[0];               /* [0]Çë„ì¸ */
        for ( s4t_i = (s4)1; s4t_i < (s4)u1t_ncylw_c; s4t_i++ )
        {
            s4t_cdmfw += (s4)u1t_ecdmfw[s4t_i];      /* [1]Å`â¡éZ */
        }
        if ( ( ( s4t_cdmfw <= (s4)u1s_emfng_ekldmfw2_mcr )
            && ( s4t_cdmfw >  (s4)u1t_ekldmfw1_mcr ) )
          && ( u1t_excdmfwtmp == (u1)ON ) )
        {
            u1t_excdmfw = (u1)ON;                /* CXMF1≤›∏ÿ“›ƒèåè */
        }
#endif
        /* RAMÉfÅ[É^Ç…äiî[ */
        glbitcp_bibi( u1t_excdmfw, big_emfng_excdmfw );

        /**************************************/
        /* êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁÇÃëÄçÏ */
        /**************************************/
#if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
        s4t_cnt = (s4)0;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            if ( u1g_emfng_ecdmfem[s4t_i] >= u1s_emfng_MFSTOT )
            {
                s4t_cnt++;                       /* é∏âŒãCìõêîÇÃÉJÉEÉìÉg */
            }
        }

        /* ÉZÉbÉgèåèîªíË a */
        if ( ( u1t_xcdmfaot == (u1)ON )
          && ( s4t_cdmfaot <= (s4)204 )
          && ( s4t_cnt == (s4)2 )
          && ( bis_emfng_exmfkpl == (u1)ON ) )
        {
            u1t_exottd = (u1)ON;
        }
#endif

        /* ÉZÉbÉgèåèîªíË b */
        if ( ( u1t_excdmfw == (u1)ON )           /*Åy4ãCìõÅzÇÕOFFå≈íË */
          && ( bis_emfng_exmfkpm == (u1)ON ) )
        {
            u1t_exottd = (u1)ON;
        }
    }   /* êGî}OT⁄ÕﬁŸàŸèÌåüèo¿≤–›∏ﬁ end */

    /* RAMÉfÅ[É^Ç…äiî[ */
    glbitcp_bibi( u1t_exottd, bis_emfng_exottd );
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_cdmfi_reset( )                             */
/*  èàóùì‡óe      | é∏âŒâÒêîîªíË∂≥›¿(±≤ƒﬁŸóp)ÇÃ∏ÿ±èàóù               */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*                | äÑçûÇ›ä±è¬ÇÃçló∂ïKóv                             */
/*********************************************************************/
static void
emfng_cdmfi_reset( void )
{
    s4 s4t_i;
    u1 u1t_ncyl_c;                   /* lsb=1 :ãCìõêî */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_ncyl_c = u1g_ejcc_NCYL;

    glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */
    u2g_emfng_ecjmfoti  = (u2)0U;
    u2g_emfng_ecdmfaoti = (u2)0U;
    for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
    {
        u1g_emfng_ecdmfemi[s4t_i] = (u1)0U;
    }
    glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_ot_detect_ptptptpt( )                      */
/*  èàóùì‡óe      | êGî}OTÉåÉxÉãàŸèÌîªíË                             */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                  */
/*  à¯êî          | ptt_xumfot : êGî}OT⁄ÕﬁŸÇÃê≥èÌîªíËï€óØÃ◊∏ﬁÇÃäiî[êÊ */
/*                | ptt_xdmfot : êGî}OT⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁÇÃäiî[êÊ      */
/*                | ptt_xhmfoton  : êGî}OTÇ…ÇÊÇÈMILì_ñ≈óvãÅÃ◊∏ﬁÇÃäiî[êÊ */
/*                | ptt_xhmfotoff : êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸóvãÅÃ◊∏ﬁÇÃäiî[êÊ */
/*  ñﬂÇËíl        | Ç»Çµ(à¯êîÇ≈éÛÇØìnÇµ)                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static void
emfng_ot_detect_ptptptpt( u1 *ptt_xumfot, u1 *ptt_xdmfot, u1 *ptt_xhmfoton, u1 *ptt_xhmfotoff )
{
    s4 s4t_ecxmf1;      /* lsb=1,unit=âÒ:êGî}OT⁄ÕﬁŸàŸèÌåüèoâÒêî */
    s4 s4t_exmfotfc1;   /* lsb=1:emfng_exmfotfc_u1()ÉRÅ[ÉãèåèÇPîªíË */
#if JEMFFC == u1g_EJCC_USE  /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
    s4 s4t_exmfotfc2;   /* lsb=1:emfng_exmfotfc_u1()ÉRÅ[ÉãèåèÇQîªíË */
#endif
    s4 s4t_xecxmf1inc;  /* lsb=1:ecxmfc1∂≥›ƒ±ØÃﬂèåèê¨óßÃ◊∏ﬁ */
    s4 s4t_xjdge;       /* lsb=1:êGî}OT⁄ÕﬁŸàŸèÌèåèÇQê¨óßÃ◊∏ﬁ */
    u1 u1t_xdmfot;      /* lsb=1:êGî}OT⁄ÕﬁŸàŸèÌê¨óßÃ◊∏ﬁ */
    u1 u1t_xumfot;      /* lsb=1:êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1 u1t_xhmfoton;    /* lsb=1:MILì_ñ≈óvãÅÃ◊∏ﬁ */
    u1 u1t_xhmfotoff;   /* lsb=1:MILì_ñ≈∑¨›æŸÃ◊∏ﬁ */
    u1 u1t_exottd;      /* lsb=1:êGî}OT⁄ÕﬁŸàŸèÌåüèoâºãLâØÃ◊∏ﬁ */
    u1 u1t_CXMF1L_c;    /* lsb=1,unit=âÒ :êGî}OTÉåÉxÉãàŸèÌåüèoâÒêîîªíËíl */
    u1 u1t_exinftp;     /* lsb=1:ÉÇÅ[ÉhëñçsîªíËÉtÉâÉO */
    u1 u1t_state;       /* lsb=1 :åüèoä¥ìxèÛë‘ */
#if JETCORE_D == u1g_EJCC_USE  /*Åyt-COREëŒâûóLÅz*/
    u1 u1t_xoutftp;     /* lsb=1:OTé∏âŒÉÇÅ[ÉhóÃàÊäOîªíËÃ◊∏ﬁ */
#endif
#if JEMFDTC_D == u1g_EJCC_USE  /*Åyé∏âŒOBD DTCóLÅz*/
    u1 u1t_xem_lstpnd;  /* lsb=1 :ëOƒﬁ◊≤Àﬁ›∏ﬁª≤∏ŸâºàŸèÌèÛë‘(EM)(ÉâÉbÉ`óp) */
    u1 u1t_xot_lstpnd;  /* lsb=1 :ëOƒﬁ◊≤Àﬁ›∏ﬁª≤∏ŸâºàŸèÌèÛë‘(OT)(ÉâÉbÉ`óp) */
#endif

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    s4t_ecxmf1     = (s4)u1s_emfng_ecxmf1;
    u1t_xdmfot     = (u1)OFF;
    s4t_xecxmf1inc = (s4)OFF;
    s4t_xjdge      = (s4)OFF;
    s4t_exmfotfc1  = (s4)OFF;
#if JEMFFC == u1g_EJCC_USE  /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
    s4t_exmfotfc2  = (s4)OFF;
#endif
    u1t_xumfot     = (u1)OFF;
    u1t_xhmfoton   = (u1)OFF;
    u1t_xhmfotoff  = (u1)OFF;
    u1t_exottd     = (u1)bis_emfng_exottd;
    u1t_CXMF1L_c = u1s_emfng_CXMF1L;
    u1t_exinftp    = (u1)big_emfinftp_exinftp;
    u1t_state = u1s_emfng_state_Lch;
#if JETCORE_D == u1g_EJCC_USE  /*Åyt-COREëŒâûóLÅz*/
    u1t_xoutftp    = (u1)OFF;
#endif
#if JEMFDTC_D == u1g_EJCC_USE  /*Åyé∏âŒOBD DTCóLÅz*/
    u1t_xem_lstpnd = u1s_emfng_xem_lstpnd_Lch;
    u1t_xot_lstpnd = u1s_emfng_xot_lstpnd_Lch;
#endif

    /********************************/
    /* êGî}OT⁄ÕﬁŸàŸèÌåüèoâÒêîÇÃéZèo */
    /********************************/
    if ( ( bis_emfng_excdmfaot == (u1)ON )
#if JENCYL == u1g_EJCC_6CYL /*Åy6ãCìõÅz*/
      || ( big_emfng_excdmfw    == (u1)ON )
#endif
       )
    {
        s4t_exmfotfc1 = (s4)ON;
    }

    if ( ( s4t_exmfotfc1 == (s4)ON )
      || ( u1t_exottd  == (u1)ON ) )
    {
        s4t_xecxmf1inc = (s4)ON;
        u1t_xumfot = (u1)ON;                    /* êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØ */
        if ( s4t_ecxmf1 < (s4)u1g_U1MAX )
        {
            s4t_ecxmf1++;
        }
    }

    /************************/
    /* êGî}OT⁄ÕﬁŸàŸèÌÇÃîªíË */
    /************************/
    if ( ( s4t_ecxmf1   >= (s4)u1s_emfng_CXMF1H )
      || ( ( s4t_ecxmf1 >= (s4)u1t_CXMF1L_c )
        && ( ( u1t_exinftp == (u1)OFF )
          || ( u1t_state == u1g_WSENTIVCHG_LVL2 )
#if JEMFDTC_D == u1g_EJCC_USE  /*Åyé∏âŒOBD DTCóLÅz*/
          || ( u1t_xem_lstpnd == (u1)ON )
          || ( u1t_xot_lstpnd == (u1)ON )
#endif
           ) ) )
    {
#if JEMFFC == u1g_EJCC_USE  /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
        s4t_exmfotfc2 = (s4)ON;
#endif
        s4t_xjdge = (s4)ON;
    }

#if ( JENCYL == u1g_EJCC_4CYL ) && ( JEMFHOUKI == u1g_EJCC_NOT_USAMF )  /*Åy4ãCìõÅzANDÅyëŒïƒñ@ãKà»äOÅz */
    if ( ( s4t_ecxmf1 >= (s4)u1t_CXMF1L_c )
      && ( u1t_exottd  == (u1)ON ) )
    {
        s4t_xjdge = (s4)ON;
    }
#endif

    /* 2-1.(2)á@(c)≤)˙A)èåèïœçXéûÇÕÅAâ∫ãLèåèéÆÇ‡å©íºÇ∑éñ */
#if JETCORE_D == u1g_EJCC_USE      /*Åyt-COREëŒâûóLÅz*/
    if ( ( u1t_exinftp == (u1)OFF )
      || ( u1t_state == u1g_WSENTIVCHG_LVL2 )
 #if JEMFDTC_D == u1g_EJCC_USE     /*Åyé∏âŒOBD DTCóLÅz*/
      || ( u1t_xem_lstpnd == (u1)ON )
      || ( u1t_xot_lstpnd == (u1)ON )
 #endif
 #if ( JENCYL == u1g_EJCC_4CYL ) && ( JEMFHOUKI == u1g_EJCC_NOT_USAMF ) /*Åy4ãCìõÅzANDÅyëŒïƒñ@ãKà»äOÅz*/
      || ( u1t_exottd  == (u1)ON )
 #endif
       )
    {
        u1t_xoutftp = (u1)ON;        /* OTé∏âŒÉÇÅ[ÉhóÃàÊäOÇ∆îªíË */
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    glbitcp_bibi( u1t_xoutftp, bis_emfng_exoutftp );         /* OTé∏âŒÉÇÅ[ÉhóÃàÊäOîªíËÃ◊∏ﬁ(65msl) */
#endif

    if ( s4t_xecxmf1inc == (s4)ON )  /* ecxmf1∂≥›ƒ±ØÃﬂèåèê¨óß */
    {
        if ( s4t_xjdge == (s4)ON )
        {
            u1t_xdmfot       = (u1)ON;                /* êGî}OT⁄ÕﬁŸåªç›àŸèÌ */
            bis_emfng_exdmf1 = (u1)ON;
        }
        if ( ( bis_emfng_exdmf1 == (u1)ON )
#if JEMFDTC_D == u1g_EJCC_USE /*Åyé∏âŒOBD DTCóLÅz*/
          || ( ( u1s_emfng_xot_warning_Lch == (u1)ON )
            || ( u1s_emfng_xem_warning_Lch == (u1)ON ) )
#endif
#if JEMFFC == u1g_EJCC_USE  /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
          || ( u1g_emffc_exfcbi != (u1)0x00U )  /* êGî}OTé∏âŒñhé~FCóvãÅóLÇË */
#endif
           )
        {
            u1t_xhmfoton = (u1)ON;              /* MILì_ñ≈ */
        }
        else
        {
            u1t_xhmfotoff = (u1)ON;             /* MILì_ñ≈∑¨›æŸ */
        }
    }
    else
    {
        if ( ( u1g_emfng_ecdtmf2 < u1s_emfng_CDTMF2 )
#if JEMFFC == u1g_EJCC_USE  /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
          && ( u1g_emffc_exfcbi == (u1)0x00U )  /* êGî}OTé∏âŒñhé~FCóvãÅñ≥Çµ */
#endif
           )
        {
            u1t_xhmfotoff = (u1)ON;             /* MILì_ñ≈∑¨›æŸ */
        }
    }

    /* RAMÉfÅ[É^Ç…äiî[ */
    u1s_emfng_ecxmf1 = (u1)s4t_ecxmf1;

#if JEMFFC == u1g_EJCC_USE          /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
    /* emfng_exmfotfc()ÇÃÉRÅ[Éã */
    if ( ( s4t_exmfotfc1 == (s4)ON )
      && ( s4t_exmfotfc2 == (s4)ON ) )
    {
        emfng_exmfotfc_u1( (u1)ON );
    }
#endif

    /* ñﬂÇËílÇÃê›íË */
    *ptt_xumfot    = u1t_xumfot;
    *ptt_xdmfot    = u1t_xdmfot;
    *ptt_xhmfoton  = u1t_xhmfoton;
    *ptt_xhmfotoff = u1t_xhmfotoff;
}

/***********************************************************************/
/*  ä÷êîñº        | emfng_em_detect_u2ptpt( )                          */
/*  èàóùì‡óe      | EMà´âªÉåÉxÉãàŸèÌîªíË                               */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                    */
/*  à¯êî          | u2t_cdmfae2  : EMà´âªÉåÉxÉãàŸèÌîªíËíl              */
/*                | ptt_xdmfem   : EMà´âª⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁÇÃäiî[êÊ      */
/*                | ptt_xumfem   : EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁÇÃäiî[êÊ  */
/*  ñﬂÇËíl        | Ç»Çµ(à¯êîÇ≈éÛÇØìnÇµ)                               */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                           */
/***********************************************************************/
static void
emfng_em_detect_u2ptpt( u2 u2t_cdmfae2, u1 *ptt_xdmfem, u1 *ptt_xumfem )
{
    s4 s4t_ecxmf;       /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸàŸèÌåüèoâÒêî */
    u1 u1t_xdmfem;      /* lsb=1 :EMà´âª⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁ */
    u2 u2t_kldmfae;     /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸé∏âŒîªíËíl */
    u1 u1t_xumfem;      /* lsb=1 :EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1 u1t_state;       /* lsb=1 :åüèoä¥ìxèÛë‘ */
    u1 u1t_CXMFL_c;     /* lsb=1,unit=âÒ :EMà´âªÉåÉxÉãàŸèÌåüèoâÒêîîªíËíl */
#if JETCORE_D == u1g_EJCC_USE                      /*Åyt-COREëŒâûóLÅz*/
    u1 u1t_xemfst;      /* lsb=1 :EMà´âªÉåÉxÉãèââÒ1000revîªíËÃ◊∏ﬁ */
#endif
#if JEMFHOUKI == u1g_EJCC_USAMF                    /*ÅyëŒïƒñ@ãKÅz*/
    u2 u2t_ecdmfae2;    /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
    u1 u1t_exjokmf;     /* lsb=1 :énìÆå„1000reväÆóπÃ◊∏ﬁ */
#endif

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    s4t_ecxmf   = (s4)u1s_emfng_ecxmf;
    u1t_xdmfem  = *ptt_xdmfem;
    u1t_xumfem  = *ptt_xumfem;
    u2t_kldmfae = u2g_emfng_ekldmfae;
    u1t_state   = u1s_emfng_state_Lch;
    u1t_CXMFL_c = u1s_emfng_CXMFL;
#if JETCORE_D == u1g_EJCC_USE                      /*Åyt-COREëŒâûóLÅz*/
    u1t_xemfst  = (u1)OFF;
#endif
#if JEMFHOUKI == u1g_EJCC_USAMF                    /*ÅyëŒïƒñ@ãKÅz*/
    u2t_ecdmfae2 = u2g_emfng_ecdmfae2;
    u1t_exjokmf  = (u1)big_emfng_exjokmf;
#endif

    /********************************/
    /* EMà´âª⁄ÕﬁŸàŸèÌåüèoâÒêîÇÃéZèo */
    /********************************/
    if ( u2t_cdmfae2 >= u2t_kldmfae )                      /* lsb=1,unit=âÒ */
    {
        u1t_xumfem = (u1)ON;                       /* EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØ */
        if ( s4t_ecxmf < (s4)u1g_U1MAX )
        {
            s4t_ecxmf++;
        }

        /************************/
        /* EMà´âª⁄ÕﬁŸàŸèÌÇÃîªíË */
        /************************/
        if ( ( s4t_ecxmf >= (s4)u1s_emfng_CXMFH )
          || ( ( s4t_ecxmf >= (s4)u1t_CXMFL_c )
            && ( ( u1t_state == u1g_WSENTIVCHG_LVL2 )
              || ( u1t_state == u1g_WSENTIVCHG_IUE ) ) )     /* ä¥ìxÉAÉbÉvÅiï]âøópÅj */
#if JEMFHOUKI == u1g_EJCC_USAMF                     /*ÅyëŒïƒñ@ãKÅz*/
          || ( ( u2t_ecdmfae2 >= u2t_kldmfae )
            && ( u1t_exjokmf == (u1)OFF ) )
#endif
           )
        {
            u1t_xdmfem = (u1)ON;                   /* EMà´âª⁄ÕﬁŸåªç›àŸèÌ */
        }
    }

    /* 2-2.(2)á@(c)≤)Ç‡ÇµÇ≠ÇÕ≥)èåèïœçXéûÇÕÅAâ∫ãLèåèéÆÇ‡å©íºÇ∑éñ */
#if JETCORE_D == u1g_EJCC_USE                        /*Åyt-COREëŒâûóLÅz*/
    if ( ( ( s4t_ecxmf >= (s4)u1t_CXMFL_c )
      && ( ( u1t_state == u1g_WSENTIVCHG_LVL2 )
        || ( u1t_state == u1g_WSENTIVCHG_IUE ) ) )   /* ä¥ìxÉAÉbÉvÅiï]âøópÅj */
 #if JEMFHOUKI == u1g_EJCC_USAMF                     /*ÅyëŒïƒñ@ãKÅz*/
      || ( ( u2t_ecdmfae2 >= u2t_kldmfae )
        && ( u1t_exjokmf == (u1)OFF ) )
 #endif
       )
    {
        u1t_xemfst = (u1)ON;                         /* EMà´âªÉåÉxÉãèââÒ1000revÇ∆îªíË */
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    glbitcp_bibi( u1t_xemfst, bis_emfng_exemfst );   /* EMà´âªÉåÉxÉãèââÒ1000revîªíËÃ◊∏ﬁ(65msl) */
#endif

    /* RAMÉfÅ[É^Ç…äiî[ */
    u1s_emfng_ecxmf = (u1)s4t_ecxmf;

    /* ñﬂÇËílÇÃê›íË */
    *ptt_xdmfem = u1t_xdmfem;
    *ptt_xumfem = u1t_xumfem;
}

#if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
/***********************************************************************/
/*  ä÷êîñº        | emfng_di_detect_ptpt( )                            */
/*  èàóùì‡óe      | DIàŸèÌåüèo                                         */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                    */
/*  à¯êî          | ptt_xdmfdi   : DIàŸèÌÃ◊∏ﬁÇÃäiî[êÊ                  */
/*                | ptt_xumfdi   : DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁÇÃäiî[êÊ */
/*  ñﬂÇËíl        | Ç»Çµ(à¯êîÇ≈éÛÇØìnÇµ)                               */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                           */
/*                |Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz                   */
/***********************************************************************/
static void
emfng_di_detect_ptpt( u1 *ptt_xdmfdi, u1 *ptt_xumfdi )
{
    u1 u1t_xddi;            /* lsb=1 : DIàŸèÌîªíËÃ◊∏ﬁ */
    s4 s4t_cyl;             /* lsb=1,unit=ãCìõ */
    u1 u1t_xdmfdi;          /* lsb=1 : DIàŸèÌÃ◊∏ﬁ */
    u1 u1t_xumfdi;          /* lsb=1 : DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1 u1t_ncyl_c;          /* lsb=1 :ãCìõêî */

    /* ÉèÅ[ÉNïœêîÇÃèâä˙âª */
    u1t_xdmfdi = (u1)OFF;
    u1t_xumfdi = (u1)OFF;
    u1t_ncyl_c = u1g_ejcc_NCYL;

    u1t_xddi = (u1)OFF;
    for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c ; s4t_cyl++ )
    {
        if ( u1s_emfng_ecdmfdi[s4t_cyl] >= u1s_emfng_MFDDI )
        {
            u1t_xddi = (u1)ON;
            u1s_emfng_exdmfdim[s4t_cyl] = (u1)ON;
        }
    }

    /********************/
    /* DIàŸèÌÇÃåüèoîªíË */
    /********************/
    if ( u1t_xddi == (u1)ON )
    {
        u1t_xdmfdi = (u1)ON;     /* DIàŸèÌÃ◊∏ﬁæØƒ */
        u1t_xumfdi = (u1)ON;     /* DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁæØƒ */
        big_emfng_exmfddi = (u1)ON;
    }
    bis_emfng_excdmfdiclr = (u1)ON;  /* exdmfdim∏ÿ±ópÃ◊∏ﬁ */
    /* åüèo∂≥›¿ÇÃ∏ÿ± */
    glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */
    u2s_emfng_ecjmfdi = (u2)0;       /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
    /* DIé∏âŒåüèoèIóπÃ◊∏ﬁÇÃæØƒ */
    big_emfng_exmfdied = (u1)ON;
    for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c ; s4t_cyl++ )
    {
        u1s_emfng_ecdmfdi[s4t_cyl] = (u1)(((0.)/(1.))+0.5);   /* ecjmfdiÇ∆ìØéûÇ…ÉNÉäÉAÇ∑ÇÈ */
    }
    glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */
    *ptt_xdmfdi = u1t_xdmfdi;
    *ptt_xumfdi = u1t_xumfdi;
}

/***********************************************************************/
/*  ä÷êîñº        | emfng_pfi_detect_ptpt( )                           */
/*  èàóùì‡óe      | PFIàŸèÌåüèo                                        */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                    */
/*  à¯êî          | ptt_xdmfpfi :PFIàŸèÌÃ◊∏ﬁÇÃäiî[êÊ                   */
/*                | ptt_xumfpfi :PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁÇÃäiî[êÊ */
/*  ñﬂÇËíl        | Ç»Çµ(à¯êîÇ≈éÛÇØìnÇµ)                               */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                           */
/*                |Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz                   */
/***********************************************************************/
static void
emfng_pfi_detect_ptpt( u1 *ptt_xdmfpfi, u1 *ptt_xumfpfi )
{
    u1 u1t_xdpfi;           /* lsb=1 : PFIàŸèÌîªíËÃ◊∏ﬁ */
    s4 s4t_cyl;             /* lsb=1,unit=ãCìõ */
    u1 u1t_xdmfpfi;         /* lsb=1 : PFIàŸèÌÃ◊∏ﬁ */
    u1 u1t_xumfpfi;         /* lsb=1 : PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1 u1t_MFDPFI_c;        /* lsb=1,unit=âÒ :PFIàŸèÌåüèoé∏âŒâÒêî */
    u1 u1t_ncyl_c;          /* lsb=1 :ãCìõêî */

    /* ÉèÅ[ÉNïœêîÇÃèâä˙âª */
    u1t_xdmfpfi = (u1)OFF;
    u1t_xumfpfi = (u1)OFF;
    u1t_MFDPFI_c = u1s_emfng_MFDPFI;
    u1t_ncyl_c = u1g_ejcc_NCYL;

    u1t_xdpfi = (u1)OFF;
    for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c; s4t_cyl++ )
    {
        if ( u1s_emfng_ecdmfpfi[s4t_cyl] >= u1t_MFDPFI_c )
        {
            u1t_xdpfi = (u1)ON;
            u1s_emfng_exdmfpfim[s4t_cyl] = (u1)ON;
        }
    }

    /*********************/
    /* PFIàŸèÌÇÃåüèoîªíË */
    /*********************/
    if ( u1t_xdpfi == (u1)ON )
    {
        u1t_xdmfpfi = (u1)ON;     /* PFIàŸèÌÃ◊∏ﬁæØƒ */
        u1t_xumfpfi = (u1)ON;     /* PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁæØƒ */
        big_emfng_exmfdpfi = (u1)ON;
    }
    bis_emfng_excdmfpficlr = (u1)ON;  /* exdmfpfim∏ÿ±ópÃ◊∏ﬁ */
    /* åüèo∂≥›¿ÇÃ∏ÿ± */
    glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */
    u2s_emfng_ecjmfpfi = (u2)0;       /* 0èâä˙âªÇÃÇΩÇﬂLSBè»ó™ */
    /* PFIé∏âŒåüèoèIóπÃ◊∏ﬁÇÃæØƒ */
    big_emfng_exmfpfied = (u1)ON;
    for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c; s4t_cyl++ )
    {
        u1s_emfng_ecdmfpfi[s4t_cyl] = (u1)(((0.)/(1.))+0.5);  /* ecjmfpfiÇ∆ìØéûÇ…∏ÿ±Ç∑ÇÈ */
    }
    glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */
    *ptt_xdmfpfi = u1t_xdmfpfi;
    *ptt_xumfpfi = u1t_xumfpfi;
}
#endif /* JEEFI,JEHIPFI_E */

#if JEMFDTC_D == u1g_EJCC_USE /*Åyé∏âŒOBD DTCóLÅz*/
/*********************************************************************/
/*  ä÷êîñº        | emfng_wxmf_out( )                                */
/*  èàóùì‡óe      | ìdãZÇ÷ÇÃí ímèàóù                                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                  */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êîÅyé∏âŒOBD DTCóLÅz                        */
/*                | êGî}OT⁄ÕﬁŸ,EMà´âª⁄ÕﬁŸ,DI,PFIàŸèÌîªíËå„Ç…callÇ∑ÇÈ */
/*********************************************************************/
static void
emfng_wxmf_out( void )
{
    static volatile u1 u1s_emfng_emfk;       /* lsb=1 :DTCèoóÕãCìõ */
 #pragma ghs startdata
 #if ( JENCYL == u1g_EJCC_4CYL )      /*Åy4ãCìõÅz*/
    static volatile const u1 u1s_emfng_cylwtocyl_tbl[2] = /* :cylw Å® cylwÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉgóÒ ïœä∑ÉeÅ[ÉuÉã */
    { (u1)0x06U, (u1)0x09U };                             /* 0,1 Å® #2#3,#1#4 */
 #endif
 #if ( JENCYL == u1g_EJCC_6CYL )      /*Åy6ãCìõÅz*/
  #if JEEGTYPE == u1g_EJCC_V6CYL       /*ÅyV6Åz*/
    static volatile const u1 u1s_emfng_cylwtocyl_tbl[3] = /* :cylw Å® cylwÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉgóÒ ïœä∑ÉeÅ[ÉuÉã */
    { (u1)0x24U, (u1)0x09U, (u1)0x12U };                  /* 0,1,2 Å® #3#6,#1#4,#2#5 */
  #elif JEEGTYPE == u1g_EJCC_L6CYL     /*ÅyL6Åz*/
    static volatile const u1 u1s_emfng_cylwtocyl_tbl[3] = /* :cylw Å® cylwÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉgóÒ ïœä∑ÉeÅ[ÉuÉã */
    { (u1)0x0cU, (u1)0x21U, (u1)0x12U };                  /* 0,1,2 Å® #3#4,#1#6,#2#5 */
  #endif
 #endif
 #pragma ghs enddata

    u1 u1t_i;
    s4 s4t_cnt;
    u1 u1t_xemfk;                    /* lsb=1 : ãCìõÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉg */
    u1 u1t_xemfkw;                   /* lsb=1 : ãCìõåQÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉg(ëŒå¸ãCìõóp) */
    u1 u1t_xemfk_opps;               /* lsb=1 : ãCìõåQÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉg(ëŒå¸ãCìõópÉèÅ[ÉNïœêî) */
    u4 u4t_ecdmfem2mx;               /* lsb=1,unit=âÒ : ecdmfem2[]ç≈ëÂíl */
    u4 u4t_ecdmfem2[u1g_EJCC_NCYL];  /* lsb=1,unit=âÒ : EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
    s4 s4t_ecdmfae2;                 /* lsb=1,unit=âÒ : ëçé∏âŒâÒêîÅ~0.9 */
    u1  u1t_xdmfot;                  /* lsb=1 :êGî}OT⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁ */
    u1  u1t_xumfot;                  /* lsb=1 :êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1  u1t_xhmfoton;                /* lsb=1 :êGî}OTÇ…ÇÊÇÈMILì_ñ≈óvãÅÃ◊∏ﬁ */
    u1  u1t_xhmfotoff;               /* lsb=1 :êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸóvãÅÃ◊∏ﬁ */
    u1  u1t_xdmfem;                  /* lsb=1 :EMà´âª⁄ÕﬁŸàŸèÌåüèoÃ◊∏ﬁ */
    u1  u1t_xumfem;                  /* lsb=1 :EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
 #if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    u1  u1t_xdmfdi;                  /* lsb=1 :DIàŸèÌÃ◊∏ﬁ */
    u1  u1t_xumfdi;                  /* lsb=1 :DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1  u1t_xdmfpfi;                 /* lsb=1 :PFIàŸèÌÃ◊∏ﬁ */
    u1  u1t_xumfpfi;                 /* lsb=1 :PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
 #endif
    u1  u1t_excdmfw;                 /* lsb=1:ëŒå¸ãCìõé∏âŒîªíËê¨óßÃ◊∏ﬁ */
 #if JETCORE_D == u1g_EJCC_USE       /*Åyt-COREëŒâûóLÅz*/
    u1  u1t_otcnd;                   /* lsb=1 :OTé∏âŒèåèéØï éq */
    u1  u1t_emcnd;                   /* lsb=1 :EMé∏âŒèåèéØï éq */
    u1  u1t_exdmf;                   /* lsb=1 :é∏âŒOBDåªç›àŸèÌÃ◊∏ﬁ */
 #endif
    u1 u1t_ncyl_c;                   /* lsb=1 :ãCìõêî */
    u1 u1t_ncylw_c;                  /* lsb=1 :ãCìõåQêî */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_ncyl_c = u1g_ejcc_NCYL;
    u1t_excdmfw = (u1)big_emfng_excdmfw;
    u4t_ecdmfem2[0] = (u4)u2g_emfng_ecdmfem2[0];    /* ï°êîâÒéQè∆ÇÃÇΩÇﬂÉâÉbÉ` */

    for ( u1t_i = (u1)1; u1t_i < u1t_ncyl_c; u1t_i++ )
    {
        u4t_ecdmfem2[u1t_i] = (u4)u2g_emfng_ecdmfem2[u1t_i];   /* ï°êîâÒéQè∆ÇÃÇΩÇﬂÉâÉbÉ` */
    }

    /* ÉfÅ[É^íléÊìæ */
    u1t_xdmfot    = (u1)bis_emfng_exdmfot;         /* êGî}OT⁄ÕﬁŸàŸèÌîªíËÃ◊∏ﬁ */
    u1t_xumfot    = (u1)bis_emfng_exumfot;         /* êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1t_xhmfoton  = (u1)bis_emfng_exhmfoton;       /* êGî}OTÇ…ÇÊÇÈMILì_ñ≈óvãÅÃ◊∏ﬁ */
    u1t_xhmfotoff = (u1)bis_emfng_exhmfotoff;      /* êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸóvãÅÃ◊∏ﬁ */
    u1t_xdmfem    = (u1)bis_emfng_exdmfem;         /* EMà´âª⁄ÕﬁŸàŸèÌåüèoÃ◊∏ﬁ */
    u1t_xumfem    = (u1)bis_emfng_exumfem;         /* EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØÃ◊∏ﬁ */
 #if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    u1t_xdmfdi    = (u1)bis_emfng_exdmfdi;         /* DIàŸèÌÃ◊∏ﬁ */
    u1t_xumfdi    = (u1)bis_emfng_exumfdi;         /* DIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
    u1t_xdmfpfi   = (u1)bis_emfng_exdmfpfi;        /* PFIàŸèÌÃ◊∏ﬁ */
    u1t_xumfpfi   = (u1)bis_emfng_exumfpfi;        /* PFIàŸèÌÇ…ÇÊÇÈê≥èÌîªíËï€óØÃ◊∏ﬁ */
 #endif
 #if JETCORE_D == u1g_EJCC_USE                                      /*Åyt-COREëŒâûóLÅz*/
    u1t_exdmf     = (u1)big_emfng_exdmf;           /* é∏âŒOBDåªç›àŸèÌÃ◊∏ﬁ */
 #endif

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_xemfk = (u1)0x00U;

    /*************************/
    /* ìdãZÇ÷ÇÃDTCèoóÕÇÃí ím */
    /*************************/

 #if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
    /*******************/
    /* PFIàŸèÌéûÇÃèàóù */
    /*******************/
    if ( u1t_xdmfpfi == (u1)ON )
    {
        /* PFIàŸèÌéûÇÃäeãCìõÇÃé∏âŒóLñ≥îªíË */
        for ( u1t_i = (u1)0; u1t_i < u1t_ncyl_c; u1t_i++ )
        {
            if ( u1s_emfng_exdmfpfim[u1t_i] == (u1)ON )
            {
                u1t_xemfk |= u1g_EMFCNT_CYL(u1t_i);
            }
        }
    }
    /******************/
    /* DIàŸèÌéûÇÃèàóù */
    /******************/
    else if ( u1t_xdmfdi == (u1)ON )
    {
        /* DIàŸèÌéûÇÃäeãCìõÇÃé∏âŒóLñ≥îªíË */
        for ( u1t_i = (u1)0; u1t_i < u1t_ncyl_c; u1t_i++ )
        {
            if ( u1s_emfng_exdmfdim[u1t_i] == (u1)ON )
            {
                u1t_xemfk |= u1g_EMFCNT_CYL(u1t_i);
            }
        }
    }
    else
 #endif
    {
        /******************************/
        /* êGî}OT⁄ÕﬁŸàŸèÌåüèoéûÅA     */
        /* EMà´âª⁄ÕﬁŸàŸèÌåüèoéûÇÃèàóù */
        /******************************/
        if ( ( u1t_xdmfem == (u1)ON )       /* EMà´âª⁄ÕﬁŸàŸèÌ */
          || ( u1t_xdmfot == (u1)ON ) )     /* êGî}OT⁄ÕﬁŸàŸèÌ */
        {
            /***************************/
            /* ëçé∏âŒâÒêîÇÃ 90% ÇÃéZèo */
            /***************************/
            s4t_ecdmfae2 = (s4)u2g_emfng_ecdmfae2;
            s4t_ecdmfae2 = s4g_glmulst_s4s4u2( s4t_ecdmfae2, (s4)(((0.9)/(1./128./256.))+0.5), (u2)15U );
                                                            /* lsb= 1 * 1/128/256 -> 1(âÒ) */

            if ( u1t_excdmfw == (u1)OFF )             /* ëŒå¸ãCìõé∏âŒÇ≈ÇÕÇ»Ç¢ */
            {
                /* ëŒå¸ãCìõé∏âŒéûÇÕecdmfem2[],ecdmfae2ã§Ç…ÉJÉEÉìÉgÉAÉbÉvÇ≥ÇÍÇ∏            */
                /* 0(âÒ)ÅÜ0(âÒ)*90%Ç∆Ç»ÇËÅAèÌéûê¨óßÇµÇƒÇµÇ‹Ç§ÇΩÇﬂëŒå¸ãCìõéûÇÕîªíËÇÇµÇ»Ç¢ */

                for ( u1t_i = (u1)0; u1t_i < u1t_ncyl_c; u1t_i++ )
                {
                    /****************************************************************/
                    /* ëçé∏âŒâÒêîÇÃ90%à»è„Ç™1Ç¬ÇÃãCìõÇ…èWíÜÇµÇƒÇ¢ÇÈ Å® P0301Å`P0308 */
                    /****************************************************************/
                    if ( (s4)u4t_ecdmfem2[u1t_i] >= s4t_ecdmfae2 )
                    {
                        u1t_xemfk |= u1g_EMFCNT_CYL(u1t_i);
                    }
                } /* Ÿ∞Ãﬂend */
            }

            /***********************************************/
            /* ÇPÇ¬ÇÃãCìõÇ…é∏âŒèWíÜÇµÇƒÇ¢Ç»Ç¢èÍçá Å® P0300 */
            /***********************************************/
            if ( u1t_xemfk == (u1)0x00U )
            {
                /***************************************/
                /* ãCìõï é∏âŒâÒêîÇÃç≈ëÂíl * 0.1 ÇÃéZèo */
                /***************************************/
                u4t_ecdmfem2mx = u4t_ecdmfem2[0];
                for ( u1t_i = (u1)1; u1t_i < u1t_ncyl_c; u1t_i++ )
                {
                    if ( u4t_ecdmfem2mx < u4t_ecdmfem2[u1t_i] )  /* MaxílëIë */
                    {
                        u4t_ecdmfem2mx = u4t_ecdmfem2[u1t_i];
                    }
                }
                u4t_ecdmfem2mx = (u4)u2g_glmulst_u2u2u2( (u2)u4t_ecdmfem2mx, (u2)(((0.1)/(1./128./256.))+0.5), (u2)15U );
                                                                     /* lsb= 1 * 1/128/256 -> 1(âÒ) */

                /* ãCìõï é∏âŒâÒêîÇ™ èäíËílà»è„ */
                /* àÍî‘é∏âŒâÒêîÇ™ëΩÇ¢ãCìõÇÃé∏âŒâÒêîÅ~0.1 Ç è„âÒÇÈ */
                s4t_cnt   = (s4)0;
                for ( u1t_i = (u1)0; u1t_i < u1t_ncyl_c; u1t_i++ )
                {
                    if ( ( u4t_ecdmfem2[u1t_i] >= (u4)u2s_emfng_emfk_mcr )   /* îªíË(a) */
                      && ( u4t_ecdmfem2[u1t_i] >= u4t_ecdmfem2mx ) )
                    {
                        u1t_xemfk |= u1g_EMFCNT_CYL(u1t_i);
                        s4t_cnt++;
                    }
                } /* Ÿ∞Ãﬂend */

                if ( ( s4t_cnt == (s4)1 )              /* 1ãCìõÇµÇ©è„ãLèåèÇ™ê¨óßÇµÇ»Ç©Ç¡ÇΩÅB                  */
                  && ( u1t_excdmfw == (u1)OFF ) )      /* Ç©Ç¬ÅAëŒå¸ãCìõé∏âŒÇ≈ÇÕÇ»Ç¢(4ãCìõÇÕèÌéûOFFÇÃÇΩÇﬂê¨óß) */
                {
                    u1t_xemfk = (u1)0x00U;      /* u1t_xemfkÇ…ílÇ™écÇ¡ÇƒÇ¢ÇÈÇ∆P0301Å`P0308 Ç™ÉZÉbÉgÇ≥ÇÍÇÈÇÃÇ≈ÉNÉäÉA */
                }
            }   /* ëçé∏âŒâÒêîÇÃ90%à»è„Ç™1Ç¬ÇÃãCìõÇ…èWíÜÇµÇƒÇ¢Ç»Ç©Ç¡ÇΩÉPÅ[ÉX */

            u1t_xemfkw = (u1)0x00U;
            if ( u1t_excdmfw == (u1)ON )                          /* ëŒå¸ãCìõé∏âŒ */
            {
                u1t_ncylw_c = u1s_EMFNG_NCYLW;
                for ( u1t_i = (u1)0; u1t_i < u1t_ncylw_c; u1t_i++ )
                {
                    if ( u1g_emfng_ecdmfw[u1t_i] > u1s_emfng_ekldmfw1_mcr )    /* îªíË(b) */
                    {
                        u1t_xemfk_opps = u1s_emfng_cylwtocyl_tbl[u1t_i];   /* ãCìõåQÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉg */
 #if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
                        if ( ( u1t_xemfk_opps & u1t_xemfk ) == (u1)0x00U )
                                                                /* ecdmfem[](ecdmfem2[])Ç…ÇÊÇÈîªíËÇ≈ä˘Ç…ÉrÉbÉgÉZÉbÉg */
 #endif
                        {                                           /* Ç≥ÇÍÇƒÇ¢ÇÈèÍçáÇÕÉrÉbÉgÉZÉbÉgÇµÇ»Ç¢ */
                            u1t_xemfkw |= u1t_xemfk_opps;           /* ãCìõåQÇ…ëŒâûÇ∑ÇÈé¿ãCìõÉrÉbÉgÇ1 */
                        }
                    }
                }
            }
            u1t_xemfk |= u1t_xemfkw;                                /* îªíË(a)Ç∆(b)ÇÃORÇÇ∆ÇÈ */
        } /* EMà´âª⁄ÕﬁŸàŸèÌ or êGî}OT⁄ÕﬁŸàŸèÌÇÃîªíËèIóπ */
    } /* DI,PFIàŸèÌåüèoà»äOÇÃîªíËèIóπ */

    /* DTCèoóÕãCìõÇÃéZèo */
    u1s_emfng_emfk = u1t_xemfk;

    /***************************/
    /* ìdãZÇ÷ÇÃé∏âŒOBDàŸèÌí ím */
    /***************************/
 #if JETCORE_D == u1g_EJCC_NOT_USE                 /*Åyt-COREëŒâûñ≥Åz*/
    /* êGî}OT⁄ÕﬁŸåªç›àŸèÌí ím */
    if ( u1t_xdmfot == (u1)ON )
    {
        vdg_wmf_fdi_ot_fald_u1( u1t_xemfk );     /* êGî}OT⁄ÕﬁŸåªç›àŸèÌí ím */
    }

    /* EMà´âª⁄ÕﬁŸåªç›àŸèÌí ím */
    if ( ( u1t_xdmfem == (u1)ON )
  #if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
      || ( u1t_xdmfdi == (u1)ON )
      || ( u1t_xdmfpfi == (u1)ON )
  #endif
       )
    {
        vdg_wmf_fdi_em_fald_u1( u1t_xemfk );       /* EMà´âª⁄ÕﬁŸåªç›àŸèÌí ím */
    }
 #endif

    /* êGî}OT⁄ÕﬁŸñ{ƒÿØÃﬂàŸèÌí ím Åyt-COREëŒâûñ≥Åz*/
    /* êGî}OTé∏âŒó¶í¥âﬂí ím Åyt-COREëŒâûóLÅz*/
    if ( u1t_xumfot == (u1)ON )
    {
 #if JETCORE_D == u1g_EJCC_NOT_USE    /*Åyt-COREëŒâûñ≥Åz*/
        vdg_wmf_fdi_ot_excmf();     /* êGî}OT⁄ÕﬁŸê≥èÌîªíËï€óØí ím */
 #else                                /*Åyt-COREëŒâûóLÅz*/
        u1t_otcnd = u1g_WMF_FDI_DURING_FTPCYCLE;
        if ( bis_emfng_exoutftp == (u1)ON )
        {
            u1t_otcnd = u1g_WMF_FDI_OUTOF_FTPCYCLE;
        }
        vdg_wmf_fdi_ot_excmf_u2u1( (u2)u1t_xemfk, u1t_otcnd );    /* êGî}OTé∏âŒó¶í¥âﬂí ím */
 #endif
    }

    /* EMà´âª⁄ÕﬁŸñ{ƒÿØÃﬂàŸèÌí ím Åyt-COREëŒâûñ≥Åz*/
    /* EMà´âªé∏âŒó¶í¥âﬂí ím Åyt-COREëŒâûóLÅz*/
    if ( ( u1t_xumfem == (u1)ON )
 #if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
      || ( u1t_xumfdi == (u1)ON )
      || ( u1t_xumfpfi == (u1)ON )
 #endif
       )
    {
 #if JETCORE_D == u1g_EJCC_NOT_USE      /*Åyt-COREëŒâûñ≥Åz*/
        vdg_wmf_fdi_em_excmf();       /* EMà´âª⁄ÕﬁŸê≥èÌîªíËï€óØ */
 #else                                  /*Åyt-COREëŒâûóLÅz*/
        u1t_emcnd = u1g_WMF_FDI_AFTER_FIRST1000RPM;
        if ( bis_emfng_exemfst == (u1)ON )
        {
            u1t_emcnd = u1g_WMF_FDI_WITHIN_FIRST1000RPM;
        }
        vdg_wmf_fdi_em_excmf_u2u1( (u2)u1t_xemfk, u1t_emcnd );    /* EMà´âªé∏âŒó¶í¥âﬂí ím */
 #endif
    }

    /* êGî}OTÇ…ÇÊÇÈMILì_ñ≈í ím */
    if ( u1t_xhmfoton == (u1)ON )
    {
 #if JETCORE_D == u1g_EJCC_NOT_USE               /*Åyt-COREëŒâûñ≥Åz*/
        vdg_wmf_fdi_mil_blink_u1( (u1)ON );    /* MILì_ñ≈í ím */
 #endif
        vdg_wmf_fdi_ot_imdf();                 /* êGî}OTé∏âŒÃ™∞Ÿæ∞ÃèÓïÒåªç›àŸèÌí ím */
    }

    /* êGî}OTÇ…ÇÊÇÈMILì_ñ≈∑¨›æŸí ím */
    if ( u1t_xhmfotoff == (u1)ON )
    {
 #if JETCORE_D == u1g_EJCC_NOT_USE               /*Åyt-COREëŒâûñ≥Åz*/
        vdg_wmf_fdi_mil_blink_u1( (u1)OFF );   /* MILì_ñ≈∑¨›æŸí ím */
 #else                                           /*Åyt-COREëŒâûóLÅz*/
        vdg_wmf_fdi_pas_u2u1( u2g_WMF_FDI_ID_OT,(u1)ON );   /* OTé∏âŒê≥èÌîªíË */
 #endif
        vdg_wmf_fdi_ot_imdnf();                /* êGî}OTé∏âŒÃ™∞Ÿæ∞ÃèÓïÒåªç›àŸèÌäOí ím */
    }

 #if JETCORE_D == u1g_EJCC_USE                  /*Åyt-COREëŒâûóLÅz*/
    /* é∏âŒOBDåªç›àŸèÌÉtÉâÉOÇÃéZèo */
    if ( ( u1t_xdmfot == (u1)ON )
      || ( u1t_xdmfem == (u1)ON )
  #if ( JEEFI == u1g_EJCC_DUAL ) && ( JEHIPFI_E == u1g_EJCC_USE )   /*Åy√ﬁ≠±ŸINJÅzANDÅyâ∑ä‘Œﬂ∞ƒï¨éÀóLÅz*/
      || ( u1t_xdmfdi == (u1)ON )
      || ( u1t_xdmfpfi == (u1)ON )
  #endif
       )
    {
        u1t_exdmf = (u1)ON;
    }

    if ( u1s_emfng_xreqclr_Lch == (u1)ON )
    {
        u1t_exdmf = (u1)OFF;
    }
    /* RAMÉfÅ[É^Ç…äiî[ */
    glbitcp_bibi( u1t_exdmf, big_emfng_exdmf );               /* é∏âŒOBDåªç›àŸèÌÃ◊∏ﬁ */

  #if JEOBDUDS_D == u1g_EJCC_USE                /*ÅyOBDonUDSëŒâûóLÅz*/
    /* ⁄√ﬁ®»ΩæØƒÇÃÇΩÇﬂÇÃ1000revñàê≥èÌí ím */
    if ( ( u1s_emfng_pas == (u1)ON )
      && ( ( u1t_exdmf == (u1)OFF )
        && ( ( big_wmf_fdi_xot_pnd == (u1)OFF )
          && ( big_wmf_fdi_xem_pnd == (u1)OFF ) )
        && ( ( u1s_emfng_xot_lstpnd_Lch == (u1)OFF )
          && ( u1s_emfng_xem_lstpnd_Lch == (u1)OFF ) )
        && ( ( u1s_emfng_xot_warning_Lch == (u1)OFF )
          && ( u1s_emfng_xem_warning_Lch == (u1)OFF ) )
        && ( ( u1s_emfng_ecxmf1 == u1s_EMFNG_CXMF1PAS )
          && ( u1s_emfng_ecxmf == u1s_EMFNG_CXMFPAS ) ) ) )
    {
        vdg_wmf_fdi_pas_u2u1( u2g_WMF_FDI_ID_EM,(u1)ON );    /* EMé∏âŒê≥èÌîªíË */
    }
  #endif
 #endif

}
#endif /* JEMFDTC_D */

#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
/*********************************************************************/
/*  ä÷êîñº        | emfng_eocmfmlt_pt()                              */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAMçXêVèàóù                              */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                  */
/*  à¯êî          | ptt_ecdmfw[](êÊì™ÉAÉhÉåÉX)                       */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êîÅyésèÍí≤ç∏óLÅz                           */
/*********************************************************************/
static void
emfng_eocmfmlt_pt( const u1 ptt_ecdmfw[] )
{
 #if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
    s4 s4t_i;               /* lsb=1 :forÉãÅ[Évópïœêî */
    u2 u2t_ocmfmlth;        /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêî(ëÂ)ÇÃïpìx */
    u2 u2t_ocmfmltl;        /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêî(è¨)ÇÃïpìx */
    s4 s4t_ecdmfw[3];       /* lsb=1,unit=âÒ :ãCìõåQç≈ëÂêîï™ */
    s4 s4t_enejsm;          /* lsb=200/8,unit=rpm :NEÇ»Ç‹Çµíl */
    u1 u1t_onemfmlt;        /* lsb=200/8,unit=rpm :ëŒå¸ãCìõé∏âŒéûÇÃ¥›ºﬁ›âÒì]Ç»Ç‹Çµíl */
    u1 u1t_jdg;
    u1 u1t_ncylw_c;         /* lsb=1 :ãCìõåQêî */
 #endif
    u1 u1t_cdmfaot;         /* lsb=1,unit=âÒ :êGî}OT⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
    u1 u1t_ocdmfaotmx;      /* lsb=1,unit=âÒ :200revñàÇÃç≈ëÂëçé∏âŒâÒêî */
    s2 s2t_thw;             /* lsb=160/128,unit=Åé :¥›ºﬁ›êßå‰ópêÖâ∑ */
    s1 s1t_othwot;          /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃêÖâ∑ */
    s2 s2t_tha;             /* lsb=160/128,unit=Åé :¥›ºﬁ›êßå‰ópãzãCâ∑ */
    s1 s1t_othaot;          /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃãzãCâ∑ */
    u1 u1t_ecjemrev;        /* lsb=1,unit=âÒ :énìÆå„EMà´âªÉåÉxÉãîªíËâÒêî(ÉcÅ[ÉãåxçêâÒîÇÃà◊) */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
 #if JENCYL == u1g_EJCC_6CYL    /*Åy6ãCìõÅz*/
    u1t_jdg = (u1)OFF;
    u1t_ncylw_c = u1s_EMFNG_NCYLW;
    for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncylw_c; s4t_i++ )
    {
        s4t_ecdmfw[s4t_i] = (s4)ptt_ecdmfw[s4t_i];
    }
    if ( ( s4t_ecdmfw[0] >= (s4)50 )
      || ( s4t_ecdmfw[1] >= (s4)50 )
      || ( s4t_ecdmfw[2] >= (s4)50 ) )
    {
        u2t_ocmfmlth = u2g_emfng_eocmfmlth();         /* eocmfmlthéÊìæ */
        if ( u2t_ocmfmlth < u2g_U2MAX )
        {
            u2t_ocmfmlth++;                               /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîëÂÇÃïpìx */
        }
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFMLTH_U2_ID, (void *)&u2t_ocmfmlth );   /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        u1t_jdg = (u1)ON;
    }
    else if ( ( s4t_ecdmfw[0] >= (s4)20 )
           || ( s4t_ecdmfw[1] >= (s4)20 )
           || ( s4t_ecdmfw[2] >= (s4)20 ) )
    {
        u2t_ocmfmltl = u2g_emfng_eocmfmltl();         /* eocmfmltléÊìæ */
        if ( u2t_ocmfmltl < u2g_U2MAX )
        {
            u2t_ocmfmltl++;                               /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêîè¨ÇÃïpìx */
        }
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFMLTL_U2_ID, (void *)&u2t_ocmfmltl );   /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        u1t_jdg = (u1)ON;
    }
    else
    {
        /* èàóùÇ»Çµ */
    }

    if ( u1t_jdg == (u1)ON )
    {
        s4t_enejsm = s4g_glbitcal_s4sftr_s4u1( (s4)s2g_eobdsm_enejsm, (u1)5U );
        ELIB_HILOGD2( s4t_enejsm, (s4)u1g_U1MAX, (s4)u1g_U1MIN, s4t_enejsm );
        u1t_onemfmlt = (u1)s4t_enejsm;
        (void)s4g_ememctr_write( u2g_EMFNG_EONEMFMLT_U1_ID, (void *)&u1t_onemfmlt );   /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
                                                 /* lsb=200/256Å®200/8,unit=rpm :ésèÍí≤ç∏RAMçXêVéûÇÃenejsm */
    }
 #endif

    /**********************/
    /*     èâä˙âªèàóù     */
    /**********************/
    u1t_cdmfaot = u1g_emfng_ecdmfaot;

    /* ÉoÉbÉNÉAÉbÉvRAMéÊìæ */
    u1t_ocdmfaotmx = u1g_emfng_eocdmfaotmx();        /* lsb=1, unit=âÒ */

    if ( u1t_ocdmfaotmx < u1t_cdmfaot )
    {
        s2t_thw = s2g_glbitcal_s2sftr_s2u1( s2g_ethw_ethw, (u1)1U );
        ELIB_HILOGD2( s2t_thw, (s2)s1g_S1MAX, (s2)s1g_S1MIN, s2t_thw );
        s1t_othwot = (s1)s2t_thw;
        s2t_tha = s2g_glbitcal_s2sftr_s2u1( s2g_etha_etha, (u1)1U );
        ELIB_HILOGD2( s2t_tha, (s2)s1g_S1MAX, (s2)s1g_S1MIN, s2t_tha );
        s1t_othaot = (s1)s2t_tha;

        /****************************************************/
        /* 200revíÜÇÃé∏âŒâÒêîÇ™ç≈ëÂéûÅAÉoÉbÉNÉAÉbÉvRAMçXêV  */
        /****************************************************/
        (void)s4g_ememctr_write( u2g_EMFNG_EOCDMFAOTMX_U1_ID, (void *)&u1t_cdmfaot );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        u1t_ecjemrev = u1s_emfng_ecjemrev;
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJREVOT_U1_ID, (void *)&u1t_ecjemrev );   /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHWOT_S1_ID, (void *)&s1t_othwot );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHAOT_S1_ID, (void *)&s1t_othaot );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_eocmfn_u2()                                */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAMçXêVèàóù                              */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                  */
/*  à¯êî          | u2t_cdmfae lsb=1 :EMà´âª⁄ÕﬁŸé∏âŒâÒêî             */
/*                |                   (ëSãCìõï™)∂≥›¿(CDMFAE2)        */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êîÅyésèÍí≤ç∏óLÅz                           */
/*********************************************************************/
static void
emfng_eocmfn_u2( u2 u2t_cdmfae )
{
    u2  u2t_ocmfnh;         /* lsb=1,unit=âÒ :é∏âŒâÒêî(ëÂ)ÇÃïpìx */
    u2  u2t_ocmfnm;         /* lsb=1,unit=âÒ :é∏âŒâÒêî(íÜ)ÇÃïpìx */
    u2  u2t_ocmfnl;         /* lsb=1,unit=âÒ :é∏âŒâÒêî(è¨)ÇÃïpìx */
    s4  s4t_i;              /* lsb=1 :forÉãÅ[Évópïœêî */
    u2  u2t_cdmfae2;        /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿ */
    u2  u2t_cdmfae2gd;      /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿∂ﬁ∞ƒﬁíl */
    u1  u1t_cdmfae2gd;      /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸëSãCìõé∏âŒ∂≥›¿∂ﬁ∞ƒﬁíl(èëÇ´çûÇ›óp) */
    u1  u1t_ocdmfae2mx;     /* lsb=1,unit=âÒ :1000revñàÇÃç≈ëÂëçé∏âŒâÒêî */
    s2  s2t_thw;            /* lsb=160/128,unit=Åé :¥›ºﬁ›êßå‰ópêÖâ∑ */
    s1  s1t_othwem;         /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃêÖâ∑ */
    s2  s2t_tha;            /* lsb=160/128,unit=Åé :¥›ºﬁ›êßå‰ópãzãCâ∑ */
    s1  s1t_othaem;         /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃãzãCâ∑ */
    u2  u2t_ecdmfem2;       /* lsb=1,unit=âÒ :EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
    u1  u1t_ocdmfem2mx;     /* lsb=1,unit=âÒ :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃãCìõï é∏âŒ∂≥›¿ */
    s4  s4t_spdav;          /* lsb=256/256,unit=km/h :1000revíÜÇÃé∏âŒâÒêîç≈ëÂéûÇÃé∏âŒâÒêî±ØÃﬂéûïΩãœé‘ë¨ */
    u1  u1t_ospdemav;       /* lsb=256/256,unit=km/h :1000revíÜÇÃé∏âŒâÒêîç≈ëÂéûÇÃé∏âŒâÒêî±ØÃﬂéûïΩãœé‘ë¨(èëÇ´çûÇ›óp) */
    s4  s4t_neemav;         /* lsb=12800/256,unit=rpm :é∏âŒâÒêîUPéûÇÃïΩãœ¥›ºﬁ›âÒì]êî */
    u1  u1t_oneemav;        /* lsb=12800/256,unit=rpm :é∏âŒâÒêîUPéûÇÃïΩãœ¥›ºﬁ›âÒì]êî(èëÇ´çûÇ›óp) */
    s4  s4t_klsmemav;       /* lsb=320/256,unit=% :é∏âŒâÒêîUPéûÇÃïΩãœïââ◊ */
    u1  u1t_oklsmemav;      /* lsb=320/256,unit=% :é∏âŒâÒêîUPéûÇÃïΩãœïââ◊(èëÇ´çûÇ›óp) */
    u1  u1t_ecjmfneemi;     /* lsb=1,unit=âÒ :1000revä‘ÇÃ±≤ƒﬁŸ”∞ƒﬁâÒêî(ÉcÅ[ÉãåxçêâÒîÇÃà◊) */
    u1  u1t_ecjmfneeml;     /* lsb=1,unit=âÒ :1000revä‘ÇÃ€∞”∞ƒﬁâÒêî(ÉcÅ[ÉãåxçêâÒîÇÃà◊) */
    u1  u1t_ecjmfneemh;     /* lsb=1,unit=âÒ :1000revä‘ÇÃ ≤”∞ƒﬁâÒêî(ÉcÅ[ÉãåxçêâÒîÇÃà◊) */
    u1  u1t_ecjemrev;       /* lsb=1,unit=âÒ :énìÆå„EMà´âªÉåÉxÉãîªíËâÒêî(ÉcÅ[ÉãåxçêâÒîÇÃà◊) */
    u1  u1t_ncyl_c;         /* lsb=1 :ãCìõêî */

    if ( u2t_cdmfae >= u2s_emfng_ecmfnh_mcr )
    {
        u2t_ocmfnh = u2g_emfng_eocmfnh();         /* eocmfnhéÊìæ */
        if ( u2t_ocmfnh < u2g_U2MAX )
        {
            u2t_ocmfnh++;                             /* lsb=1,unit=âÒ :é∏âŒâÒêî(ëÂ)ÇÃïpìx */
        }
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFNH_U2_ID, (void *)&u2t_ocmfnh );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }
    else if ( u2t_cdmfae >= u2s_emfng_ecmfnm_mcr )
    {
        u2t_ocmfnm = u2g_emfng_eocmfnm();         /* eocmfnméÊìæ */
        if ( u2t_ocmfnm < u2g_U2MAX )
        {
            u2t_ocmfnm++;                             /* lsb=1,unit=âÒ :é∏âŒâÒêî(íÜ)ÇÃïpìx */
        }
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFNM_U2_ID, (void *)&u2t_ocmfnm );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }
    else if ( u2t_cdmfae >= u2s_emfng_ecmfnl_mcr )
    {
        u2t_ocmfnl = u2g_emfng_eocmfnl();         /* eocmfnléÊìæ */
        if ( u2t_ocmfnl < u2g_U2MAX )
        {
            u2t_ocmfnl++;                             /* lsb=1,unit=âÒ :é∏âŒâÒêî(è¨)ÇÃïpìx */
        }
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFNL_U2_ID, (void *)&u2t_ocmfnl );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }
    else
    {
        /* èàóùÇ»Çµ */
    }

    /**********************/
    /*     èâä˙âªèàóù     */
    /**********************/
    u2t_cdmfae2 = u2g_emfng_ecdmfae2;
    ELIB_HIGHGD2( u2t_cdmfae2, (u2)u1g_U1MAX, u2t_cdmfae2gd );
    /* ÉoÉbÉNÉAÉbÉvRAMéÊìæ */
    u1t_ocdmfae2mx = u1g_emfng_eocdmfae2mx();        /* lsb=1, unit=âÒ */

    if ( u1t_ocdmfae2mx < (u1)u2t_cdmfae2gd )
    {
        s2t_thw = s2g_glbitcal_s2sftr_s2u1( s2g_ethw_ethw, (u1)1U );
        ELIB_HILOGD2( s2t_thw, (s2)s1g_S1MAX, (s2)s1g_S1MIN, s2t_thw );
        s1t_othwem = (s1)s2t_thw;
        s2t_tha = s2g_glbitcal_s2sftr_s2u1( s2g_etha_etha, (u1)1U );
        ELIB_HILOGD2( s2t_tha, (s2)s1g_S1MAX, (s2)s1g_S1MIN, s2t_tha );
        s1t_othaem = (s1)s2t_tha;

        s4t_spdav = s4g_gldiv_s4s4( s4s_emfng_espdaem, (s4)u2t_cdmfae2 );
        ELIB_HILOGD2( s4t_spdav, (s4)u1g_U1MAX, (s4)u1g_U1MIN, s4t_spdav );
        u1t_ospdemav = (u1)s4t_spdav;
        s4t_neemav = s4g_glbitcal_s4sftr_s4u1( s4s_emfng_eneaem, (u1)6U );  /* lsb=12800/64/256 -> 12800/256 */
        s4t_neemav = s4g_gldiv_s4s4( s4t_neemav, (s4)u2t_cdmfae2 );
        ELIB_HILOGD2( s4t_neemav, (s4)u1g_U1MAX, (s4)u1g_U1MIN, s4t_neemav );
        u1t_oneemav = (u1)s4t_neemav;
        s4t_klsmemav = s4g_glbitcal_s4sftr_s4u1( s4s_emfng_eklsmaem, (u1)6U );  /* lsb=320/64/256 -> 320/256 */
        s4t_klsmemav = s4g_gldiv_s4s4( s4t_klsmemav, (s4)u2t_cdmfae2 );
        ELIB_HILOGD2( s4t_klsmemav, (s4)u1g_U1MAX, (s4)u1g_U1MIN, s4t_klsmemav );
        u1t_oklsmemav = (u1)s4t_klsmemav;

        /****************************************************/
        /* 1000revíÜÇÃé∏âŒâÒêîÇ™ç≈ëÂéûÅAÉoÉbÉNÉAÉbÉvRAMçXêV */
        /****************************************************/
        u1t_cdmfae2gd = (u1)u2t_cdmfae2gd;
        (void)s4g_ememctr_write( u2g_EMFNG_EOCDMFAE2MX_U1_ID, (void *)&u1t_cdmfae2gd );        /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        u1t_ecjemrev = u1s_emfng_ecjemrev;
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJREVEM_U1_ID, (void *)&u1t_ecjemrev );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHWEM_S1_ID, (void *)&s1t_othwem );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHAEM_S1_ID, (void *)&s1t_othaem );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

        u1t_ncyl_c = u1g_ejcc_NCYL;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            u2t_ecdmfem2 = u2g_emfng_ecdmfem2[s4t_i];
            ELIB_HIGHGD2( u2t_ecdmfem2, (u2)u1g_U1MAX, u2t_ecdmfem2 );
            u1t_ocdmfem2mx = (u1)u2t_ecdmfem2;
            (void)s4g_ememctr_write( u2s_EOCDMFEM2MX_U1_ID[s4t_i], (void *)&u1t_ocdmfem2mx );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        }

        (void)s4g_ememctr_write( u2g_EMFNG_EOSPDEMAV_U1_ID, (void *)&u1t_ospdemav );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EONEEMAV_U1_ID, (void *)&u1t_oneemav );             /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOKLSMEMAV_U1_ID, (void *)&u1t_oklsmemav );         /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

        u1t_ecjmfneemi = u1s_emfng_ecjmfneemi;
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJMFNEEMI_U1_ID, (void *)&u1t_ecjmfneemi );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        u1t_ecjmfneeml = u1s_emfng_ecjmfneeml;
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJMFNEEML_U1_ID, (void *)&u1t_ecjmfneeml );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        u1t_ecjmfneemh = u1s_emfng_ecjmfneemh;
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJMFNEEMH_U1_ID, (void *)&u1t_ecjmfneemh );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }
}
#endif /* JEOOBD */

/*********************************************************************/
/*  ä÷êîñº        | emfng_cntclr_65msl( )                            */
/*  èàóùì‡óe      | äOïîéQè∆é∏âŒ∂≥›¿ÇÃ∏ÿ±èàóù                        */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfcnt_65mslÇÊÇËÉRÅ[Éã)                   */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      |                                                  */
/*********************************************************************/
void
emfng_cntclr_65msl( void )
{
    s4 s4t_i;           /* lsb=1 :forÉãÅ[Évópïœêî */
    u1 u1t_ncyl_c;      /* lsb=1 :ãCìõêî */
    u1 u1t_ncylw_c;     /* lsb=1 :ãCìõåQêî */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_ncyl_c = u1g_ejcc_NCYL;
    /***************/
    /* ∂≥›¿∏ÿ±èàóù */
    /***************/
    glint_di(); /* Å•Å•Å• äÑÇËçûÇ›ã÷é~ Å•Å•Å• */
    if ( big_emfng_excdmfemclr == (u1)ON )      /* ecdmfem[]∏ÿ±óvãÅóLÇË */
    {
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            u1g_emfng_ecdmfem[s4t_i] = (u1)0U;
        }
    }
    if ( bis_emfng_excdmfem2clr == (u1)ON )     /* ecdmfem2[]∏ÿ±óvãÅóLÇË */
    {
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            u2g_emfng_ecdmfem2[s4t_i] = (u2)0U;
        }
    }
    if ( bis_emfng_excdmfwclr == (u1)ON )       /* ecdmfw[]∏ÿ±óvãÅóLÇË */
    {
        u1t_ncylw_c = u1s_EMFNG_NCYLW;
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncylw_c; s4t_i++ )
        {
            u1g_emfng_ecdmfw[s4t_i] = (u1)0U;
        }
    }

    if ( bis_emfng_excdmfae2clr == (u1)ON )     /* ecdmfae2∏ÿ±óvãÅóLÇË */
    {
        u2g_emfng_ecdmfae2 = (u2)0U;
    }

    glint_ei(); /* Å£Å£Å£ äÑÇËçûÇ›ãñâ¬ Å£Å£Å£ */
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_eocmfnl( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒâÒêî(è¨)ÇÃïpìx éÊìæä÷êî          */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒâÒêî(è¨)ÇÃïpìx lsb=1,unit=âÒ                 */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u2
u2g_emfng_eocmfnl( void )
{
    u2 u2t_eocmfnl;     /* lsb=1,unit=âÒ :é∏âŒâÒêî(è¨)ÇÃïpìx */

    u2t_eocmfnl = (u2)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCMFNL_U2_ID, (void *)&u2t_eocmfnl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u2t_eocmfnl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_eocmfnm( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒâÒêî(íÜ)ÇÃïpìx éÊìæä÷êî          */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒâÒêî(íÜ)ÇÃïpìx lsb=1,unit=âÒ                 */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u2
u2g_emfng_eocmfnm( void )
{
    u2 u2t_eocmfnm;     /* lsb=1,unit=âÒ :é∏âŒâÒêî(íÜ)ÇÃïpìx */

    u2t_eocmfnm = (u2)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCMFNM_U2_ID, (void *)&u2t_eocmfnm );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u2t_eocmfnm );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_eocmfnh( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒâÒêî(ëÂ)ÇÃïpìx éÊìæä÷êî          */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒâÒêî(ëÂ)ÇÃïpìx lsb=1,unit=âÒ                 */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u2
u2g_emfng_eocmfnh( void )
{
    u2 u2t_eocmfnh;     /* lsb=1,unit=âÒ :é∏âŒâÒêî(ëÂ)ÇÃïpìx */

    u2t_eocmfnh = (u2)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCMFNH_U2_ID, (void *)&u2t_eocmfnh );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u2t_eocmfnh );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_eocmfmltl( )                           */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM ëŒå¸ãCìõé∏âŒâÒêî(è¨)ÇÃïpìx éÊìæä÷êî  */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | ëŒå¸ãCìõé∏âŒâÒêî(è¨)ÇÃïpìx lsb=1,unit=âÒ         */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u2
u2g_emfng_eocmfmltl( void )
{
    u2 u2t_eocmfmltl;   /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêî(è¨)ÇÃïpìx */

    u2t_eocmfmltl = (u2)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCMFMLTL_U2_ID, (void *)&u2t_eocmfmltl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u2t_eocmfmltl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_eocmfmlth( )                           */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM ëŒå¸ãCìõé∏âŒâÒêî(ëÂ)ÇÃïpìx éÊìæä÷êî  */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | ëŒå¸ãCìõé∏âŒâÒêî(ëÂ)ÇÃïpìx lsb=1,unit=âÒ         */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u2
u2g_emfng_eocmfmlth( void )
{
    u2 u2t_eocmfmlth;   /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêî(ëÂ)ÇÃïpìx */

    u2t_eocmfmlth = (u2)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCMFMLTH_U2_ID, (void *)&u2t_eocmfmlth );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u2t_eocmfmlth );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eonemfmlt( )                           */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM ëŒå¸ãCìõé∏âŒéûÇÃ¥›ºﬁ›âÒì]Ç»Ç‹Çµíl éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | ëŒå¸ãCìõé∏âŒéûÇÃ¥›ºﬁ›âÒì]Ç»Ç‹Çµíl                */
/*                | lsb=200/8, unit=rpm                              */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eonemfmlt( void )
{
    u1 u1t_eonemfmlt;   /* lsb=200/8,unit=rpm :ëŒå¸ãCìõé∏âŒéûÇÃ¥›ºﬁ›âÒì]Ç»Ç‹Çµíl */

    u1t_eonemfmlt = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EONEMFMLT_U1_ID, (void *)&u1t_eonemfmlt );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eonemfmlt );        /* lsb=200/8,unit=rpm */
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfaemTv( )                          */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)         */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfaemTv( void )
{
    u2 u2t_ecdmfaemTv;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ) */

    u2t_ecdmfaemTv = (u2)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_ECDMFAEMTV_U2_ID, (void *)&u2t_ecdmfaemTv );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u2t_ecdmfaemTv );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfaemMntl( )                        */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ)éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ)   */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfaemMntl( void )
{
    u2 u2t_ecdmfaemMntl;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ) */

    u2t_ecdmfaemMntl = (u2)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_ECDMFAEMMNTL_U2_ID, (void *)&u2t_ecdmfaemMntl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u2t_ecdmfaemMntl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfaemMxtl( )                        */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ)éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ)   */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfaemMxtl( void )
{
    u2 u2t_ecdmfaemMxtl;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ) */

    u2t_ecdmfaemMxtl = (u2)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_ECDMFAEMMXTL_U2_ID, (void *)&u2t_ecdmfaemMxtl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u2t_ecdmfaemMxtl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfemTv( )                           */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl  :lsb=1 ãCìõ                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )         */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfemTv( u1 u1t_cyl )
{
    u2 u2t_ecdmfemTv;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï ) */

    u2t_ecdmfemTv = u2g_emfng_ECDMFEMTV_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_ECDMFEMTV_U2_ID[u1t_cyl], (void *)&u2t_ecdmfemTv );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    return( u2t_ecdmfemTv );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfemMntl( )                         */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ãCìõï )éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl   :lsb=1 ãCìõ                            */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ãCìõï )   */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfemMntl( u1 u1t_cyl )
{
    u2 u2t_ecdmfemMntl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ãCìõï ) */

    u2t_ecdmfemMntl = u2g_emfng_ECDMFEMMNTL_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_ECDMFEMMNTL_U2_ID[u1t_cyl], (void *)&u2t_ecdmfemMntl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    return( u2t_ecdmfemMntl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfemMxtl( )                         */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ãCìõï )éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl   :lsb=1 ãCìõ                            */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ãCìõï )   */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfemMxtl( u1 u1t_cyl )
{
    u2 u2t_ecdmfemMxtl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ãCìõï ) */

    u2t_ecdmfemMxtl = u2g_emfng_ECDMFEMMXTL_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_ECDMFEMMXTL_U2_ID[u1t_cyl], (void *)&u2t_ecdmfemMxtl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    return( u2t_ecdmfemMxtl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfaavTv( )                          */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ)éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ)     */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfaavTv( void )
{
    u2 u2t_ecdmfaavTv;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ëSãCìõ) */

    u2t_ecdmfaavTv = (u2)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_ECDMFAAVTV_U2_ID, (void *)&u2t_ecdmfaavTv );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u2t_ecdmfaavTv );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfaavMntl( )                        */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ)éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ) */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfaavMntl( void )
{
    u2 u2t_ecdmfaavMntl;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ) */

    u2t_ecdmfaavMntl = (u2)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_ECDMFAAVMNTL_U2_ID, (void *)&u2t_ecdmfaavMntl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u2t_ecdmfaavMntl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfaavMxtl( )                        */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ)éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ) */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfaavMxtl( void )
{
    u2 u2t_ecdmfaavMxtl;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ) */

    u2t_ecdmfaavMxtl = (u2)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_ECDMFAAVMXTL_U2_ID, (void *)&u2t_ecdmfaavMxtl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u2t_ecdmfaavMxtl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfavTv( )                           */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï )éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl   :lsb=1 ãCìõ                            */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï )     */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfavTv( u1 u1t_cyl )
{
    u2 u2t_ecdmfavTv;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿(ãCìõï ) */

    u2t_ecdmfavTv = u2g_emfng_ECDMFAVTV_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_ECDMFAVTV_U2_ID[u1t_cyl], (void *)&u2t_ecdmfavTv );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    return( u2t_ecdmfavTv );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfavMntl( )                         */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ãCìõï )éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl   :lsb=1 ãCìõ                            */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ãCìõï ) */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfavMntl( u1 u1t_cyl )
{
    u2 u2t_ecdmfavMntl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿â∫å¿íl(ãCìõï ) */

    u2t_ecdmfavMntl = u2g_emfng_ECDMFAVMNTL_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_ECDMFAVMNTL_U2_ID[u1t_cyl], (void *)&u2t_ecdmfavMntl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    return( u2t_ecdmfavMntl );
}

/*********************************************************************/
/*  ä÷êîñº        | u2g_emfng_ecdmfavMxtl( )                         */
/*  èàóùì‡óe      | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ãCìõï )éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl   :lsb=1 ãCìõ                            */
/*  ñﬂÇËíl        | √Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ãCìõï ) */
/*                |                        lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      |  ÉXÉPÅ[ÉäÉìÉOID =24(ISO 15031-5)                 */
/*********************************************************************/
u2
u2g_emfng_ecdmfavMxtl( u1 u1t_cyl )
{
    u2 u2t_ecdmfavMxtl;    /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópâﬂãé10ƒÿØÃﬂEWMAé∏âŒ∂≥›¿è„å¿íl(ãCìõï ) */

    u2t_ecdmfavMxtl = u2g_emfng_ECDMFAVMXTL_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_ECDMFAVMXTL_U2_ID[u1t_cyl], (void *)&u2t_ecdmfavMxtl );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }

    return( u2t_ecdmfavMxtl );
}

/*********************************************************************/
/*  ä÷êîñº        | u1s_emfng_exrcdmf( )                             */
/*  èàóùì‡óe      | EWMAé∏âŒ∂≥›¿åvéZóöóÃ◊∏ﬁéÊìæèàóù                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| emfng_65msl( )                                   */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | EWMAé∏âŒ∂≥›¿åvéZóöóÃ◊∏ﬁ                         */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static u1
u1s_emfng_exrcdmf( void )
{
    u1 u1t_exrcdmf;     /* lsb=1 :EWMAé∏âŒ∂≥›¿åvéZóöóÃ◊∏ﬁ */

    u1t_exrcdmf = (u1)0U;  /* É_É~Å[ê›íË */
    (void)s4g_ememctr_read( u2g_EMFNG_EXRCDMF_U1_ID, (void *)&u1t_exrcdmf );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

    return( u1t_exrcdmf );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocdmfae2mx( )                         */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM 1000revñàÇÃç≈ëÂëçé∏âŒâÒêî éÊìæä÷êî   */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | 1000revñàÇÃç≈ëÂëçé∏âŒâÒêî lsb=1,unit=âÒ          */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocdmfae2mx( void )
{
    u1  u1t_eocdmfae2mx;    /* lsb=1,unit=âÒ :1000revñàÇÃç≈ëÂëçé∏âŒâÒêî */

    u1t_eocdmfae2mx = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCDMFAE2MX_U1_ID, (void *)&u1t_eocdmfae2mx );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocdmfae2mx );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocjrevem( )                           */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM 1000revñàÇÃénìÆå„1000revâÒêî éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | 1000revñàÇÃénìÆå„1000revâÒêî lsb=1,unit=âÒ       */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocjrevem( void )
{
    u1 u1t_eocjrevem;   /* lsb=1,unit=âÒ :1000revñàÇÃénìÆå„1000revâÒêî */

    u1t_eocjrevem = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCJREVEM_U1_ID, (void *)&u1t_eocjrevem );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocjrevem );
}

/*********************************************************************/
/*  ä÷êîñº        | s1g_emfng_eothwem( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM 1000revñàÇÃêÖâ∑ éÊìæä÷êî             */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | 1000revñàÇÃêÖâ∑ lsb=160/128,unit=Åé              */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
s1
s1g_emfng_eothwem( void )
{
    s1 s1t_eothwem;     /* lsb=160/128,unit=Åé :1000revñàÇÃêÖâ∑ */

    s1t_eothwem = (s1)0;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOTHWEM_S1_ID, (void *)&s1t_eothwem );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( s1t_eothwem );
}

/*********************************************************************/
/*  ä÷êîñº        | s1g_emfng_eothaem( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM 1000revñàÇÃãzãCâ∑ éÊìæä÷êî           */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | 1000revñàÇÃãzãCâ∑ lsb=160/128,unit=Åé            */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
s1
s1g_emfng_eothaem( void )
{
    s1 s1t_eothaem;     /* lsb=160/128,unit=Åé :1000revñàÇÃãzãCâ∑ */

    s1t_eothaem = (s1)0;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOTHAEM_S1_ID, (void *)&s1t_eothaem );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( s1t_eothaem );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocdmfem2mx( )                         */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM 1000revñàÇÃãCìõï é∏âŒâÒêî éÊìæä÷êî   */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | u1t_cyl   :lsb=1 ãCìõ                            */
/*  ñﬂÇËíl        | 1000revñàÇÃãCìõï é∏âŒâÒêî lsb=1,unit=âÒ          */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocdmfem2mx( u1 u1t_cyl )
{
    u1 u1t_eocdmfem2mx;     /* lsb=1,unit=âÒ :1000revñàÇÃãCìõï é∏âŒâÒêî */

#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    u1t_eocdmfem2mx = u1g_emfng_EOCDMFEM2MX_MI;
    if ( u1t_cyl < u1g_ejcc_NCYL )
    {
        (void)s4g_ememctr_read( u2s_EOCDMFEM2MX_U1_ID[u1t_cyl], (void *)&u1t_eocdmfem2mx );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    }
#else                             /*ÅyésèÍí≤ç∏ñ≥Åz*/
    u1t_eocdmfem2mx = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#endif
    return( u1t_eocdmfem2mx );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eospdemav( )                           */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒ∂≥›ƒéûÇÃïΩãœé‘ë¨ éÊìæä÷êî        */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒ∂≥›ƒéûÇÃïΩãœé‘ë¨ lsb=256/256,unit=km/h       */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eospdemav( void )
{
    u1 u1t_eospdemav;   /* lsb=256/256,unit=km/h :é∏âŒ∂≥›ƒéûÇÃïΩãœé‘ë¨ */

    u1t_eospdemav = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOSPDEMAV_U1_ID, (void *)&u1t_eospdemav );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eospdemav );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eoneemav( )                            */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒ∂≥›ƒéûÇÃïΩãœ¥›ºﬁ›âÒì]êî éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒ∂≥›ƒéûÇÃïΩãœ¥›ºﬁ›âÒì]êî lsb=12800/256,unit=rpm */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eoneemav( void )
{
    u1 u1t_eoneemav;    /* lsb=12800/256,unit=rpm :é∏âŒ∂≥›ƒéûÇÃïΩãœ¥›ºﬁ›âÒì]êî */

    u1t_eoneemav = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EONEEMAV_U1_ID, (void *)&u1t_eoneemav );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eoneemav );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eoklsmemav( )                          */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒ∂≥›ƒéûÇÃïΩãœïââ◊ éÊìæä÷êî        */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒ∂≥›ƒéûÇÃïΩãœïââ◊ lsb=320/256,unit=%          */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eoklsmemav( void )
{
    u1 u1t_eoklsmemav;      /* lsb=320/256,unit=% :é∏âŒ∂≥›ƒéûÇÃïΩãœïââ◊ */

    u1t_eoklsmemav = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOKLSMEMAV_U1_ID, (void *)&u1t_eoklsmemav );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eoklsmemav );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocjmfneemi( )                         */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒ∂≥›ƒéûÇÃ±≤ƒﬁŸ”∞ƒﬁâÒêî éÊìæä÷êî   */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒ∂≥›ƒéûÇÃ±≤ƒﬁŸ”∞ƒﬁâÒêî lsb=1,unit=âÒ          */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocjmfneemi( void )
{
    u1 u1t_eocjmfneemi;     /* lsb=1,unit=âÒ :é∏âŒ∂≥›ƒéûÇÃ±≤ƒﬁŸ”∞ƒﬁâÒêî */

    u1t_eocjmfneemi = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCJMFNEEMI_U1_ID, (void *)&u1t_eocjmfneemi );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocjmfneemi );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocjmfneeml( )                         */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒ∂≥›ƒéûÇÃ€∞”∞ƒﬁâÒêî éÊìæä÷êî      */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒ∂≥›ƒéûÇÃ€∞”∞ƒﬁâÒêî lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocjmfneeml( void )
{
    u1 u1t_eocjmfneeml;     /* lsb=1,unit=âÒ :é∏âŒ∂≥›ƒéûÇÃ€∞”∞ƒﬁâÒêî */

    u1t_eocjmfneeml = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCJMFNEEML_U1_ID, (void *)&u1t_eocjmfneeml );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocjmfneeml );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocjmfneemh( )                         */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM é∏âŒ∂≥›ƒéûÇÃ ≤”∞ƒﬁâÒêî éÊìæä÷êî      */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | é∏âŒ∂≥›ƒéûÇÃ ≤”∞ƒﬁâÒêî lsb=1,unit=âÒ             */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocjmfneemh( void )
{
    u1 u1t_eocjmfneemh;     /* lsb=1,unit=âÒ :é∏âŒ∂≥›ƒéûÇÃ ≤”∞ƒﬁâÒêî */

    u1t_eocjmfneemh = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCJMFNEEMH_U1_ID, (void *)&u1t_eocjmfneemh );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocjmfneemh );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocdmfaotmx( )                         */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM 200revíÜé∏âŒ∂≥›¿ÇÃç≈ëÂíl éÊìæä÷êî    */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | 200revíÜé∏âŒ∂≥›¿ÇÃç≈ëÂíl lsb=1,unit=âÒ           */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocdmfaotmx( void )
{
    u1 u1t_eocdmfaotmx;     /* lsb=1,unit=âÒ :200revíÜé∏âŒ∂≥›¿ÇÃç≈ëÂíl */

    u1t_eocdmfaotmx = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCDMFAOTMX_U1_ID, (void *)&u1t_eocdmfaotmx );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocdmfaotmx );
}

/*********************************************************************/
/*  ä÷êîñº        | u1g_emfng_eocjrevot( )                           */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃ1000revâÒêî éÊìæä÷êî */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃ1000revâÒêî lsb=1,unit=âÒ    */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
u1
u1g_emfng_eocjrevot( void )
{
    u1 u1t_eocjrevot;       /* lsb=1,unit=âÒ :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃ1000revâÒêî */

    u1t_eocjrevot = (u1)0U;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOCJREVOT_U1_ID, (void *)&u1t_eocjrevot );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( u1t_eocjrevot );
}

/*********************************************************************/
/*  ä÷êîñº        | s1g_emfng_eothwot( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃêÖâ∑ éÊìæä÷êî    */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃêÖâ∑ lsb=160/128,unit=Åé     */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
s1
s1g_emfng_eothwot( void )
{
    s1 s1t_eothwot;     /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃêÖâ∑ */

    s1t_eothwot = (s1)0;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOTHWOT_S1_ID, (void *)&s1t_eothwot );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( s1t_eothwot );
}

/*********************************************************************/
/*  ä÷êîñº        | s1g_emfng_eothaot( )                             */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAM ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃãzãCâ∑ éÊìæä÷êî  */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃãzãCâ∑ lsb=160/128,unit=Åé   */
/*  íçà”éñçÄ      | ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0Çï‘Ç∑                        */
/*********************************************************************/
s1
s1g_emfng_eothaot( void )
{
    s1 s1t_eothaot;     /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒ∂≥›¿çXêVéûÇÃãzãCâ∑ */

    s1t_eothaot = (s1)0;  /*ÅyésèÍí≤ç∏ñ≥ÅzéûÇÕ0å≈íË */
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    (void)s4g_ememctr_read( u2g_EMFNG_EOTHAOT_S1_ID, (void *)&s1t_eothaot );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    return( s1t_eothaot );
}

/*********************************************************************/
/*  ä÷êîñº        | u1s_emfng_wxreqclr( )                            */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAMè¡ãéèàóù                              */
/*  êßå‰É^ÉCÉ~ÉìÉO| 65msñà(emfng_65msl()ÇÊÇËÉRÅ[Éã)                  */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | É_ÉCÉAÉOÇ©ÇÁÇÃè¡ãéóvãÅ(ON:è¡ãéóvãÅóLÇË)          */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static u1
u1s_emfng_wxreqclr( void )
{
    u1 u1t_xreqclr;
    s4 s4t_i;
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
    u2 u2t_EOCMFMLTH_MI_c;        /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêî(ëÂ)ÇÃïpìx èâä˙íl */
    u2 u2t_EOCMFMLTL_MI_c;        /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒâÒêî(è¨)ÇÃïpìx èâä˙íl */
    u1 u1t_EONEMFMLT_MI_c;        /* lsb=200/8,unit=rpm :ëŒå¸ãCìõé∏âŒéûÇÃÉGÉìÉWÉìâÒì]Ç»Ç‹Çµíl èâä˙íl */
    u2 u2t_EOCMFNH_MI_c;          /* lsb=1,unit=âÒ :é∏âŒâÒêî(ëÂ)ÇÃïpìx èâä˙íl */
    u2 u2t_EOCMFNM_MI_c;          /* lsb=1,unit=âÒ :é∏âŒâÒêî(íÜ)ÇÃïpìx èâä˙íl */
    u2 u2t_EOCMFNL_MI_c;          /* lsb=1,unit=âÒ :é∏âŒâÒêî(è¨)ÇÃïpìx èâä˙íl */
    u1 u1t_EOCDMFAE2MX_MI_c;      /* lsb=1,unit=âÒ :1000revíÜé∏âŒÉJÉEÉìÉ^ÇÃç≈ëÂíl èâä˙íl */
    u1 u1t_EOCJREVEM_MI_c;        /* lsb=1,unit=âÒ :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃ1000revâÒêî èâä˙íl */
    s1 s1t_EOTHWEM_MI_c;          /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃêÖâ∑ èâä˙íl */
    s1 s1t_EOTHAEM_MI_c;          /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃãzãCâ∑ èâä˙íl */
    u1 u1t_EOCDMFEM2MX_MI_c;      /* lsb=1,unit=âÒ :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃãCìõï é∏âŒÉJÉEÉìÉ^ èâä˙íl */
    u1 u1t_EOSPDEMAV_MI_c;        /* lsb=256/256,unit=km/h :é∏âŒÉJÉEÉìÉgéûÇÃïΩãœé‘ë¨ èâä˙íl */
    u1 u1t_EONEEMAV_MI_c;         /* lsb=12800/256,unit=rpm :é∏âŒÉJÉEÉìÉgéûÇÃïΩãœÉGÉìÉWÉìâÒì]êî èâä˙íl */
    u1 u1t_EOKLSMEMAV_MI_c;       /* lsb=320/256,unit=% :é∏âŒÉJÉEÉìÉgéûÇÃïΩãœïââ◊ èâä˙íl */
    u1 u1t_EOCJMFNEEMI_MI_c;      /* lsb=1,unit=âÒ :é∏âŒÉJÉEÉìÉgéûÇÃÉAÉCÉhÉãÉÇÅ[ÉhâÒêî èâä˙íl */
    u1 u1t_EOCJMFNEEML_MI_c;      /* lsb=1,unit=âÒ :é∏âŒÉJÉEÉìÉgéûÇÃÉçÅ[ÉÇÅ[ÉhâÒêî èâä˙íl */
    u1 u1t_EOCJMFNEEMH_MI_c;      /* lsb=1,unit=âÒ :é∏âŒÉJÉEÉìÉgéûÇÃÉnÉCÉÇÅ[ÉhâÒêî èâä˙íl */
    u1 u1t_EOCDMFAOTMX_MI_c;      /* lsb=1,unit=âÒ :200revíÜç≈ëÂÉJÉEÉìÉ^ç≈ëÂíl  èâä˙íl */
    u1 u1t_EOCJREVOT_MI_c;        /* lsb=1,unit=âÒ :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃ1000revâÒêî èâä˙íl */
    s1 s1t_EOTHWOT_MI_c;          /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃêÖâ∑ èâä˙íl */
    s1 s1t_EOTHAOT_MI_c;          /* lsb=160/128,unit=Åé :ç≈ëÂé∏âŒÉJÉEÉìÉ^çXêVéûÇÃãzãCâ∑ èâä˙íl */
#endif
    u2 u2t_ECDMFAEMTV_MI_c;       /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^(ëSãCìõ)èâä˙íl */
    u2 u2t_ECDMFAEMMNTL_MI_c;     /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^â∫å¿íl(ëSãCìõ)èâä˙íl */
    u2 u2t_ECDMFAEMMXTL_MI_c;     /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^è„å¿íl(ëSãCìõ)èâä˙íl */
    u2 u2t_ECDMFAAVTV_MI_c;       /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^(ëSãCìõ)èâä˙íl */
    u2 u2t_ECDMFAAVMNTL_MI_c;     /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^â∫å¿íl(ëSãCìõ)èâä˙íl */
    u2 u2t_ECDMFAAVMXTL_MI_c;     /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^è„å¿íl(ëSãCìõ)èâä˙íl */
    u2 u2t_ECDMFEMTV_MI_c;        /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^(ãCìõï )èâä˙íl */
    u2 u2t_ECDMFEMMNTL_MI_c;      /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^â∫å¿íl(ãCìõï )èâä˙íl */
    u2 u2t_ECDMFEMMXTL_MI_c;      /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^è„å¿íl(ãCìõï )èâä˙íl */
    u2 u2t_ECDMFAVTV_MI_c;        /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^(ãCìõï )èâä˙íl */
    u2 u2t_ECDMFAVMNTL_MI_c;      /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^â∫å¿íl(ãCìõï )èâä˙íl */
    u2 u2t_ECDMFAVMXTL_MI_c;      /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópâﬂãé10ÉgÉäÉbÉvEWMAé∏âŒÉJÉEÉìÉ^è„å¿íl(ãCìõï )èâä˙íl */
    u1 u1t_ncyl_c;                /* lsb=1 :ãCìõêî */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_xreqclr = u1s_emfng_xreqclr_Lch;

    if ( u1t_xreqclr == (u1)ON )
    {
        u1t_ncyl_c = u1g_ejcc_NCYL;
#if JEOOBD == u1g_EJCC_USE        /*ÅyésèÍí≤ç∏óLÅz*/
        u2t_EOCMFMLTH_MI_c = u2g_emfng_EOCMFMLTH_MI;
        u2t_EOCMFMLTL_MI_c = u2g_emfng_EOCMFMLTL_MI;
        u1t_EONEMFMLT_MI_c = u1g_emfng_EONEMFMLT_MI;
        u2t_EOCMFNH_MI_c = u2g_emfng_EOCMFNH_MI;
        u2t_EOCMFNM_MI_c = u2g_emfng_EOCMFNM_MI;
        u2t_EOCMFNL_MI_c = u2g_emfng_EOCMFNL_MI;
        u1t_EOCDMFAE2MX_MI_c = u1g_emfng_EOCDMFAE2MX_MI;
        u1t_EOCJREVEM_MI_c = u1g_emfng_EOCJREVEM_MI;
        s1t_EOTHWEM_MI_c = s1g_emfng_EOTHWEM_MI;
        s1t_EOTHAEM_MI_c = s1g_emfng_EOTHAEM_MI;
        u1t_EOCDMFEM2MX_MI_c = u1g_emfng_EOCDMFEM2MX_MI;
        u1t_EOSPDEMAV_MI_c = u1g_emfng_EOSPDEMAV_MI;
        u1t_EONEEMAV_MI_c = u1g_emfng_EONEEMAV_MI;
        u1t_EOKLSMEMAV_MI_c = u1g_emfng_EOKLSMEMAV_MI;
        u1t_EOCJMFNEEMI_MI_c = u1g_emfng_EOCJMFNEEMI_MI;
        u1t_EOCJMFNEEML_MI_c = u1g_emfng_EOCJMFNEEML_MI;
        u1t_EOCJMFNEEMH_MI_c = u1g_emfng_EOCJMFNEEMH_MI;
        u1t_EOCDMFAOTMX_MI_c = u1g_emfng_EOCDMFAOTMX_MI;
        u1t_EOCJREVOT_MI_c = u1g_emfng_EOCJREVOT_MI;
        s1t_EOTHWOT_MI_c = s1g_emfng_EOTHWOT_MI;
        s1t_EOTHAOT_MI_c = s1g_emfng_EOTHAOT_MI;

        /* ésèÍí≤ç∏RAMè¡ãé */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFMLTH_U2_ID, (void *)&u2t_EOCMFMLTH_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFMLTL_U2_ID, (void *)&u2t_EOCMFMLTL_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EONEMFMLT_U1_ID, (void *)&u1t_EONEMFMLT_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFNH_U2_ID,   (void *)&u2t_EOCMFNH_MI_c );             /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFNM_U2_ID,   (void *)&u2t_EOCMFNM_MI_c );             /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCMFNL_U2_ID,   (void *)&u2t_EOCMFNL_MI_c );             /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCDMFAE2MX_U1_ID, (void *)&u1t_EOCDMFAE2MX_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJREVEM_U1_ID, (void *)&u1t_EOCJREVEM_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHWEM_S1_ID, (void *)&s1t_EOTHWEM_MI_c );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHAEM_S1_ID, (void *)&s1t_EOTHAEM_MI_c );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncyl_c; s4t_i++ )
        {
            (void)s4g_ememctr_write( u2s_EOCDMFEM2MX_U1_ID[s4t_i], (void *)&u1t_EOCDMFEM2MX_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        }
        (void)s4g_ememctr_write( u2g_EMFNG_EOSPDEMAV_U1_ID, (void *)&u1t_EOSPDEMAV_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EONEEMAV_U1_ID, (void *)&u1t_EONEEMAV_MI_c );             /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOKLSMEMAV_U1_ID, (void *)&u1t_EOKLSMEMAV_MI_c );         /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJMFNEEMI_U1_ID, (void *)&u1t_EOCJMFNEEMI_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJMFNEEML_U1_ID, (void *)&u1t_EOCJMFNEEML_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJMFNEEMH_U1_ID, (void *)&u1t_EOCJMFNEEMH_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCDMFAOTMX_U1_ID, (void *)&u1t_EOCDMFAOTMX_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOCJREVOT_U1_ID, (void *)&u1t_EOCJREVOT_MI_c );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHWOT_S1_ID, (void *)&s1t_EOTHWOT_MI_c );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_EOTHAOT_S1_ID, (void *)&s1t_EOTHAOT_MI_c );               /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
        /* mode$06ëŒâûé∏âŒÉJÉEÉìÉ^è¡ãé */
        u2t_ECDMFAEMTV_MI_c = u2g_emfng_ECDMFAEMTV_MI;
        u2t_ECDMFAEMMNTL_MI_c = u2g_emfng_ECDMFAEMMNTL_MI;
        u2t_ECDMFAEMMXTL_MI_c = u2g_emfng_ECDMFAEMMXTL_MI;
        u2t_ECDMFAAVTV_MI_c = u2g_emfng_ECDMFAAVTV_MI;
        u2t_ECDMFAAVMNTL_MI_c = u2g_emfng_ECDMFAAVMNTL_MI;
        u2t_ECDMFAAVMXTL_MI_c = u2g_emfng_ECDMFAAVMXTL_MI;
        u2t_ECDMFEMTV_MI_c = u2g_emfng_ECDMFEMTV_MI;
        u2t_ECDMFEMMNTL_MI_c = u2g_emfng_ECDMFEMMNTL_MI;
        u2t_ECDMFEMMXTL_MI_c = u2g_emfng_ECDMFEMMXTL_MI;
        u2t_ECDMFAVTV_MI_c = u2g_emfng_ECDMFAVTV_MI;
        u2t_ECDMFAVMNTL_MI_c = u2g_emfng_ECDMFAVMNTL_MI;
        u2t_ECDMFAVMXTL_MI_c = u2g_emfng_ECDMFAVMXTL_MI;

        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMTV_U2_ID, (void *)&u2t_ECDMFAEMTV_MI_c );         /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMMNTL_U2_ID, (void *)&u2t_ECDMFAEMMNTL_MI_c );     /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMMXTL_U2_ID, (void *)&u2t_ECDMFAEMMXTL_MI_c );     /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAAVTV_U2_ID, (void *)&u2t_ECDMFAAVTV_MI_c );         /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAAVMNTL_U2_ID, (void *)&u2t_ECDMFAAVMNTL_MI_c );     /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAAVMXTL_U2_ID, (void *)&u2t_ECDMFAAVMXTL_MI_c );     /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */

        for ( s4t_i = (s4)0 ; s4t_i < (s4)u1t_ncyl_c ; s4t_i++ )
        {
            (void)s4g_ememctr_write( u2s_ECDMFEMTV_U2_ID[s4t_i], (void *)&u2t_ECDMFEMTV_MI_c );      /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            (void)s4g_ememctr_write( u2s_ECDMFEMMNTL_U2_ID[s4t_i], (void *)&u2t_ECDMFEMMNTL_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            (void)s4g_ememctr_write( u2s_ECDMFEMMXTL_U2_ID[s4t_i], (void *)&u2t_ECDMFEMMXTL_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            (void)s4g_ememctr_write( u2s_ECDMFAVTV_U2_ID[s4t_i], (void *)&u2t_ECDMFAVTV_MI_c );      /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            (void)s4g_ememctr_write( u2s_ECDMFAVMNTL_U2_ID[s4t_i], (void *)&u2t_ECDMFAVMNTL_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
            (void)s4g_ememctr_write( u2s_ECDMFAVMXTL_U2_ID[s4t_i], (void *)&u2t_ECDMFAVMXTL_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        }
        /* u2g_EMFNG_EXRCDMF_U1_IDÇÕÉNÉäÉAïsóv */
    }
    return( u1t_xreqclr );
}

/*********************************************************************/
/*  ä÷êîñº        | emfng_emode06_cal( )                             */
/*  èàóùì‡óe      | mode$06ëŒâûé∏âŒ∂≥›¿ÇÃëÄçÏ                        */
/*  êßå‰É^ÉCÉ~ÉìÉO| emfng_65msl( )                                   */
/*  à¯êî          | Ç»Çµ                                             */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static void
emfng_emode06_cal( void )
{
#pragma ghs startdata
#if ( JENCYL == u1g_EJCC_6CYL )      /*Åy6ãCìõÅz*/
 #if ( JEEGTYPE == u1g_EJCC_V6CYL )   /*ÅyV6Åz*/
    /*-----------------------------------------------------------------*/
    /*                         t_cyl=0,    1,    2,    3,    4,    5   */
    /* u1s_emfng_CYLMODTBL[t_cyl] Å® 1,    2,    0,    1,    2,    0   */
    /*                              #1#4, #2#5, #3#6, #1#4, #2#5, #3#6 */
    /*-----------------------------------------------------------------*/
    static volatile const u1 u1s_emfng_CYLMODTBL[u1g_EJCC_NCYL] =        /* :ãCìõåQ(ecdmfw[]) Å® ãCìõïœä∑ÉeÅ[ÉuÉã  */
    { (u1)1U, (u1)2U, (u1)0U, (u1)1U, (u1)2U, (u1)0U };                  /* #3#6, #1#4, #2#5  Å® #1,#2,#3,#4,#5,#6 */
 #endif
 #if ( JEEGTYPE == u1g_EJCC_L6CYL )   /*ÅyL6Åz*/
    /*-----------------------------------------------------------------*/
    /*                         t_cyl=0,    1,    2,    3,    4,    5   */
    /* u1s_emfng_CYLMODTBL[t_cyl] Å® 1,    2,    0,    0,    2,    1   */
    /*                              #1#6, #2#5, #3#4, #3#4, #2#5, #1#6 */
    /*-----------------------------------------------------------------*/
    static volatile const u1 u1s_emfng_CYLMODTBL[u1g_EJCC_NCYL] =        /* :ãCìõåQ(ecdmfw[]) Å® ãCìõïœä∑ÉeÅ[ÉuÉã  */
    { (u1)1U, (u1)2U, (u1)0U, (u1)0U, (u1)2U, (u1)1U };                  /* #3#4, #1#6, #2#5  Å® #1,#2,#3,#4,#5,#6 */
 #endif
 #if ( JEEGTYPE == u1g_EJCC_V6CYL )   /*ÅyV6Åz*/
    static volatile const u1 u1s_emfng_CYLWTBL[2][3] = /* :ãCìõåQ(t_cylw) Å® ãCìõïœä∑ÉeÅ[ÉuÉã  */
    {{ (u1)2U, (u1)0U, (u1)1U },              /* #3, #1, #2 */
     { (u1)5U, (u1)3U, (u1)4U }};             /* #6, #4, #5 */
 #elif ( JEEGTYPE == u1g_EJCC_L6CYL ) /*ÅyL6Åz*/
    static volatile const u1 u1s_emfng_CYLWTBL[2][3] = /* :ãCìõåQ(t_cylw) Å® ãCìõïœä∑ÉeÅ[ÉuÉã  */
    {{ (u1)2U, (u1)0U, (u1)1U },              /* #3, #1, #2 */
     { (u1)3U, (u1)5U, (u1)4U }};             /* #4, #6, #5 */
 #endif
#endif
#pragma ghs enddata

    s4  s4t_ecdmfaemTv;     /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ) */
    u2  u2t_ecdmfaemTv;     /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)(èëÇ´çûÇ›óp) */
    u2  u2t_ECDMFAEMMNTL_MI_c;  /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^â∫å¿íl(ëSãCìõ)èâä˙íl */
    u2  u2t_ecdmfaemMxtl;   /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)(èëÇ´çûÇ›óp) */
    s4  s4t_ecdmfaemTvo;    /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)(ëOâÒíl) */
    s4  s4t_ecdmfemTv;      /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï ) */
    u2  u2t_ecdmfemTv;      /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )(èëÇ´çûÇ›óp) */
    u2  u2t_ECDMFEMMNTL_MI_c;   /* lsb=1,unit=âÒ :ÉeÉXÉgåãâ èoóÕópç°ÉgÉäÉbÉvó›êœé∏âŒÉJÉEÉìÉ^â∫å¿íl(ãCìõï )èâä˙íl */
    u2  u2t_ecdmfemMxtl;    /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )(èëÇ´çûÇ›óp) */
    s4  s4t_cyl;
    s4  s4t_cdmfwa;         /* lsb=1,unit=âÒ:ëŒå¸ãCìõé∏âŒÉJÉEÉìÉ^êœéZíl */
#if JENCYL == u1g_EJCC_6CYL     /*Åy6ãCìõÅz*/
    s4  s4t_i;              /* lsb=1 :forÉãÅ[Évïœêî */
    u1  u1t_tblidx;         /* :ãCìõåQ(ecdmfw[]) Å® ãCìõïœä∑√∞ÃﬁŸ éÊìæíl */
    s4  s4t_cdmfwtmp;       /* lsb=1,unit=âÒ:ãCìõï é∏âŒÉJÉEÉìÉ^ÇÃãCìõåQçáåvíl */
    s4  s4t_ecdmfw2;        /* lsb=1,unit=âÒ:ëŒå¸ãCìõé∏âŒ∂≥›¿(ââéZíl) */
    s4  s4t_cdmfemTvtmp[u1g_EJCC_NCYL/2];   /*  lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒÉJÉEÉìÉ^ÇÃÇPãCìõÇ†ÇΩÇËé∏âŒâÒêî */
    s4  s4t_ecdmfw;         /* lsb=1,unit=âÒ :ëŒå¸ãCìõé∏âŒ∂≥›¿ */
    u1  u1t_excdmfw;        /* lsb=1 :ëŒå¸ãCìõé∏âŒîªíËê¨óßÃ◊∏ﬁ */
    u1  u1t_idx1;           /* lsb=1 :ãCìõåQ->ãCìõ1ïœä∑óp‹∞∏ïœêî */
    u1  u1t_idx2;           /* lsb=1 :ãCìõåQ->ãCìõ2ïœä∑óp‹∞∏ïœêî */
    u1 u1t_ncylw_c;         /* lsb=1 :ãCìõåQêî */
#endif
    s4  s4t_ecdmfem[u1g_EJCC_NCYL];         /* lsb=1,unit=âÒ:EMà´âª⁄ÕﬁŸãCìõï é∏âŒ∂≥›¿ */
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                            /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
    u2  u2t_ecdmfaemTv_get; /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2  u2t_ecdmfaemMntl_get;  /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2  u2t_ecdmfaemMxtl_get;  /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ)(ñﬂÇËíléÊìæóp) */
    u2  u2t_dtrid;          /* lsb=1 :√Ωƒåãâ èoóÕÇhÇc */
    u2  u2t_ecdmfemTv_get;  /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2  u2t_ecdmfemMntl_get;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ãCìõï )(ñﬂÇËíléÊìæóp) */
    u2  u2t_ecdmfemMxtl_get;   /* lsb=1,unit=âÒ :√Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ãCìõï )(ñﬂÇËíléÊìæóp) */
#endif
    u1  u1t_ncyl_c;         /* lsb=1 :ãCìõêî */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_ncyl_c = u1g_ejcc_NCYL;
    s4t_ecdmfem[0] = (s4)u1g_emfng_ecdmfem[0];
    for ( s4t_cyl = (s4)1; s4t_cyl < (s4)u1t_ncyl_c; s4t_cyl++ )
    {
        s4t_ecdmfem[s4t_cyl] = (s4)u1g_emfng_ecdmfem[s4t_cyl];
    }
    u2t_ECDMFAEMMNTL_MI_c = u2g_emfng_ECDMFAEMMNTL_MI;
    u2t_ECDMFEMMNTL_MI_c = u2g_emfng_ECDMFEMMNTL_MI;

    /**************************/
    /* ãCìõåQÇÃëçé∏âŒâÒêîéZèo */
    /**************************/
    s4t_cdmfwa = (s4)0;
#if JENCYL == u1g_EJCC_6CYL     /*Åy6ãCìõÅz*/
    u1t_excdmfw = (u1)big_emfng_excdmfw;
    s4t_cdmfemTvtmp[0] = (s4)0; /* ¿ﬁ–∞ê›íË(¡™Ø∂åxçêâÒî) */
    u1t_ncylw_c = u1s_EMFNG_NCYLW;
    for ( s4t_i = (s4)0; s4t_i < (s4)u1t_ncylw_c ; s4t_i++  )
    {
        s4t_cdmfemTvtmp[s4t_i] = (s4)0;

        if ( u1t_excdmfw == (u1)ON )                      /* ëŒå¸ãCìõé∏âŒ */
        {
            s4t_ecdmfw = (s4)u1g_emfng_ecdmfw[s4t_i];

            u1t_idx1 = u1s_emfng_CYLWTBL[0][s4t_i];
            u1t_idx2 = u1s_emfng_CYLWTBL[1][s4t_i];

            s4t_cdmfwtmp =  s4t_ecdmfem[u1t_idx1];  /* îªíËãCìõåQÇÃãCìõ1 */
            s4t_cdmfwtmp += s4t_ecdmfem[u1t_idx2];  /* îªíËãCìõåQÇÃãCìõ2 */

            s4t_ecdmfw2 = (s4)s2g_glmulst_s2s2u2( (s2)s4t_ecdmfw, s2s_emfng_KCDMFWL, (u2)13U );   /* lsb=1*(2/64/256) -> 1 */
            if ( s4t_cdmfwtmp < s4t_ecdmfw2 )
            {
                s4t_cdmfwa += s4t_ecdmfw;
                /* ëŒå¸ãCìõópÇÃÉJÉEÉìÉ^Ç™ëSÇƒ255âÒÇ≈Ç‡ÉIÅ[ÉoÅ[ÉtÉçÅ[Ç»Çµ  */
                s4t_cdmfemTvtmp[s4t_i] = s4g_glbitcal_s4sftr_s4u1( s4t_ecdmfw, (u1)1U );     /* (ecdmfw[]ÇÃäYìñãCìõï™)ÅÄÇQ */
            }
        }
    }
#endif

    /* ecdmfaemëOâÒíl */
    s4t_ecdmfaemTvo = (s4)u2g_emfng_ecdmfaemTv();

    /************************************/
    /* ëSãCìõé∏âŒâÒêî(ecdmfaemTv)ÇÃéZèo */
    /************************************/
    s4t_ecdmfaemTv = s4t_ecdmfaemTvo            /* ëOâÒíl */
                  + s4t_cdmfwa                  /* + EMFCNT_OPPSéûÇÃé∏âŒâÒêîÅy6ãCìõÅz*/
                  + (s4)s2s_emfng_ecdmfaotb;    /* + (ecdmfaot - (ecdtmf2 * KCDTMFAOTB)) */

    /* è„â∫å¿ÉKÅ[Éhèàóù */
    ELIB_HILOGD2( s4t_ecdmfaemTv, (s4)u2g_U2MAX, s4t_ecdmfaemTvo, s4t_ecdmfaemTv );
    u2t_ecdmfaemTv = (u2)s4t_ecdmfaemTv;

    /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ëSãCìõ) */
    (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMTV_U2_ID, (void *)&u2t_ecdmfaemTv );                /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ëSãCìõ) */
    (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMMNTL_U2_ID, (void *)&u2t_ECDMFAEMMNTL_MI_c );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
    /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ëSãCìõ) */
    u2t_ecdmfaemMxtl = (u2)0xffffU;
    (void)s4g_ememctr_write( u2g_EMFNG_ECDMFAEMMXTL_U2_ID, (void *)&u2t_ecdmfaemMxtl );            /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                            /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
    u2t_ecdmfaemTv_get   = u2g_emfng_ecdmfaemTv();
    u2t_ecdmfaemMntl_get = u2g_emfng_ecdmfaemMntl();
    u2t_ecdmfaemMxtl_get = u2g_emfng_ecdmfaemMxtl();
    (void)u1g_wtcif_dem_setdtr_u2s4s4s4u1( u2g_WTCIF_DEM_DTR_ECDMFAEM, (s4)u2t_ecdmfaemTv_get, (s4)u2t_ecdmfaemMntl_get, (s4)u2t_ecdmfaemMxtl_get, u1g_WTCIF_DEM_DTR_CTL_NORMAL );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif

    /**************************************************/
    /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï )ÇÃéZèo */
    /**************************************************/
    for ( s4t_cyl = (s4)0; s4t_cyl < (s4)u1t_ncyl_c ; s4t_cyl++ )
    {
#if JENCYL == u1g_EJCC_6CYL     /*Åy6ãCìõÅz*/
        u1t_tblidx = u1s_emfng_CYLMODTBL[ s4t_cyl ];

        /* ëŒå¸ãCìõï™ */
        s4t_ecdmfemTv = s4t_cdmfemTvtmp[u1t_tblidx];

        s4t_ecdmfemTv += (s4)u2g_emfng_ecdmfemTv( (u1)s4t_cyl );
#else                           /*Åy6ãCìõà»äOÅz*/
        s4t_ecdmfemTv = (s4)u2g_emfng_ecdmfemTv( (u1)s4t_cyl );
#endif
        /* äeãCìõÇ≤Ç∆ÇÃé∏âŒâÒêî */
        s4t_ecdmfemTv += s4t_ecdmfem[s4t_cyl];

        /* è„å¿ÉKÅ[Éhèàóù */
        ELIB_HIGHGD2( s4t_ecdmfemTv,(s4)u2g_U2MAX, s4t_ecdmfemTv );
        u2t_ecdmfemTv = (u2)s4t_ecdmfemTv;

        /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿(ãCìõï ) */
        (void)s4g_ememctr_write( u2s_ECDMFEMTV_U2_ID[s4t_cyl], (void *)&u2t_ecdmfemTv );           /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿â∫å¿íl(ãCìõï ) */
        (void)s4g_ememctr_write( u2s_ECDMFEMMNTL_U2_ID[s4t_cyl], (void *)&u2t_ECDMFEMMNTL_MI_c );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
        /* √Ωƒåãâ èoóÕópç°ƒÿØÃﬂó›êœé∏âŒ∂≥›¿è„å¿íl(ãCìõï ) */
        u2t_ecdmfemMxtl = (u2)0xffffU;
        (void)s4g_ememctr_write( u2s_ECDMFEMMXTL_U2_ID[s4t_cyl], (void *)&u2t_ecdmfemMxtl );       /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#if ( JETCORE_D == u1g_EJCC_USE ) && ( JEOBDUDS_D == u1g_EJCC_NOT_USE )                            /*Åyt-COREëŒâûóLÅzANDÅyOBDonUDSëŒâûñ≥Åz*/
        u2t_dtrid = u2s_emfng_ecdmfem_tbl[s4t_cyl];
        u2t_ecdmfemTv_get   = u2g_emfng_ecdmfemTv( (u1)s4t_cyl );
        u2t_ecdmfemMntl_get = u2g_emfng_ecdmfemMntl( (u1)s4t_cyl );
        u2t_ecdmfemMxtl_get = u2g_emfng_ecdmfemMxtl( (u1)s4t_cyl );
        (void)u1g_wtcif_dem_setdtr_u2s4s4s4u1( u2t_dtrid, (s4)u2t_ecdmfemTv_get, (s4)u2t_ecdmfemMntl_get, (s4)u2t_ecdmfemMxtl_get, u1g_WTCIF_DEM_DTR_CTL_NORMAL );  /* ñﬂÇËílÇÕégópÇµÇ»Ç¢ */
#endif
    }
}

#if JEMFFC == u1g_EJCC_USE  /*ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz*/
/*********************************************************************/
/*  ä÷êîñº        | emfng_exmfotfc_u1( )                             */
/*  èàóùì‡óe      | FCµÃﬂºÆ›îªíËópêGî}OT⁄ÕﬁŸàŸèÌí ímÃ◊∏ﬁÇÃèàóù       */
/*  êßå‰É^ÉCÉ~ÉìÉO| emfng_65msl( )                                   */
/*  à¯êî          | u1t_flg   :lsb=1 ÉtÉâÉOèÓïÒ                      */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ÅyêGî}OTé∏âŒàŸèÌéûFCóLÅz                         */
/*********************************************************************/
void
emfng_exmfotfc_u1( u1 u1t_flg )
{
    s4 s4t_exdmffc;   /* lsb=1:FCµÃﬂºÆ›îªíËópêGî}OT⁄ÕﬁŸàŸèÌí ímÃ◊∏ﬁ */

    s4t_exdmffc = (s4)OFF;
    if ( u1t_flg == (u1)ON )
    {
        s4t_exdmffc = (s4)ON;
    }
    u1g_emfng_exdmffc = (u1)s4t_exdmffc;
}
#endif

#if JEOOBD == u1g_EJCC_USE      /*ÅyésèÍí≤ç∏óLÅz*/
/*********************************************************************/
/*  ä÷êîñº        | emfng_espdaemclr( )                              */
/*  èàóùì‡óe      | ésèÍí≤ç∏RAMÇÃ∏ÿ±                                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| èàóùóvãÅéû                                       */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êîÅyésèÍí≤ç∏óLÅz                           */
/*********************************************************************/
static void
emfng_espdaemclr( void )
{
    /* ÉNÉäÉAèàóù */
    s4s_emfng_espdaem  = (s4)0;
    s4s_emfng_eneaem   = (s4)0;
    s4s_emfng_eklsmaem = (s4)0;
    u1s_emfng_ecjmfneemi = (u1)0U;
    u1s_emfng_ecjmfneeml = (u1)0U;
    u1s_emfng_ecjmfneemh = (u1)0U;
}
#endif

/*********************************************************************/
/*  ä÷êîñº        | emfng_roughjdg_u1u1( )                           */
/*  èàóùì‡óe      | à´òHîªíËä÷òAèàóù                                 */
/*  êßå‰É^ÉCÉ~ÉìÉO| TDCñà(emfng_mfptn_ann_u1u1u1()Ç©ÇÁÉRÅ[Éã)        */
/*  à¯êî          | u1t_xmfne      :lsb=1 é∏âŒñ{îªíË                 */
/*                | u1t_mfkind     :lsb=1 é∏âŒéÌï                    */
/*  ñﬂÇËíl        | Ç»Çµ                                             */
/*  íçà”éñçÄ      | ì‡ïîä÷êî                                         */
/*********************************************************************/
static void
emfng_roughjdg_u1u1( u1 u1t_xmfne, u1 u1t_mfkind )
{
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
    static volatile s2 s2s_emfng_edltmaxlho; /* lsb=1/8,unit=us :í·âÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
    static volatile s2 s2s_emfng_edltmaxhho; /* lsb=1/8,unit=us :çÇâÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
    static volatile s2 s2s_emfng_ewmaxlo;    /* lsb=32/128/256,unit=CA/ms :í·âÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
    static volatile s2 s2s_emfng_ewmaxho;    /* lsb=32/128/256,unit=CA/ms :çÇâÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
#endif

    u2 u2t_ecdtmfwa;        /* lsb=1,unit=âÒ :EMà´âªÉåÉxÉãîªíËópà´òHÉJÉEÉìÉ^ */
    u1 u1t_ecdtmf2;         /* lsb=1,unit=âÒ :êGî}OTÉåÉxÉãîªíËópà´òHÉJÉEÉìÉ^ */
    u1 u1t_exjtmf;          /* lsb=1 :é∏âŒÇÃâºîªíËã÷é~ÉtÉâÉO */
    u1 u1t_exjtmf2;         /* lsb=1 :é∏âŒÇÃñ{îªíËãñâ¬ÉtÉâÉO */
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
    s2 s2t_edltmaxlo;       /* lsb=1/8,unit=us :í·âÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
    s2 s2t_edltmaxho;       /* lsb=1/8,unit=us :çÇâÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
    s2 s2t_edltmaxl;        /* lsb=1/8,unit=us :âÒì]ïœìÆó ÉsÅ[ÉNíl(LowÉÇÅ[Éh) */
    s2 s2t_edltmaxh;        /* lsb=1/8,unit=us :âÒì]ïœìÆó ÉsÅ[ÉNíl(HighÉÇÅ[Éh) */
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
    s2 s2t_ewmaxlo;         /* lsb=32/128/256,unit=CA/ms :í·âÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
    s2 s2t_ewmaxho;         /* lsb=32/128/256,unit=CA/ms :çÇâÒì]àÊâÒì]ïœìÆó ÉsÅ[ÉNílãLâØ */
    s2 s2t_ewmaxl;          /* lsb=32/128/256,unit=CA/ms :âÒì]ïœìÆó ÉsÅ[ÉNíl(LowÉÇÅ[Éh) */
    s2 s2t_ewmaxh;          /* lsb=32/128/256,unit=CA/ms :âÒì]ïœìÆó ÉsÅ[ÉNíl(HighÉÇÅ[Éh) */
#endif
    s2 s2t_espd;            /* lsb=256/256,unit=km/h :é‘ë¨ */
    u1 u1t_ejmfne;          /* lsb=1 :âÒì]óÃàÊîªíËíl */
    s2 s2t_MFSPD_c;         /* lsb=256/256,unit=km/h :ëñçsèÛë‘îªíËíl */
    u1 u1t_CJPMF_c;         /* lsb=1,unit=âÒ :É[ÉçÉNÉçÉXÉJÉEÉìÉ^îªíËíl */

    /* ÉèÅ[ÉNÉfÅ[É^èâä˙âª */
    u1t_exjtmf = (u1)bis_emfng_exjtmf;
    u1t_exjtmf2 = (u1)bis_emfng_exjtmf2;
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
    s2t_edltmaxlo = s2s_emfng_edltmaxlho;
    s2t_edltmaxho = s2s_emfng_edltmaxhho;
    s2t_edltmaxl = s2g_emfcc_edltmaxlh;
    s2t_edltmaxh = s2g_emfcc_edltmaxhh;
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
    s2t_ewmaxlo = s2s_emfng_ewmaxlo;
    s2t_ewmaxho = s2s_emfng_ewmaxho;
    s2t_ewmaxl = s2g_emfcc_ewmaxl;
    s2t_ewmaxh = s2g_emfcc_ewmaxh;
#endif
    s2t_espd = s2g_espd_espd;
    u1t_ejmfne = u1g_emfne_ejmfne;
    s2t_MFSPD_c = s2g_emfcnt_MFSPD;
    u1t_CJPMF_c = u1s_emfng_CJPMF;

    if ( u1t_xmfne == (u1)ON )                             /* ñ{îªíËÉ^ÉCÉ~ÉìÉO */
    {
        /**********************************************/
        /* EMà´âªÉåÉxÉãîªíËópà´òHÉJÉEÉìÉ^ÅA           */
        /* êGî}OTÉåÉxÉãîªíËópà´òHÉJÉEÉìÉ^ÅA           */
        /* ê≥èÌîªíËópà´òHÉJÉEÉìÉ^ÇÃÉJÉEÉìÉgÉAÉbÉví ím */
        /**********************************************/
        u2t_ecdtmfwa = u2s_emfng_ecdtmfwa;
        u1t_ecdtmf2 = u1g_emfng_ecdtmf2;
        if ( ( u1t_mfkind == u1g_EMFCNT_NOT )          /* é∏âŒîªíËïsê¨óß */
          && ( u1t_exjtmf == (u1)OFF )                 /* é∏âŒâºîªíËãñâ¬ */
#if JEMFHOUKI == u1g_EJCC_USAMF /*ÅyëŒïƒñ@ãKÅz*/
          && ( big_emfcnt_exptnup == (u1)OFF )
#endif
          && ( s2t_espd >= s2t_MFSPD_c ) )
        {
            if ( u2t_ecdtmfwa < u2g_U2MAX )
            {
                u2t_ecdtmfwa++;
            }
            if ( u1t_ecdtmf2 < u1g_U1MAX )
            {
                u1t_ecdtmf2++;
            }
            emfok_roughcnt();
        }
        /* RAMÉfÅ[É^Ç…äiî[ */
        u2s_emfng_ecdtmfwa = u2t_ecdtmfwa;
        u1g_emfng_ecdtmf2 = u1t_ecdtmf2;

        /*******************************************************/
        /* é∏âŒÇÃâºîªíËã÷é~ÉtÉâÉO,é∏âŒÇÃñ{îªíËãñâ¬ÉtÉâÉOÇÃëÄçÏ */
        /*******************************************************/
        if ( ( s2t_espd >= s2t_MFSPD_c )
          && ( ( u1t_mfkind == u1g_EMFCNT_LOW )        /* í·âÒì]ë§ÉâÉìÉ_ÉÄé∏âŒ */
            || ( u1t_mfkind == u1g_EMFCNT_HIGH ) ) )   /* çÇâÒì]ë§ÉâÉìÉ_ÉÄé∏âŒ */
        {
            u1t_exjtmf = (u1)ON;
            u1t_exjtmf2 = (u1)ON;                      /* XJTMFÇ∆ìØéûÇ…ON */
            u1s_emfng_ecjpmf = (u1)0U;                 /* É[ÉçÉNÉçÉXÉJÉEÉìÉ^ÇÉNÉäÉA */
        }

        /**************************************/
        /* âÒì]ïœìÆó ÉsÅ[ÉNílÇÃóöóÇÃçXêVèàóù */
        /**************************************/
        if ( ( u1t_mfkind == u1g_EMFCNT_NOT )          /* é∏âŒîªíËïsê¨óß */
          && ( u1t_exjtmf == (u1)ON ) )                /* é∏âŒâºîªíËã÷é~ */
        {
            if ( u1t_exjtmf2 == (u1)ON )
            {
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
                s2t_edltmaxlo = s2t_edltmaxl;
                s2t_edltmaxho = s2t_edltmaxh;
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
                s2t_ewmaxlo = s2t_ewmaxl;
                s2t_ewmaxho = s2t_ewmaxh;
#endif
                u1t_exjtmf2 = (u1)OFF;            /* âÒì]ïœìÆó ÉsÅ[ÉNílÇÃóöóÇÃçXêVéûXJTMF2Å©OFF */
            }
            if ( ( u1t_ejmfne == u1g_EMFNE_REV_LOW )
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
              && ( s2t_edltmaxlo >= s2t_edltmaxl )     /* é∏âŒñ{îªíËãñâ¬ */
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
              && ( s2t_ewmaxlo <= s2t_ewmaxl )         /* é∏âŒñ{îªíËãñâ¬ */
#endif
               )
            {
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
                s2t_edltmaxlo = s2t_edltmaxl;
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
                s2t_ewmaxlo = s2t_ewmaxl;
#endif
                u1t_exjtmf2 = (u1)OFF;            /* âÒì]ïœìÆó ÉsÅ[ÉNílÇÃóöóÇÃçXêVéûXJTMF2Å©OFF */
            }
            if ( ( u1t_ejmfne == u1g_EMFNE_REV_HIGH )
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
              && ( s2t_edltmaxho >= s2t_edltmaxh )     /* é∏âŒñ{îªíËãñâ¬ */
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
              && ( s2t_ewmaxho <= s2t_ewmaxh )         /* é∏âŒñ{îªíËãñâ¬ */
#endif
               )
            {
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
                s2t_edltmaxho = s2t_edltmaxh;
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
                s2t_ewmaxho = s2t_ewmaxh;
#endif
                u1t_exjtmf2 = (u1)OFF;            /* âÒì]ïœìÆó ÉsÅ[ÉNílÇÃóöóÇÃçXêVéûXJTMF2Å©OFF */
            }
        }
    }   /* (t_xmfne ÅÅ ON) end */

    /*******************************************************/
    /* é∏âŒÇÃâºîªíËã÷é~ÉtÉâÉO,é∏âŒÇÃñ{îªíËãñâ¬ÉtÉâÉOÇÃëÄçÏ */
    /*******************************************************/
    if ( ( s2t_espd < s2t_MFSPD_c )
      || ( u1s_emfng_ecjpmf >= u1t_CJPMF_c )
      || ( ( u1t_exjtmf2 == (u1)OFF )
        && ( ( ( u1t_ejmfne == u1g_EMFNE_REV_LOW )
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
            && ( s2t_edltmaxlo < s2t_edltmaxl )
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
            && ( s2t_ewmaxlo > s2t_ewmaxl )
#endif
             )
          || ( ( u1t_ejmfne == u1g_EMFNE_REV_HIGH )
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
            && ( s2t_edltmaxho < s2t_edltmaxh )
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
            && ( s2t_ewmaxho > s2t_ewmaxh )
#endif
             ) )
        && ( u1t_xmfne == (u1)ON )                     /* ñ{îªíËÉ^ÉCÉ~ÉìÉO */
        && ( u1t_mfkind == u1g_EMFCNT_NOT ) ) )        /* í·âÒì]orçÇâÒì]é∏âŒîªíËïsê¨óß */
    {
        u1t_exjtmf = (u1)OFF;                          /* é∏âŒâºîªíËãñâ¬ */
        u1s_emfng_ecjpmf = (u1)0U;                     /* É[ÉçÉNÉçÉXÉJÉEÉìÉ^ÇÉNÉäÉA */
    }
    if ( s2t_espd < s2t_MFSPD_c )
    {
        u1t_exjtmf2 = (u1)OFF;                         /* é∏âŒñ{îªíËã÷é~ */
    }

    /* RAMÉfÅ[É^Ç…äiî[ */
    glbitcp_bibi( u1t_exjtmf, bis_emfng_exjtmf );
    glbitcp_bibi( u1t_exjtmf2, bis_emfng_exjtmf2 );
#if JEMFMETHOD_D == u1g_EJCC_TIME_D    /*Åyé∏âŒÉ¢Tñ@Åz*/
    s2s_emfng_edltmaxlho = s2t_edltmaxlo;
    s2s_emfng_edltmaxhho = s2t_edltmaxho;
#endif
#if JEMFMETHOD_D == u1g_EJCC_OMEGA_D   /*Åyé∏âŒÉ¢É÷ñ@Åz*/
    s2s_emfng_ewmaxlo = s2t_ewmaxlo;
    s2s_emfng_ewmaxho = s2t_ewmaxho;
#endif
}
/**** End of File ****************************************************/
